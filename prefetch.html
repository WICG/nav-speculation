<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>Prefetch</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <link href="https://www.w3.org/StyleSheets/TR/2021/cg-draft" rel="stylesheet">
  <meta content="Bikeshed version 7a96e07ec, updated Mon Jul 14 11:12:36 2025 -0700" name="generator">
  <link href="https://wicg.github.io/nav-speculation/prefetch.html" rel="canonical">
  <meta content="dark light" name="color-scheme">
  <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css">
<style>
dfn var { font-style: italic; } /* override bad base.css */
</style>
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
    --dfnpanel-target-bg: #ffc;
    --dfnpanel-target-outline: orange;
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
        --dfnpanel-target-bg: #333;
        --dfnpanel-target-outline: silver;
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel a:focus {
    outline: 5px auto Highlight;
    outline: 5px auto -webkit-focus-ring-color;
}
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: 8px;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
    transition: left 1s ease-out, bottom 1s ease-out;
}

.dfn-panel .link-item:hover {
    text-decoration: underline;
}
.dfn-panel .link-item .copy-icon {
    opacity: 0;
}
.dfn-panel .link-item:hover .copy-icon,
.dfn-panel .link-item .copy-icon:focus {
    opacity: 1;
}

.dfn-panel .copy-icon {
    display: inline-block;
    margin-right: 0.5em;
    width: 0.85em;
    height: 1em;
    border-radius: 3px;
    background-color: #ccc;
    cursor: pointer;
}

.dfn-panel .copy-icon .icon {
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.dfn-panel .copy-icon .icon::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    background-color: #ccc;
    opacity: 0.25;
    transform: translate(3px, -3px);
}

.dfn-panel .copy-icon:active .icon::before {
    opacity: 1;
}

.dfn-paneled[role="button"] { cursor: help; }

.highlighted {
    animation: target-fade 3s;
}

@keyframes target-fade {
    from {
        background-color: var(--dfnpanel-target-bg);
        outline: 5px solid var(--dfnpanel-target-outline);
    }
    to {
        color: var(--a-normal-text);
        background-color: transparent;
        outline: transparent;
    }
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-ref-hints */
:root {
    --ref-hint-bg: #ddd;
    --ref-hint-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --ref-hint-bg: #222;
        --ref-hint-text: var(--text);
    }
}

.ref-hint {
    display: inline-block;
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.5em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--ref-hint-bg);
    color: var(--ref-hint-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}

.ref-hint * { margin: 0; padding: 0; text-indent: 0; }

.ref-hint ul { padding: 0 0 0 1em; list-style: none; }
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-var-click-highlighting */
/*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

[data-algorithm] var { cursor: pointer; }
var[data-var-color] { background-color: var(--var-bg); box-shadow: 0 0 0 2px var(--var-bg); }

var[data-var-color] { --var-bg: #F4D200; }
var[data-var-color="1"] { --var-bg: #FF87A2; }
var[data-var-color="2"] { --var-bg: #96E885; }
var[data-var-color="3"] { --var-bg: #3EEED2; }
var[data-var-color="4"] { --var-bg: #EACFB6; }
var[data-var-color="5"] { --var-bg: #82DDFF; }
var[data-var-color="6"] { --var-vg: #FFBCF2; }

@media (prefers-color-scheme: dark) {
	var[data-var-color] { --var-bg: #bc1a00; }
	var[data-var-color="1"] { --var-bg: #007f00; }
	var[data-var-color="2"] { --var-bg: #008698; }
	var[data-var-color="3"] { --var-bg: #7f5b2b; }
	var[data-var-color="4"] { --var-bg: #004df3; }
	var[data-var-color="5"] { --var-bg: #a1248a; }
	var[data-var-color="6"] { --var-vg: #ff0000; }
}
</style>
 <body class="h-entry">
  <div class="head">
   <h1 class="p-name no-ref" id="title">Prefetch</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types/#CG-DRAFT">Draft Community Group Report</a>,
    <time class="dt-updated" datetime="2025-07-27">27 July 2025</time></p>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://wicg.github.io/nav-speculation/prefetch.html">https://wicg.github.io/nav-speculation/prefetch.html</a>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/WICG/nav-speculation/issues/">GitHub</a>
     <dd><a href="#issues-index">Inline In Spec</a>
     <dt class="editor">Editors:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:jbroman@chromium.org">Jeremy Roman</a> (<a class="p-org org" href="https://www.google.com/">Google</a>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:d@domenic.me">Domenic Denicola</a> (<a class="p-org org" href="https://www.google.com/">Google</a>)
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> © 2025 the Contributors to the Prefetch Specification, published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a> under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>.
A human-readable <a href="http://www.w3.org/community/about/agreements/cla-deed/">summary</a> is available.
</p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>A specification for navigational prefetching</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p>
  This specification was published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a>.
  It is not a W3C Standard nor is it on the W3C Standards Track.

  Please note that under the
  <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>
  there is a limited opt-out and other conditions apply.

  Learn more about
  <a href="http://www.w3.org/community/">W3C Community and Business Groups</a>.
</p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#concepts"><span class="secno">1</span> <span class="content">Concepts</span></a>
    <li><a href="#html-patches"><span class="secno">2</span> <span class="content">HTML Patches</span></a>
    <li><a href="#navigation-timing-patches"><span class="secno">3</span> <span class="content">Navigation Timing Patches</span></a>
    <li><a href="#service-workers-patches"><span class="secno">4</span> <span class="content">Service Workers Patches</span></a>
    <li><a href="#clear-site-data-patches"><span class="secno">5</span> <span class="content">Clear Site Data patches</span></a>
    <li><a href="#prefetch-algorithms"><span class="secno">6</span> <span class="content">Prefetch algorithms</span></a>
    <li><a href="#cookies"><span class="secno">7</span> <span class="content">Cookies</span></a>
    <li><a href="#sec-purpose-header"><span class="secno">8</span> <span class="content">The `<code><span>Sec-Purpose</span></code>` HTTP request header</span></a>
    <li><a href="#security-considerations"><span class="secno">9</span> <span class="content">Security considerations</span></a>
    <li><a href="#privacy-considerations"><span class="secno">10</span> <span class="content">Privacy considerations</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="concepts"><span class="secno">1. </span><span class="content">Concepts</span><a class="self-link" href="#concepts"></a></h2>
   <p>In light of <a href="https://privacycg.github.io/storage-partitioning/">storage partitioning</a>, this specification defines prefetch for navigations which would occur within the same partition (for example, top-level navigations within the same site) and for navigations which would occur in a separate partition (for example, top-level navigations to a different site).</p>
   <div class="algorithm" data-algorithm="Conflicting credentials exist">
    
    <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="conflicting-credentials-exist">Conflicting credentials exist</dfn> for <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response">response</a> <var>response</var> given <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable">navigable</a> <var>navigable</var> and <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#network-partition-key" id="ref-for-network-partition-key">network partition key</a> <var>sourcePartitionKey</var> if the following steps return true:


    <ol>
     <li data-md>
      <p>Let <var>hypotheticalEnvironment</var> be the result of <a data-link-type="dfn" href="#create-a-reserved-client" id="ref-for-create-a-reserved-client">creating a reserved client</a> given <var>navigable</var>, <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-url" id="ref-for-concept-response-url">URL</a>, and null.</p>
     <li data-md>
      <p>Let <var>hypotheticalPartitionKey</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#determine-the-network-partition-key" id="ref-for-determine-the-network-partition-key">determining the network partition key</a> given <var>hypotheticalEnvironment</var>.</p>
     <li data-md>
      <p>If <var>hypotheticalPartitionKey</var> is equal to <var>sourcePartitionKey</var> or there are no <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#credentials" id="ref-for-credentials">credentials</a> associated with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-url" id="ref-for-concept-response-url①">URL</a> and <var>hypotheticalPartitionKey</var>, then return false.</p>
     <li data-md>
      <p>Let <var>loadingModes</var> be the result of <a data-link-type="dfn" href="prerendering.html#get-the-supported-loading-modes" id="ref-for-get-the-supported-loading-modes">getting the supported loading modes</a> for <var>response</var>.</p>
     <li data-md>
      <p>If <var>loadingModes</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain">contains</a> `<code><a data-link-type="dfn" href="prerendering.html#supports-loading-mode-uncredentialed-prefetch" id="ref-for-supports-loading-mode-uncredentialed-prefetch">uncredentialed-prefetch</a></code>` then return true.</p>
     <li data-md>
      <p>Return false.</p>
    </ol>
   </div>
   <hr>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="exchange-record">exchange record</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item">items</a>:</p>
   <ul>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="exchange record" data-dfn-type="dfn" data-noexport id="exchange-record-request">request</dfn>, a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request">request</a></p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="exchange record" data-dfn-type="dfn" data-noexport id="exchange-record-response">response</dfn>, a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response①">response</a> or null</p>
   </ul>
   <div class="note" role="note">These records can be used to defer checks that would ordinarily happen during a navigate fetch, and to check for modified <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#credentials" id="ref-for-credentials①">credentials</a>.</div>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="redirect-chain">redirect chain</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">list</a> of <a data-link-type="dfn" href="#exchange-record" id="ref-for-exchange-record">exchange records</a>.</p>
   <div class="algorithm" data-algorithm="update the response" data-algorithm-for="redirect chain">
    
    To <dfn class="dfn-paneled" data-dfn-for="redirect chain" data-dfn-type="dfn" data-noexport id="redirect-chain-update-the-response">update the response</dfn> for a <a data-link-type="dfn" href="#redirect-chain" id="ref-for-redirect-chain">redirect chain</a> <var>redirectChain</var> given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request①">request</a> <var>request</var> and <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response②">response</a> <var>response</var>:


    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert">Assert</a>: <var>redirectChain</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-empty" id="ref-for-list-empty">empty</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①">Assert</a>: <var>redirectChain</var>’s last element’s <a data-link-type="dfn" href="#exchange-record-request" id="ref-for-exchange-record-request">request</a> is the same as <var>request</var> and its <a data-link-type="dfn" href="#exchange-record-response" id="ref-for-exchange-record-response">response</a> is null.</p>
     <li data-md>
      <p>Set <var>redirectChain</var>’s last element’s <a data-link-type="dfn" href="#exchange-record-response" id="ref-for-exchange-record-response①">response</a> to <var>response</var>.</p>
    </ol>
   </div>
   <hr>
   <p>Each <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document">Document</a></code> has <dfn class="dfn-paneled" data-dfn-for="Document" data-dfn-type="dfn" data-export id="document-prefetch-records">prefetch records</dfn>, which is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①">list</a> of <a data-link-type="dfn" href="#prefetch-record" id="ref-for-prefetch-record">prefetch records</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="prefetch-record">prefetch record</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①">items</a>:</p>
   <ul>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="prefetch record" data-dfn-type="dfn" data-export id="prefetch-record-tags">tags</dfn>, an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set">ordered set</a> of <a data-link-type="dfn" href="https://whatpr.org/html/11426/speculative-loading.html#speculation-rule-tag" id="ref-for-speculation-rule-tag">speculation rule tags</a></p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="prefetch record" data-dfn-type="dfn" data-export id="prefetch-record-url">URL</dfn>, a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url">URL</a></p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="prefetch record" data-dfn-type="dfn" data-export id="prefetch-record-anonymization-policy">anonymization policy</dfn>, a <a data-link-type="dfn" href="https://whatpr.org/html/11426/speculative-loading.html#prefetch-ip-anonymization-policy" id="ref-for-prefetch-ip-anonymization-policy">prefetch IP anonymization policy</a></p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="prefetch record" data-dfn-type="dfn" data-export id="prefetch-record-referrer-policy">referrer policy</dfn>, a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-referrer-policy/#referrer-policy" id="ref-for-referrer-policy">referrer policy</a></p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="prefetch record" data-dfn-type="dfn" data-export id="prefetch-record-no-vary-search-hint">No-Vary-Search hint</dfn>, a <a data-link-type="dfn" href="https://httpwg.org/http-extensions/draft-ietf-httpbis-no-vary-search.html#name-data-model" id="ref-for-name-data-model">URL search variance</a></p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="prefetch record" data-dfn-type="dfn" data-export id="prefetch-record-source">source</dfn>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string">string</a></p>
     <div class="note" role="note">This is intended for use by a specification or <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined">implementation-defined</a> feature to identify which prefetches it created. It might also associate other data with this struct.</div>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="prefetch record" data-dfn-type="dfn" data-export id="prefetch-record-prerendering-traversable">prerendering traversable</dfn>, a <a data-link-type="dfn" href="prerendering.html#prerendering-traversable" id="ref-for-prerendering-traversable">prerendering traversable</a>, "<code>to be created</code>", or null (null by default)</p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="prefetch record" data-dfn-type="dfn" data-export id="prefetch-record-prerendering-target-navigable-name-hint">prerendering target navigable name hint</dfn>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#valid-navigable-target-name-or-keyword" id="ref-for-valid-navigable-target-name-or-keyword">valid navigable target name or keyword</a> or null (null by default)</p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="prefetch record" data-dfn-type="dfn" data-export id="prefetch-record-state">state</dfn>, which is "<code>ongoing</code>" (the default), "<code>completed</code>", or "<code>canceled</code>"</p>
     <div class="note" role="note">"<code>canceled</code>" indicates that the prefetch was aborted by the author or user, or terminated by the user agent.</div>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="prefetch record" data-dfn-type="dfn" data-export id="prefetch-record-fetch-controller">fetch controller</dfn>, a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-controller" id="ref-for-fetch-controller">fetch controller</a> (a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-controller" id="ref-for-fetch-controller①">fetch controller</a> by default)</p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="prefetch record" data-dfn-type="dfn" data-export id="prefetch-record-redirect-chain">redirect chain</dfn>, a <a data-link-type="dfn" href="#redirect-chain" id="ref-for-redirect-chain①">redirect chain</a> (empty by default)</p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="prefetch record" data-dfn-type="dfn" data-export id="prefetch-record-start-time">start time</dfn>, a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp">DOMHighResTimeStamp</a></code> (0.0 by default)</p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="prefetch record" data-dfn-type="dfn" data-export id="prefetch-record-expiry-time">expiry time</dfn>, a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp①">DOMHighResTimeStamp</a></code> (0.0 by default)</p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="prefetch record" data-dfn-type="dfn" data-export id="prefetch-record-source-partition-key">source partition key</dfn>, a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#network-partition-key" id="ref-for-network-partition-key①">network partition key</a> or null (the default)</p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="prefetch record" data-dfn-type="dfn" data-export id="prefetch-record-isolated-partition-key">isolated partition key</dfn>, a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#network-partition-key" id="ref-for-network-partition-key②">network partition key</a> whose first item is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" id="ref-for-concept-origin-opaque">opaque origin</a> and which represents a separate partition in which cross-partition state can be temporarily stored, or null (the default)</p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="prefetch record" data-dfn-type="dfn" data-export id="prefetch-record-had-conflicting-credentials">had conflicting credentials</dfn>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean">boolean</a> (initially false)</p>
   </ul>
   <div class="note" role="note">This tracks prefetches from when they are started to when they are ultimately used or discarded. Consequently some of these fields are immutable, some pertain to the ongoing activity (like <a data-link-type="dfn" href="#prefetch-record-fetch-controller" id="ref-for-prefetch-record-fetch-controller">fetch controller</a>), and some (like <a data-link-type="dfn" href="#prefetch-record-expiry-time" id="ref-for-prefetch-record-expiry-time">expiry time</a>) are populated when the prefetch completes.</div>
   <p class="note" role="note">Unless the response indicates otherwise using `<code><a data-link-type="http-header" href="https://wicg.github.io/nav-speculation/prerendering.html#http-headerdef-supports-loading-mode" id="ref-for-http-headerdef-supports-loading-mode">Supports-Loading-Mode</a></code>`, a request which would have ordinarily sent credentials but could not due to cross-partition prefetch causes a prefetch to be abandoned.</p>
   <p>A <a data-link-type="dfn" href="#prefetch-record" id="ref-for-prefetch-record①">prefetch record</a>’s <dfn class="dfn-paneled" data-dfn-for="prefetch record" data-dfn-type="dfn" data-export id="prefetch-record-response">response</dfn> is the <a data-link-type="dfn" href="#exchange-record-response" id="ref-for-exchange-record-response②">response</a> of the last element of its <a data-link-type="dfn" href="#prefetch-record-redirect-chain" id="ref-for-prefetch-record-redirect-chain">redirect chain</a>, or null if that list <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty">is empty</a>.</p>
   <p>The user agent may <a data-link-type="dfn" href="#prefetch-record-cancel-and-discard" id="ref-for-prefetch-record-cancel-and-discard">cancel and discard</a> records from the <a data-link-type="dfn" href="#document-prefetch-records" id="ref-for-document-prefetch-records">prefetch records</a> even if they are not expired, e.g., due to resource constraints. Since completed records with expiry times in the past will never be <a data-link-type="dfn" href="#wait-for-a-matching-prefetch-record" id="ref-for-wait-for-a-matching-prefetch-record">matching prefetch records</a>, they can be removed with no observable consequences.</p>
   <div class="algorithm" data-algorithm="matches a URL" data-algorithm-for="prefetch record">
    
    A <a data-link-type="dfn" href="#prefetch-record" id="ref-for-prefetch-record②">prefetch record</a> <var>prefetchRecord</var> <dfn class="dfn-paneled" data-dfn-for="prefetch record" data-dfn-type="dfn" data-export id="prefetch-record-matches-a-url">matches a URL</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①">URL</a> <var>url</var> if the following algorithm returns true:

    <ol>
     <li data-md>
      <p>If <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-url" id="ref-for-prefetch-record-url">URL</a> is equal to <var>url</var>, return true.</p>
     <li data-md>
      <p>If <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-response" id="ref-for-prefetch-record-response">response</a> is not null:</p>
      <ol>
       <li data-md>
        <p>Let <var>searchVariance</var> be the result of <a data-link-type="dfn" href="https://httpwg.org/http-extensions/draft-ietf-httpbis-no-vary-search.html#name-obtain-a-url-search-varianc" id="ref-for-name-obtain-a-url-search-varianc">obtaining a URL search variance</a> given <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-redirect-chain" id="ref-for-prefetch-record-redirect-chain①">redirect chain</a>[0]'s <a data-link-type="dfn" href="#exchange-record-response" id="ref-for-exchange-record-response③">response</a>.</p>
        <p class="advisement">It is important that we check the 0th response, not the last response (i.e. not <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-response" id="ref-for-prefetch-record-response①">response</a>), because the prefetch record’s <a data-link-type="dfn" href="#prefetch-record-url" id="ref-for-prefetch-record-url①">URL</a> is that of the first request/response pair, and so it is only that first response’s `<code><a data-link-type="http-header" href="https://httpwg.org/http-extensions/draft-ietf-httpbis-no-vary-search.html#name-http-header-field-definitio" id="ref-for-name-http-header-field-definitio">No-Vary-Search</a></code>` header that should impact matching.
</p>
       <li data-md>
        <p>If <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-url" id="ref-for-prefetch-record-url②">URL</a> and <var>url</var> are <a data-link-type="dfn" href="https://httpwg.org/http-extensions/draft-ietf-httpbis-no-vary-search.html#name-comparing" id="ref-for-name-comparing">equivalent modulo search variance</a> given <var>searchVariance</var>, return true.</p>
      </ol>
     <li data-md>
      <p>Otherwise, return false.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="is expected to match a URL" data-algorithm-for="prefetch record">
    
    A <a data-link-type="dfn" href="#prefetch-record" id="ref-for-prefetch-record③">prefetch record</a> <var>prefetchRecord</var> <dfn class="dfn-paneled" data-dfn-for="prefetch record" data-dfn-type="dfn" data-export id="prefetch-record-is-expected-to-match-a-url">is expected to match a URL</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url②">URL</a> <var>url</var> if the following algorithm returns true:

    <ol>
     <li data-md>
      <p>If <var>prefetchRecord</var> <a data-link-type="dfn" href="#prefetch-record-matches-a-url" id="ref-for-prefetch-record-matches-a-url">matches a URL</a> given <var>url</var>, return true.</p>
     <li data-md>
      <p>If <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-response" id="ref-for-prefetch-record-response②">response</a> is null:</p>
      <ol>
       <li data-md>
        <p>Let <var>searchVariance</var> be <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-no-vary-search-hint" id="ref-for-prefetch-record-no-vary-search-hint">No-Vary-Search hint</a>.</p>
       <li data-md>
        <p>If <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-url" id="ref-for-prefetch-record-url③">URL</a> and <var>url</var> are <a data-link-type="dfn" href="https://httpwg.org/http-extensions/draft-ietf-httpbis-no-vary-search.html#name-comparing" id="ref-for-name-comparing①">equivalent modulo search variance</a> given <var>searchVariance</var>, return true.</p>
      </ol>
     <li data-md>
      <p>Otherwise, return false.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="cancel and discard" data-algorithm-for="prefetch record">
    
    To <dfn class="dfn-paneled" data-dfn-for="prefetch record" data-dfn-type="dfn" data-export id="prefetch-record-cancel-and-discard">cancel and discard</dfn> a <a data-link-type="dfn" href="#prefetch-record" id="ref-for-prefetch-record④">prefetch record</a> <var>prefetchRecord</var> given a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①">Document</a></code> <var>document</var>, perform the following steps.


    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②">Assert</a>: <var>prefetchRecord</var> is in <var>document</var>’s <a data-link-type="dfn" href="#document-prefetch-records" id="ref-for-document-prefetch-records①">prefetch records</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert③">Assert</a>: <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-state" id="ref-for-prefetch-record-state">state</a> is not "<code>canceled</code>".</p>
     <li data-md>
      <p>Set <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-state" id="ref-for-prefetch-record-state①">state</a> to "<code>canceled</code>".</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-controller-abort" id="ref-for-fetch-controller-abort">Abort</a> <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-fetch-controller" id="ref-for-prefetch-record-fetch-controller①">fetch controller</a>. <span class="note">This will cause any ongoing fetch to be canceled and yield a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error">network error</a>.</span></p>
     <li data-md>
      <p>If <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-prerendering-traversable" id="ref-for-prefetch-record-prerendering-traversable">prerendering traversable</a> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable">traversable navigable</a>, then <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#destroy-a-top-level-traversable" id="ref-for-destroy-a-top-level-traversable">destroy</a> it.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove">Remove</a> <var>prefetchRecord</var> from <var>document</var>’s <a data-link-type="dfn" href="#document-prefetch-records" id="ref-for-document-prefetch-records②">prefetch records</a>.</p>
    </ol>
    <p class="note" role="note">This means that even a completed prefetch or prerender will not be activated. However, the process of prefetching or prerendering might have modified the HTTP cache, making subsequent navigations faster anyway.</p>
   </div>
   <div class="algorithm" data-algorithm="complete" data-algorithm-for="prefetch record">
    
    To <dfn class="dfn-paneled" data-dfn-for="prefetch record" data-dfn-type="dfn" data-export id="prefetch-record-complete">complete</dfn> a <a data-link-type="dfn" href="#prefetch-record" id="ref-for-prefetch-record⑤">prefetch record</a> <var>prefetchRecord</var> given <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②">Document</a></code> <var>document</var>, perform the following steps.


    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert④">Assert</a>: <var>document</var> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active">fully active</a>.</p>
     <li data-md>
      <p>Let <var>currentTime</var> be the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-high-resolution-time" id="ref-for-dfn-current-high-resolution-time">current high resolution time</a> for the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global">relevant global object</a> of <var>document</var>.</p>
     <li data-md>
      <p>Let <var>expiryTime</var> be <var>currentTime</var> + 300000 (i.e., five minutes).</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove①">Remove</a> all elements of <var>document</var>’s <a data-link-type="dfn" href="#document-prefetch-records" id="ref-for-document-prefetch-records③">prefetch records</a> which have the same <a data-link-type="dfn" href="#prefetch-record-url" id="ref-for-prefetch-record-url④">URL</a> as <var>prefetchRecord</var> and whose <a data-link-type="dfn" href="#prefetch-record-state" id="ref-for-prefetch-record-state②">state</a> equals "<code>completed</code>".</p>
     <li data-md>
      <p>Set <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-state" id="ref-for-prefetch-record-state③">state</a> to "<code>completed</code>" and <a data-link-type="dfn" href="#prefetch-record-expiry-time" id="ref-for-prefetch-record-expiry-time①">expiry time</a> to <var>expiryTime</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="find a matching complete prefetch record">
    
    To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="find-a-matching-complete-prefetch-record">find a matching complete prefetch record</dfn> given a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable" id="ref-for-top-level-traversable">top-level traversable</a> <var>navigable</var>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params" id="ref-for-source-snapshot-params">source snapshot params</a> <var>sourceSnapshotParams</var>, and <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url③">URL</a> <var>url</var>:


    <ol>
     <li data-md>
      <p>Let <var>exactRecord</var> be null.</p>
     <li data-md>
      <p>Let <var>inexactRecord</var> be null.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate">For each</a> <var>record</var> of <var>sourceSnapshotParams</var>’s <a data-link-type="dfn" href="#source-snapshot-params-prefetch-records" id="ref-for-source-snapshot-params-prefetch-records">prefetch records</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>record</var>’s <a data-link-type="dfn" href="#prefetch-record-state" id="ref-for-prefetch-record-state④">state</a> is not "<code>completed</code>", then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue">continue</a>.</p>
       <li data-md>
        <p>If <var>record</var>’s <a data-link-type="dfn" href="#prefetch-record-url" id="ref-for-prefetch-record-url⑤">URL</a> is equal to <var>url</var>:</p>
        <ol>
         <li data-md>
          <p>Set <var>exactRecord</var> to <var>record</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break">Break</a>.</p>
        </ol>
       <li data-md>
        <p>If <var>inexactRecord</var> is null and <var>record</var> <a data-link-type="dfn" href="#prefetch-record-matches-a-url" id="ref-for-prefetch-record-matches-a-url①">matches a URL</a> given <var>url</var>:</p>
        <ol>
         <li data-md>
          <p>Set <var>inexactRecord</var> to <var>record</var>.</p>
        </ol>
      </ol>
     <li data-md>
      <p>Let <var>recordToUse</var> be <var>exactRecord</var> if <var>exactRecord</var> is not null, otherwise <var>inexactRecord</var>.</p>
     <li data-md>
      <p>If <var>recordToUse</var> is not null:</p>
      <ol>
       <li data-md>
        <p>Let <var>currentTime</var> be the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-high-resolution-time" id="ref-for-dfn-current-high-resolution-time①">current high resolution time</a> for <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document">active document</a>.</p>
       <li data-md>
        <p>If <var>recordToUse</var>’s <a data-link-type="dfn" href="#prefetch-record-expiry-time" id="ref-for-prefetch-record-expiry-time②">expiry time</a> is less than <var>currentTime</var>, return null.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①">For each</a> <var>exchangeRecord</var> of <var>recordToUse</var>’s <a data-link-type="dfn" href="#prefetch-record-redirect-chain" id="ref-for-prefetch-record-redirect-chain②">redirect chain</a>:</p>
        <ol>
         <li data-md>
          <p>If <a data-link-type="dfn" href="#conflicting-credentials-exist" id="ref-for-conflicting-credentials-exist">conflicting credentials exist</a> for <var>exchangeRecord</var>’s <a data-link-type="dfn" href="#exchange-record-response" id="ref-for-exchange-record-response④">response</a> given <var>navigable</var> and <var>recordToUse</var>’s <a data-link-type="dfn" href="#prefetch-record-source-partition-key" id="ref-for-prefetch-record-source-partition-key">source partition key</a>, return null.</p>
        </ol>
        <div class="note" role="note">This handles the case where there were no cross-partition credentials initially, but there are now. User agents could use a slightly coarser algorithm, such as monitoring whether the cookies for the URL have been modified at all, or storing a hash, timestamp or revision number.</div>
       <li data-md>
        <p>Return <var>recordToUse</var>.</p>
      </ol>
     <li data-md>
      <p>Return null.</p>
    </ol>
    <p class="note" role="note">It’s not obvious, but this doesn’t actually require that the prefetch have received the complete body, just the response headers. In particular, a navigation to a prefetched response might nonetheless not load instantaneously.</p>
    <p class="issue" id="issue-34917491"><a class="self-link" href="#issue-34917491"></a>It might be possible to use cache response headers to determine when a response can be used multiple times, but given the short lifetime of the prefetch buffer it’s unclear whether this is worthwhile.</p>
   </div>
   <div class="algorithm" data-algorithm="wait for a matching prefetch record">
    
    To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="wait-for-a-matching-prefetch-record">wait for a matching prefetch record</dfn> given a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable" id="ref-for-top-level-traversable①">top-level traversable</a> <var>navigable</var>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params" id="ref-for-source-snapshot-params①">source snapshot params</a> <var>sourceSnapshotParams</var>, and <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url④">URL</a> <var>url</var>:


    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑤">Assert</a>: this is running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a>.</p>
     <li data-md>
      <p>Let <var>cutoffTime</var> be null.</p>
     <li data-md>
      <p>While true:</p>
      <ol>
       <li data-md>
        <p>Let <var>completeRecord</var> be the result of <a data-link-type="dfn" href="#find-a-matching-complete-prefetch-record" id="ref-for-find-a-matching-complete-prefetch-record">finding a matching complete prefetch record</a> given <var>navigable</var>, <var>sourceSnapshotParams</var>, and <var>url</var>.</p>
       <li data-md>
        <p>If <var>completeRecord</var> is not null, return <var>completeRecord</var>.</p>
       <li data-md>
        <p>Let <var>potentialRecords</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②">list</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②">For each</a> <var>record</var> of <var>sourceSnapshotParams</var>’s <a data-link-type="dfn" href="#source-snapshot-params-prefetch-records" id="ref-for-source-snapshot-params-prefetch-records①">prefetch records</a>:</p>
        <ol>
         <li data-md>
          <p>If all of the following are true, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append">append</a> <var>record</var> to <var>potentialRecords</var>:</p>
          <ul>
           <li data-md>
            <p><var>record</var>’s <a data-link-type="dfn" href="#prefetch-record-state" id="ref-for-prefetch-record-state⑤">state</a> is "<code>ongoing</code>".</p>
           <li data-md>
            <p><var>record</var> <a data-link-type="dfn" href="#prefetch-record-is-expected-to-match-a-url" id="ref-for-prefetch-record-is-expected-to-match-a-url">is expected to match a URL</a> given <var>url</var>.</p>
           <li data-md>
            <p><var>record</var>’s <a data-link-type="dfn" href="#prefetch-record-expiry-time" id="ref-for-prefetch-record-expiry-time③">expiry time</a> is greater than the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-high-resolution-time" id="ref-for-dfn-current-high-resolution-time②">current high resolution time</a> for <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-window" id="ref-for-nav-window">active window</a>.</p>
           <li data-md>
            <p><var>cutoffTime</var> is null or <var>record</var>’s <a data-link-type="dfn" href="#prefetch-record-start-time" id="ref-for-prefetch-record-start-time">start time</a> is less than <var>cutoffTime</var>.</p>
          </ul>
        </ol>
       <li data-md>
        <p>If <var>potentialRecords</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①">is empty</a>, return null.</p>
       <li data-md>
        <p>Wait until the <a data-link-type="dfn" href="#prefetch-record-state" id="ref-for-prefetch-record-state⑥">state</a> of any element of <var>sourceSnapshotParams</var>’s <a data-link-type="dfn" href="#source-snapshot-params-prefetch-records" id="ref-for-source-snapshot-params-prefetch-records②">prefetch records</a> changes.</p>
       <li data-md>
        <p>If <var>cutoffTime</var> is null and any element of <var>potentialRecords</var> has a <a data-link-type="dfn" href="#prefetch-record-state" id="ref-for-prefetch-record-state⑦">state</a> that is not "<code>ongoing</code>", set <var>cutoffTime</var> to the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-high-resolution-time" id="ref-for-dfn-current-high-resolution-time③">current high resolution time</a> for <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-window" id="ref-for-nav-window①">active window</a>.</p>
      </ol>
    </ol>
    <p class="note" role="note">The reasoning for setting the cutoff time <em>after</em> waiting for a prefetch record to finish is to allow for flexibility in selecting a prefetch to serve the navigation while still guaranteeing falling back to a non-prefetched navigation in the case of repeated prefetch failures. We allow blocking on prefetch attempts which started before we see an attempt fail, but we don’t block on subsequent attempts. Notably, this approach: does not finalize the set of prefetches to block on at the start of the navigation; allows a prefetch which started and completed after the navigation started to serve the navigation; avoids the use of a fixed timeout, which would be arbitrary and detrimental to the use of prefetch with slower servers; and blocks on, at most, two nearly-consecutive prefetches before falling back to a conventional navigation.</p>
   </div>
   <div class="algorithm" data-algorithm="still being speculated" data-algorithm-for="prefetch record">
    
  A <a data-link-type="dfn" href="#prefetch-record" id="ref-for-prefetch-record⑥">prefetch record</a> <var>prefetchRecord</var> is <dfn class="dfn-paneled" data-dfn-for="prefetch record" data-dfn-type="dfn" data-export id="prefetch-record-still-being-speculated">still being speculated</dfn>, given a list of <a data-link-type="dfn" href="https://whatpr.org/html/11426/speculative-loading.html#speculative-load-candidate" id="ref-for-speculative-load-candidate">speculative load candidates</a> <var>candidates</var>, if the following steps return true:


    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③">For each</a> <var>candidate</var> of <var>candidates</var>:</p>
      <ol>
       <li data-md>
        <p>If <var>prefetchRecord</var> does not <a data-link-type="dfn" href="#prefetch-record-matches-a-url" id="ref-for-prefetch-record-matches-a-url②">match a URL</a> given <var>candidate</var>’s <a data-link-type="dfn" href="https://whatpr.org/html/11426/speculative-loading.html#sl-candidate-url" id="ref-for-sl-candidate-url">URL</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①">continue</a>.</p>
       <li data-md>
        <p>If <var>candidate</var> is a <a data-link-type="dfn" href="https://whatpr.org/html/11426/speculative-loading.html#prefetch-candidate" id="ref-for-prefetch-candidate">prefetch candidate</a> and <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-anonymization-policy" id="ref-for-prefetch-record-anonymization-policy">anonymization policy</a> does not equal <var>candidate</var>’s <a data-link-type="dfn" href="https://whatpr.org/html/11426/speculative-loading.html#sl-candidate-anonymization-policy" id="ref-for-sl-candidate-anonymization-policy">anonymization policy</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②">continue</a>.</p>
       <li data-md>
        <p>If <var>candidate</var> is a <a data-link-type="dfn" href="https://whatpr.org/html/11426/speculative-loading.html#prerender-candidate" id="ref-for-prerender-candidate">prerender candidate</a> and <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-prerendering-traversable" id="ref-for-prefetch-record-prerendering-traversable①">prerendering traversable</a> is null, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue③">continue</a>.</p>
       <li data-md>
        <p>Return true.</p>
      </ol>
     <li data-md>
      <p>Return false.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="has a matching prefetch record">
    
  A <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document③">Document</a></code> <var>document</var> <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="has-a-matching-prefetch-record">has a matching prefetch record</dfn> given a <a data-link-type="dfn" href="#prefetch-record" id="ref-for-prefetch-record⑦">prefetch record</a> <var>recordUnderConsideration</var> and an optional boolean <dfn class="dfn-paneled" data-dfn-for="has a matching prefetch record" data-dfn-type="dfn" data-export id="has-a-matching-prefetch-record-checkprerender"><var>checkPrerender</var></dfn> (default false) if the following algorithm returns true:


    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate④">For each</a> <var>record</var> of <var>document</var>’s <a data-link-type="dfn" href="#document-prefetch-records" id="ref-for-document-prefetch-records④">prefetch records</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>record</var>’s <a data-link-type="dfn" href="#prefetch-record-state" id="ref-for-prefetch-record-state⑧">state</a> is "<code>canceled</code>", then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue④">continue</a>.</p>
       <li data-md>
        <p>If <var>checkPrerender</var> is true:</p>
        <ol>
         <li data-md>
          <p>If <var>record</var>’s <a data-link-type="dfn" href="#prefetch-record-prerendering-traversable" id="ref-for-prefetch-record-prerendering-traversable②">prerendering traversable</a> is null, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑤">continue</a>.</p>
         <li data-md>
          <p>If <var>record</var>’s <a data-link-type="dfn" href="#prefetch-record-prerendering-target-navigable-name-hint" id="ref-for-prefetch-record-prerendering-target-navigable-name-hint">prerendering target navigable name hint</a> is not equal to <var>recordUnderConsideration</var>’s <a data-link-type="dfn" href="#prefetch-record-prerendering-target-navigable-name-hint" id="ref-for-prefetch-record-prerendering-target-navigable-name-hint①">prerendering target navigable name hint</a>, then the user agent may <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑥">continue</a>.</p>
          <p class="note" role="note">User agents which create separate <a data-link-type="dfn" href="prerendering.html#prerendering-traversable" id="ref-for-prerendering-traversable①">prerendering traversables</a> depending on the <a data-link-type="dfn" href="#prefetch-record-prerendering-target-navigable-name-hint" id="ref-for-prefetch-record-prerendering-target-navigable-name-hint②">prerendering target navigable name hint</a> will continue here, since they consider such records to be distinct. Whereas, user agents which are able to activate an existing <a data-link-type="dfn" href="prerendering.html#prerendering-traversable" id="ref-for-prerendering-traversable②">prerendering traversable</a> regardless of the <a data-link-type="dfn" href="#prefetch-record-prerendering-target-navigable-name-hint" id="ref-for-prefetch-record-prerendering-target-navigable-name-hint③">prerendering target navigable name hint</a> will consider such records equivalent.</p>
        </ol>
       <li data-md>
        <p>Let <var>recordNVS</var> be null.</p>
       <li data-md>
        <p>If <var>record</var>’s <a data-link-type="dfn" href="#prefetch-record-response" id="ref-for-prefetch-record-response③">response</a> is not null, then set <var>recordNVS</var> to the result of <a data-link-type="dfn" href="https://httpwg.org/http-extensions/draft-ietf-httpbis-no-vary-search.html#name-obtain-a-url-search-varianc" id="ref-for-name-obtain-a-url-search-varianc①">obtaining a URL search variance</a> given <var>record</var>’s <a data-link-type="dfn" href="#prefetch-record-response" id="ref-for-prefetch-record-response④">response</a>.</p>
       <li data-md>
        <p>Otherwise, set <var>recordNVS</var> to <var>record</var>’s <a data-link-type="dfn" href="#prefetch-record-no-vary-search-hint" id="ref-for-prefetch-record-no-vary-search-hint①">No-Vary-Search hint</a>.</p>
       <li data-md>
        <p>If <var>recordUnderConsideration</var>’s <a data-link-type="dfn" href="#prefetch-record-no-vary-search-hint" id="ref-for-prefetch-record-no-vary-search-hint②">No-Vary-Search hint</a> is not equal to <var>recordNVS</var>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑦">continue</a>.</p>
       <li data-md>
        <p>If <var>recordUnderConsideration</var>’s <a data-link-type="dfn" href="#prefetch-record-url" id="ref-for-prefetch-record-url⑥">URL</a> and <var>record</var>’s <a data-link-type="dfn" href="#prefetch-record-url" id="ref-for-prefetch-record-url⑦">URL</a> are <a data-link-type="dfn" href="https://httpwg.org/http-extensions/draft-ietf-httpbis-no-vary-search.html#name-comparing" id="ref-for-name-comparing②">equivalent modulo search variance</a> given <var>recordUnderConsideration</var>’s <a data-link-type="dfn" href="#prefetch-record-no-vary-search-hint" id="ref-for-prefetch-record-no-vary-search-hint③">No-Vary-Search hint</a>, then return true.</p>
      </ol>
     <li data-md>
      <p>Return false.</p>
    </ol>
    <p class="note" role="note">See the discussion `<code><a data-link-type="http-header" href="https://httpwg.org/http-extensions/draft-ietf-httpbis-no-vary-search.html#name-http-header-field-definitio" id="ref-for-name-http-header-field-definitio①">No-Vary-Search</a></code>` comparison <a href="https://whatpr.org/html/11426/document-lifecycle.html#note-sl-candidate-redundant-with-nvs-strictness">in the HTML Standard</a>.</p>
   </div>
   <div class="algorithm" data-algorithm="create navigation params from a prefetch record">
    
    To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="create-navigation-params-from-a-prefetch-record">create navigation params from a prefetch record</dfn> given a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable" id="ref-for-top-level-traversable②">top-level traversable</a> <var>navigable</var>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-2" id="ref-for-document-state-2">document state</a> <var>documentState</var>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-id" id="ref-for-navigation-id">navigation id</a> <var>navigationId</var>, a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/navigation-timing/#dom-navigationtimingtype" id="ref-for-dom-navigationtimingtype">NavigationTimingType</a></code> <var>navTimingType</var>, a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request②">request</a> <var>request</var>, a <a data-link-type="dfn" href="#prefetch-record" id="ref-for-prefetch-record⑧">prefetch record</a> <var>record</var>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#target-snapshot-params" id="ref-for-target-snapshot-params">target snapshot params</a> <var>targetSnapshotParams</var>, and a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params" id="ref-for-source-snapshot-params②">source snapshot params</a> <var>sourceSnapshotParams</var>, perform the following steps.


    <ol>
     <li data-md>
      <p>Let <var>responseOrigin</var> be null.</p>
     <li data-md>
      <p>Let <var>responseCOOP</var> be null.</p>
     <li data-md>
      <p>Let <var>coopEnforcementResult</var> be the result of <a data-link-type="dfn" href="#create-a-cross-origin-opener-policy-enforcement-result-for-navigation" id="ref-for-create-a-cross-origin-opener-policy-enforcement-result-for-navigation">creating a cross-origin opener policy enforcement result for navigation</a> given <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document①">active document</a> and <var>documentState</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-initiator-origin" id="ref-for-document-state-initiator-origin">initiator origin</a>.</p>
     <li data-md>
      <p>Let <var>finalSandboxFlags</var> be an empty <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#sandboxing-flag-set" id="ref-for-sandboxing-flag-set">sandboxing flag set</a>.</p>
     <li data-md>
      <p>Let <var>responsePolicyContainer</var> be null.</p>
     <li data-md>
      <p>Let <var>urlList</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③">list</a>.</p>
     <li data-md>
      <p>Let <var>response</var> be <var>record</var>’s <a data-link-type="dfn" href="#prefetch-record-response" id="ref-for-prefetch-record-response⑤">response</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑤">For each</a> <var>exchangeRecord</var> in <var>record</var>’s <a data-link-type="dfn" href="#prefetch-record-redirect-chain" id="ref-for-prefetch-record-redirect-chain③">redirect chain</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>redirectChainRequest</var> be <var>exchangeRecord</var>’s <a data-link-type="dfn" href="#exchange-record-request" id="ref-for-exchange-record-request①">request</a>.</p>
       <li data-md>
        <p>Let <var>redirectChainResponse</var> be <var>exchangeRecord</var>’s <a data-link-type="dfn" href="#exchange-record-response" id="ref-for-exchange-record-response⑤">response</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①">Append</a> <var>redirectChainRequest</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url">URL</a> to <var>urlList</var>.</p>
       <li data-md>
        <p>Set <var>responsePolicyContainer</var> to the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#creating-a-policy-container-from-a-fetch-response" id="ref-for-creating-a-policy-container-from-a-fetch-response">creating a policy container from a fetch response</a> given <var>redirectChainResponse</var> and <var>redirectChainRequest</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client">reserved client</a>.</p>
       <li data-md>
        <p>Set <var>finalSandboxFlags</var> to the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-union" id="ref-for-set-union">union</a> of <var>targetSnapshotParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#target-snapshot-params-sandbox" id="ref-for-target-snapshot-params-sandbox">sandboxing flags</a> and <var>responsePolicyContainer</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#policy-container-csp-list" id="ref-for-policy-container-csp-list">CSP list</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#csp-derived-sandboxing-flags" id="ref-for-csp-derived-sandboxing-flags">CSP-derived sandboxing flags</a>.</p>
       <li data-md>
        <p>Set <var>responseOrigin</var> to the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#determining-the-origin" id="ref-for-determining-the-origin">determining the origin</a> given <var>redirectChainResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-url" id="ref-for-concept-response-url②">URL</a>, <var>finalSandboxFlags</var>, <var>documentState</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-initiator-origin" id="ref-for-document-state-initiator-origin①">initiator origin</a>, and null.</p>
       <li data-md>
        <p>Set <var>responseCOOP</var> to the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#obtain-coop" id="ref-for-obtain-coop">obtaining a cross-origin opener policy</a> given <var>redirectChainResponse</var> and <var>redirectChainRequest</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client①">reserved client</a>.</p>
       <li data-md>
        <p>Set <var>coopEnforcementResult</var> to the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#coop-enforce" id="ref-for-coop-enforce">enforcing a response’s cross-origin opener policy</a> given <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc" id="ref-for-nav-bc">active browsing context</a>, <var>redirectChainResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-url" id="ref-for-concept-response-url③">URL</a>, <var>responseOrigin</var>, <var>responseCOOP</var>, <var>coopEnforcementResult</var>, and <var>redirectChainRequest</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-referrer" id="ref-for-concept-request-referrer">referrer</a>.</p>
       <li data-md>
        <p>If <var>finalSandboxFlags</var> is not empty and <var>responseCOOP</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#coop-struct-value" id="ref-for-coop-struct-value">value</a> is "<code>unsafe-none</code>", then set <var>response</var> to an appropriate <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error①">network error</a> and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break①">break</a>.</p>
      </ol>
     <li data-md>
      <p>If <var>request</var>’s  <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url①">URL</a> is not equal to <var>urlList</var>[0], then insert <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url②">URL</a> into <var>urlList</var> after the 0th <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item">item</a>.</p>
      <p class="note" id="note-no-vary-search-final-url-impact" role="note"><a class="self-link" href="#note-no-vary-search-final-url-impact"></a>In this case, we are navigating to <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url③">URL</a>, but fulfilling it with a prefetch that came from a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response③">response</a> whose URL is <var>urlList</var>[0], due to `<code><a data-link-type="http-header" href="https://httpwg.org/http-extensions/draft-ietf-httpbis-no-vary-search.html#name-http-header-field-definitio" id="ref-for-name-http-header-field-definitio②">No-Vary-Search</a></code>`. We treat this as if there was a redirect from the 0th response to <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url④">URL</a>. If, after this insertion, <var>urlList</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size">size</a> is 2, then the resulting <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document④">Document</a></code> will use the navigated-to URL. Otherwise, if the size is greater, then this will have no effect.

  </p>
      <div class="example" id="example-simple-nvs">
       <a class="self-link" href="#example-simple-nvs"></a>
    Consider the case where we prefetch <code>/page?param=1</code>, and the server responds with <code>No-Vary-Search: params=("param")</code> and a 200 response code.


       <p>Later, if we navigate to <code>/page?param=2</code>, the prefetch will be used. This step will cause <var>urlList</var> to become « <code>/page?param=1</code>, <code>/page?param=2</code> », so the resulting <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑤">Document</a></code> will have <code>/page?param=2</code> as its <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document-url" id="ref-for-concept-document-url">URL</a>.</p>
      </div>
      <div class="example" id="example-nvs-redirect">
       <a class="self-link" href="#example-nvs-redirect"></a>
    Consider the case where we prefetch <code>/page?param=1</code>, and the server responds with <code>No-Vary-Search: params=("param")</code>, as well as a 301 response code and <code>Location: https://other.example/</code>.


       <p>Later, if we navigate to <code>/page?param=2</code>, the prefetch will be used. This step will cause <var>urlList</var> to become « <code>/page?param=1</code>, <code>/page?param=2</code>, <code>https://other.example/</code> », so the resulting <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑥">Document</a></code> will have <code>https://other.example/</code> as its <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document-url" id="ref-for-concept-document-url①">URL</a>.</p>
      </div>
     <li data-md>
      <p>Set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url-list" id="ref-for-concept-request-url-list">URL list</a> to <var>urlList</var>.</p>
     <li data-md>
      <p><span id="prefetch-activation-client-creation"></span>Set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client②">reserved client</a> to the result of <a data-link-type="dfn" href="#create-a-reserved-client" id="ref-for-create-a-reserved-client①">creating a reserved client</a> given <var>navigable</var> and <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url⑤">URL</a>.</p>
      <p class="note" role="note">This will be the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment" id="ref-for-environment">environment</a> used for constructing the resulting <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑦">Document</a></code> and <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object">environment settings object</a>. We need a separate <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment" id="ref-for-environment①">environment</a> for each time a <a data-link-type="dfn" href="#prefetch-record" id="ref-for-prefetch-record⑨">prefetch record</a> is consumed, instead of using <var>record</var>’s <a data-link-type="dfn" href="#prefetch-record-redirect-chain" id="ref-for-prefetch-record-redirect-chain④">redirect chain</a>’s last item’s <a data-link-type="dfn" href="#exchange-record-request" id="ref-for-exchange-record-request②">request</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client③">reserved client</a>, because otherwise reusing the same prefetch record for multiple <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params" id="ref-for-navigation-params">navigation params</a> (i.e., multiple navigations) would cause the created <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object①">environment settings objects</a> to share an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id" id="ref-for-concept-environment-id">id</a>. This would then be visible, e.g., through the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#dom-clients-get" id="ref-for-dom-clients-get">clients.get()</a></code> API, in a very confusing way.
</p>
     <li data-md>
      <p>Set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client④">reserved client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker">active service worker</a> to <var>record</var>’s <a data-link-type="dfn" href="#prefetch-record-redirect-chain" id="ref-for-prefetch-record-redirect-chain⑤">redirect chain</a>’s last item’s <a data-link-type="dfn" href="#exchange-record-request" id="ref-for-exchange-record-request③">request</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client⑤">reserved client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker①">active service worker</a>.</p>
      <div class="note" id="note-no-vary-search-final-service-worker-impact" role="note">
       <a class="self-link" href="#note-no-vary-search-final-service-worker-impact"></a>
    At this point there are potentially two different service workers that are reasonable choices to control the resulting <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑧">Document</a></code>: the one that intercepted the final response during the prefetch process, and the one whose registration <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#match-service-worker-registration" id="ref-for-match-service-worker-registration">matches</a> the navigated-to URL (i.e. <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url⑥">URL</a>). These will almost always be the same, but in edge cases involving `<code><a data-link-type="http-header" href="https://httpwg.org/http-extensions/draft-ietf-httpbis-no-vary-search.html#name-http-header-field-definitio" id="ref-for-name-http-header-field-definitio③">No-Vary-Search</a></code>` plus web developers who are, for some reason, creating different service workers for <code>/page?param=1</code> vs. <code>/page?param=2</code>, they could differ.


       <p>We choose to use the service worker that intercepted the final response during the prefetch process. This is slightly simpler (requiring no additional service worker lookups), and it matches the behavior for prerendering, where the <a data-link-type="dfn" href="https://wicg.github.io/nav-speculation/prerendering.html#prerendering-traversable-update-the-successor-for-activation" id="ref-for-prerendering-traversable-update-the-successor-for-activation">URL update during activation</a> does not cause a service worker switch.</p>
      </div>
     <li data-md>
      <p>Let <var>resultPolicyContainer</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#determining-navigation-params-policy-container" id="ref-for-determining-navigation-params-policy-container">determining navigation params policy container</a> given <var>record</var>’s <a data-link-type="dfn" href="#prefetch-record-response" id="ref-for-prefetch-record-response⑥">response</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-url" id="ref-for-concept-response-url④">URL</a>, <var>documentState</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-history-policy-container" id="ref-for-document-state-history-policy-container">history policy container</a>, <var>sourceSnapshotParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params-policy-container" id="ref-for-source-snapshot-params-policy-container">source policy container</a>, null, and <var>responsePolicyContainer</var>.</p>
     <li data-md>
      <p>If <var>response</var> is not a network error, then:</p>
      <ol>
       <li data-md>
        <p>Optionally, set <var>response</var> to a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-clone" id="ref-for-concept-response-clone">clone</a> of <var>response</var>.</p>
        <p class="note" role="note">An implementation might wish to do this if it believes that the prefetch will be consumed more than once. For example, if in the future the response is consumed by a prerender, that <a data-link-type="dfn" href="prerendering.html#prerendering-traversable" id="ref-for-prerendering-traversable③">prerendering traversable</a> might be <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#destroy-a-top-level-traversable" id="ref-for-destroy-a-top-level-traversable①">destroyed</a> through various means. Normally that would mean the response is discarded, but if the implementation performs this step, then the prefetched response will still be available to serve a future navigation. <a data-link-type="biblio" href="#biblio-prerendering-revamped" title="Prerendering Revamped">[PRERENDERING-REVAMPED]</a>

</p>
       <li data-md>
        <p>If the user agent did not perform the previous optional step, then it must <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove②">remove</a> <var>record</var> from <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document②">active document</a>’s <a data-link-type="dfn" href="#document-prefetch-records" id="ref-for-document-prefetch-records⑤">prefetch records</a>.</p>
      </ol>
     <li data-md>
      <p>Return a new <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params" id="ref-for-navigation-params①">navigation params</a>, with:</p>
      <dl>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-id" id="ref-for-navigation-params-id">id</a>
       <dd data-md>
        <p><var>navigationId</var></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-request" id="ref-for-navigation-params-request">request</a>
       <dd data-md>
        <p><var>request</var></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-response" id="ref-for-navigation-params-response">response</a>
       <dd data-md>
        <p><var>response</var></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-origin" id="ref-for-navigation-params-origin">origin</a>
       <dd data-md>
        <p><var>responseOrigin</var></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-policy-container" id="ref-for-navigation-params-policy-container">policy container</a>
       <dd data-md>
        <p><var>resultPolicyContainer</var></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-sandboxing" id="ref-for-navigation-params-sandboxing">final sandboxing flag set</a>
       <dd data-md>
        <p><var>finalSandboxFlags</var></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-coop" id="ref-for-navigation-params-coop">cross-origin opener policy</a>
       <dd data-md>
        <p><var>responseCOOP</var></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-coop-enforcement-result" id="ref-for-navigation-params-coop-enforcement-result">COOP enforcement result</a>
       <dd data-md>
        <p><var>coopEnforcementResult</var></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-reserved-environment" id="ref-for-navigation-params-reserved-environment">reserved environment</a>
       <dd data-md>
        <p><var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client⑥">reserved client</a></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-navigable" id="ref-for-navigation-params-navigable">navigable</a>
       <dd data-md>
        <p><var>navigable</var></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-nav-timing-type" id="ref-for-navigation-params-nav-timing-type">navigation timing type</a>
       <dd data-md>
        <p><var>navTimingType</var></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-fetch-controller" id="ref-for-navigation-params-fetch-controller">fetch controller</a>
       <dd data-md>
        <p><var>record</var>’s <a data-link-type="dfn" href="#prefetch-record-fetch-controller" id="ref-for-prefetch-record-fetch-controller②">fetch controller</a></p>
        <p class="note" role="note">In the case where the above <span class="allow-2119">optional</span> step is taken, and thus <var>record</var> could end up generating multiple <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params" id="ref-for-navigation-params②">navigation params</a> via multiple calls to this algorithm, it is OK that all such <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params" id="ref-for-navigation-params③">navigation params</a> share the same <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-fetch-controller" id="ref-for-navigation-params-fetch-controller①">fetch controller</a>. This is because the only use of a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params" id="ref-for-navigation-params④">navigation params</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-fetch-controller" id="ref-for-navigation-params-fetch-controller②">fetch controller</a> is to calculate navigation timing information, which we want to be the same for any reuses.</p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-commit-early-hints" id="ref-for-navigation-params-commit-early-hints">commit early hints</a>
       <dd data-md>
        <p>null</p>
        <p class="note" id="no-early-hints" role="note"><a class="self-link" href="#no-early-hints"></a>This implies that early hints delivered for prefetched documents won’t be processed. This could be revised in the future if it is common for there to be useful resource hints which are not repeated in the main response headers. Since prefetches aren’t currently served until the response headers arrive, early hints would not be processed any earlier than ordinary response headers. It might be possible for a future specification to allow early hints found during prefetching to be used in some way.</p>
       <dt data-md><a data-link-type="dfn" href="#navigation-params-delivery-type" id="ref-for-navigation-params-delivery-type">delivery type</a>
       <dd data-md>
        <p>"<code>navigational-prefetch</code>"</p>
      </dl>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="requires anonymity" data-algorithm-for="prefetch IP anonymization policy">
    
  A <a data-link-type="dfn" href="https://whatpr.org/html/11426/speculative-loading.html#prefetch-ip-anonymization-policy" id="ref-for-prefetch-ip-anonymization-policy①">prefetch IP anonymization policy</a> <var>policy</var> <dfn class="dfn-paneled" data-dfn-for="prefetch IP anonymization policy" data-dfn-type="dfn" data-noexport id="prefetch-ip-anonymization-policy-requires-anonymity">requires anonymity</dfn> for <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request③">request</a> <var>request</var> if the following steps return true:


    <ol>
     <li data-md>
      <p>If <var>policy</var> is a <a data-link-type="dfn" href="https://whatpr.org/html/11426/speculative-loading.html#cross-origin-prefetch-ip-anonymization-policy" id="ref-for-cross-origin-prefetch-ip-anonymization-policy">cross-origin prefetch IP anonymization policy</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url⑦">URL</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin">origin</a> is the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin">same</a> as <var>policy</var>’s <a data-link-type="dfn" href="https://whatpr.org/html/11426/speculative-loading.html#copiap-origin" id="ref-for-copiap-origin">origin</a>, then return false.</p>
       <li data-md>
        <p>Return true.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑥">Assert</a>: <var>policy</var> is null.</p>
     <li data-md>
      <p>Return false.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="2" id="html-patches"><span class="secno">2. </span><span class="content">HTML Patches</span><a class="self-link" href="#html-patches"></a></h2>
   <p>This section contains patches to <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>.</p>
   <p>Add an additional item to <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment" id="ref-for-environment②">environment</a> as follows:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="environment" data-dfn-type="dfn" data-noexport id="environment-is-navigational-prefetch-client">is navigational prefetch client</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①">boolean</a> (default false)</p>
   </dl>
   <p>Add an additional item to <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params" id="ref-for-navigation-params⑤">navigation params</a> as follows:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="navigation params" data-dfn-type="dfn" data-noexport id="navigation-params-delivery-type">delivery type</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①">string</a> (corresponding to <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/resource-timing/#dom-performanceresourcetiming" id="ref-for-dom-performanceresourcetiming">PerformanceResourceTiming</a></code> <a data-link-type="dfn" href="https://w3c.github.io/resource-timing/#dfn-delivery-type" id="ref-for-dfn-delivery-type">delivery type</a>)</p>
   </dl>
   <p>Update all creation sites to supply an empty string, except for any in this document which supply a different value (in <a data-link-type="dfn" href="#create-navigation-params-from-a-prefetch-record" id="ref-for-create-navigation-params-from-a-prefetch-record">create navigation params from a prefetch record</a>).</p>
   <hr>
   <p>Add an additional item to <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params" id="ref-for-source-snapshot-params③">source snapshot params</a> as follows:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="source snapshot params" data-dfn-type="dfn" data-noexport id="source-snapshot-params-prefetch-records">prefetch records</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④">list</a> of <a data-link-type="dfn" href="#prefetch-record" id="ref-for-prefetch-record①⓪">prefetch records</a>.</p>
   </dl>
   <p>Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#snapshotting-source-snapshot-params" id="ref-for-snapshotting-source-snapshot-params">snapshot source snapshot params</a> algorithm to set the return value’s <a data-link-type="dfn" href="#source-snapshot-params-prefetch-records" id="ref-for-source-snapshot-params-prefetch-records③">prefetch records</a> to a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-clone" id="ref-for-list-clone">clone</a> of <var>sourceDocument</var>’s <a data-link-type="dfn" href="#document-prefetch-records" id="ref-for-document-prefetch-records⑥">prefetch records</a>.</p>
   <hr>
   <div class="algorithm" data-algorithm="create a reserved client">
    <div class="note" role="note">This is extracted from <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#create-navigation-params-by-fetching" id="ref-for-create-navigation-params-by-fetching">create navigation params by fetching</a>.</div>
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="create-a-reserved-client">create a reserved client</dfn> given a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable①">navigable</a> <var>navigable</var>, a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑤">URL</a> <var>url</var> and an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" id="ref-for-concept-origin-opaque①">opaque origin</a> or null <var>isolationOrigin</var>:</p>
    <ol>
     <li data-md>
      <p>Let <var>topLevelCreationURL</var> be <var>url</var>.</p>
     <li data-md>
      <p>Let <var>topLevelOrigin</var> be null.</p>
     <li data-md>
      <p>If <var>isolationOrigin</var> is not null, then: </p>
      <ol>
       <li data-md>
        <p>Set <var>topLevelCreationURL</var> to <code>about:blank</code>.</p>
       <li data-md>
        <p>Set <var>topLevelOrigin</var> to <var>isolationOrigin</var>.</p>
      </ol>
     <li data-md>
      <p>Otherwise, if <var>navigable</var> is not a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable" id="ref-for-top-level-traversable③">top-level traversable</a>, then:</p>
      <ol>
       <li data-md>
        <p>Let <var>parentEnvironment</var> be <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent" id="ref-for-nav-parent">parent</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document③">active document</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object">relevant settings object</a>.</p>
       <li data-md>
        <p>Set <var>topLevelCreationURL</var> to <var>parentEnvironment</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-creation-url" id="ref-for-concept-environment-top-level-creation-url">top-level creation URL</a>.</p>
       <li data-md>
        <p>Set <var>topLevelOrigin</var> to <var>parentEnvironment</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin" id="ref-for-concept-environment-top-level-origin">top-level origin</a>.</p>
      </ol>
     <li data-md>
      <p>Return a new <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment" id="ref-for-environment③">environment</a> whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id" id="ref-for-concept-environment-id①">id</a> is a unique opaque string, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-target-browsing-context" id="ref-for-concept-environment-target-browsing-context">target browsing context</a> is <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc" id="ref-for-nav-bc①">active browsing context</a>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url" id="ref-for-concept-environment-creation-url">creation URL</a> is <var>url</var>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-creation-url" id="ref-for-concept-environment-top-level-creation-url①">top-level creation URL</a> is <var>topLevelCreationURL</var>, and <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin" id="ref-for-concept-environment-top-level-origin①">top-level origin</a> is <var>topLevelOrigin</var>.</p>
    </ol>
   </div>
   <hr>
   <div class="algorithm" data-algorithm="create a cross-origin opener policy enforcement result for navigation">
    <div class="note" role="note">This is extracted from <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#create-navigation-params-by-fetching" id="ref-for-create-navigation-params-by-fetching①">create navigation params by fetching</a>.</div>
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="create-a-cross-origin-opener-policy-enforcement-result-for-navigation">create a cross-origin opener policy enforcement result for navigation</dfn> given a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑨">Document</a></code> <var>activeDocument</var> and an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin">origin</a> <var>initiatorOrigin</var>, return a new <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#coop-enforcement-result" id="ref-for-coop-enforcement-result">cross-origin opener policy enforcement result</a> with</p>
    <dl>
     <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#coop-enforcement-url" id="ref-for-coop-enforcement-url">url</a>
     <dd data-md>
      <p><var>activeDocument</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document-url" id="ref-for-concept-document-url②">URL</a></p>
     <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#coop-enforcement-origin" id="ref-for-coop-enforcement-origin">origin</a>
     <dd data-md>
      <p><var>activeDocument</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document-origin" id="ref-for-concept-document-origin">origin</a></p>
     <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#coop-enforcement-coop" id="ref-for-coop-enforcement-coop">cross-origin opener policy</a>
     <dd data-md>
      <p><var>activeDocument</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-document-coop" id="ref-for-concept-document-coop">cross-origin opener policy</a></p>
     <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#coop-enforcement-source" id="ref-for-coop-enforcement-source">current context is navigation source</a>
     <dd data-md>
      <p>true if <var>activeDocument</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document-origin" id="ref-for-concept-document-origin①">origin</a> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①">same origin</a> with <var>initiatorOrigin</var>; otherwise false</p>
    </dl>
   </div>
   <hr>
   <div class="algorithm" data-algorithm="create a navigation request">
    <div class="note" role="note">This is extracted from <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#create-navigation-params-by-fetching" id="ref-for-create-navigation-params-by-fetching②">create navigation params by fetching</a>.</div>
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="create-a-navigation-request">create a navigation request</dfn> given a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry" id="ref-for-session-history-entry">session history entry</a> <var>entry</var>, an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object②">environment settings object</a> <var>fetchClient</var>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable-container" id="ref-for-navigable-container">navigable container</a> or null <var>container</var>, and a boolean <var>hasTransientActivation</var>, perform the following steps.</p>
    <ol>
     <li data-md>
      <p>Let <var>documentResource</var> be <var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state">document state</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-resource" id="ref-for-document-state-resource">resource</a>.</p>
     <li data-md>
      <p>Let <var>request</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request④">request</a>, with</p>
      <dl>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url⑧">url</a>
       <dd data-md>
        <p><var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-url" id="ref-for-she-url">URL</a></p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-policy-container" id="ref-for-concept-request-policy-container">policy container</a>
       <dd data-md>
        <p><var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state①">document state</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-history-policy-container" id="ref-for-document-state-history-policy-container①">history policy container</a></p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client" id="ref-for-concept-request-client">client</a>
       <dd data-md>
        <p><var>fetchClient</var></p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination" id="ref-for-concept-request-destination">destination</a>
       <dd data-md>
        <p>"<code>document</code>"</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode" id="ref-for-concept-request-credentials-mode">credentials mode</a>
       <dd data-md>
        <p>"<code>include</code>"</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-use-url-credentials-flag" id="ref-for-concept-request-use-url-credentials-flag">use-URL-credentials flag</a>
       <dd data-md>
        <p>set</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-redirect-mode" id="ref-for-concept-request-redirect-mode">redirect mode</a>
       <dd data-md>
        <p>"<code>manual</code>"</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-mode" id="ref-for-concept-request-mode">mode</a>
       <dd data-md>
        <p>"<code>navigate</code>"</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-referrer" id="ref-for-concept-request-referrer①">referrer</a>
       <dd data-md>
        <p><var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state②">document state</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-request-referrer" id="ref-for-document-state-request-referrer">request referrer</a></p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-referrer-policy" id="ref-for-concept-request-referrer-policy">referrer policy</a>
       <dd data-md>
        <p><var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state③">document state</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-request-referrer-policy" id="ref-for-document-state-request-referrer-policy">request referrer policy</a></p>
      </dl>
     <li data-md>
      <p>If <var>documentResource</var> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#post-resource" id="ref-for-post-resource">POST resource</a>, then:</p>
      <ol>
       <li data-md>
        <p>Set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method">method</a> to <code>`POST`</code>.</p>
       <li data-md>
        <p>Set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-body" id="ref-for-concept-request-body">body</a> to <var>documentResource</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#post-resource-request-body" id="ref-for-post-resource-request-body">request body</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-set" id="ref-for-concept-header-list-set">Set</a> <code>`Content-Type`</code> to <var>documentResource</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#post-resource-request-content-type" id="ref-for-post-resource-request-content-type">request content-type</a> in <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list">header list</a>.</p>
      </ol>
     <li data-md>
      <p>If <var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state④">document state</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-reload-pending" id="ref-for-document-state-reload-pending">reload pending</a> is true, then set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reload-navigation-flag" id="ref-for-concept-request-reload-navigation-flag">reload-navigation flag</a>.</p>
     <li data-md>
      <p>Otherwise, if <var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state⑤">document state</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-ever-populated" id="ref-for-document-state-ever-populated">ever populated</a> is true, then set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-history-navigation-flag" id="ref-for-concept-request-history-navigation-flag">history-navigation flag</a>.</p>
     <li data-md>
      <p>If <var>hasTransientActivation</var> is true, then set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-user-activation" id="ref-for-request-user-activation">user-activation</a> to true.</p>
     <li data-md>
      <p>If <var>container</var> is non-null:</p>
      <ol>
       <li data-md>
        <p>If <var>container</var> has a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#browsing-context-scope-origin" id="ref-for-browsing-context-scope-origin">browsing context scope origin</a>, then set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-origin" id="ref-for-concept-request-origin">origin</a> to that <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#browsing-context-scope-origin" id="ref-for-browsing-context-scope-origin①">browsing context scope origin</a>.</p>
       <li data-md>
        <p>Set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination" id="ref-for-concept-request-destination①">destination</a> and <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-initiator-type" id="ref-for-request-initiator-type">initiator type</a> to <var>container</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-element-local-name" id="ref-for-concept-element-local-name">local name</a>.</p>
      </ol>
     <li data-md>
      <p>Return <var>request</var>.</p>
    </ol>
   </div>
   <hr>
   <div class="algorithm" data-algorithm="attempt to populate the history entry&apos;s document">
    
    In <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#attempt-to-populate-the-history-entry&apos;s-document" id="ref-for-attempt-to-populate-the-history-entry&apos;s-document">attempt to populate the history entry’s document</a>, replace the step which invokes <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#create-navigation-params-by-fetching" id="ref-for-create-navigation-params-by-fetching③">create navigation params by fetching</a> with the following:


    <ol>
     <li data-md>
      <p>Otherwise, if both of the following are true:</p>
      <ul>
       <li data-md>
        <p><var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-url" id="ref-for-she-url①">URL</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme">scheme</a> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-scheme" id="ref-for-fetch-scheme">fetch scheme</a>; and</p>
       <li data-md>
        <p><var>documentResource</var> is null, or <var>allowPOST</var> is true and <var>documentResource</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#post-resource-request-body" id="ref-for-post-resource-request-body①">request body</a> is not failure</p>
      </ul>
      <p>then:</p>
      <ol>
       <li data-md>
        <p>Let <var>request</var> be the result of <a data-link-type="dfn" href="#create-a-navigation-request" id="ref-for-create-a-navigation-request">creating a navigation request</a> given <var>entry</var>, <var>sourceSnapshotParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params-client" id="ref-for-source-snapshot-params-client">fetch client</a>, <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-container" id="ref-for-nav-container">container</a>, and <var>sourceSnapshotParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params-activation" id="ref-for-source-snapshot-params-activation">has transient activation</a>.</p>
       <li data-md>
        <p>Set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-replaces-client-id" id="ref-for-concept-request-replaces-client-id">replaces client id</a> to <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document④">active document</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object①">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id" id="ref-for-concept-environment-id②">id</a>.</p>
       <li data-md>
        <p>Let <var>prefetched</var> be false.</p>
       <li data-md>
        <p>If <var>documentResource</var> is null and <var>navigable</var> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable" id="ref-for-top-level-traversable④">top-level traversable</a>:</p>
        <ol>
         <li data-md>
          <p>Let <var>prefetchRecord</var> be the result of <a data-link-type="dfn" href="#wait-for-a-matching-prefetch-record" id="ref-for-wait-for-a-matching-prefetch-record①">waiting for a matching prefetch record</a> given <var>navigable</var>, <var>sourceSnapshotParams</var>, and <var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-url" id="ref-for-she-url②">URL</a>.</p>
         <li data-md>
          <p>If <var>prefetchRecord</var> is not null:</p>
          <ol>
           <li data-md>
            <p>Set <var>navigationParams</var> to the result of <a data-link-type="dfn" href="#create-navigation-params-from-a-prefetch-record" id="ref-for-create-navigation-params-from-a-prefetch-record①">creating navigation params from a prefetch record</a> given <var>navigable</var>, <var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state⑥">document state</a>, <var>navigationId</var>, <var>navTimingType</var>, <var>request</var>, <var>prefetchRecord</var>, <var>targetSnapshotParams</var>, and <var>sourceSnapshotParams</var>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="#copy-prefetch-cookies" id="ref-for-copy-prefetch-cookies">Copy prefetch cookies</a> given <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-isolated-partition-key" id="ref-for-prefetch-record-isolated-partition-key">isolated partition key</a> and <var>navigationParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-reserved-environment" id="ref-for-navigation-params-reserved-environment①">reserved environment</a>.</p>
            <div class="note" role="note">This copy is complete before continuing, in the sense that subresource fetches, <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#dom-document-cookie" id="ref-for-dom-document-cookie">document.cookie</a></code>, etc. can observe the cookies. If the prefetch never reached a cross-site URL, there will be no cookies to copy.</div>
           <li data-md>
            <p>Set <var>prefetched</var> to true.</p>
          </ol>
          <p class="note" role="note">The guard on these steps means that prefetches are only ever used to fulfill `<code>GET</code>` requests, and only ever activated into <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable" id="ref-for-top-level-traversable⑤">top-level traversables</a>.</p>
        </ol>
       <li data-md>
        <p>If <var>prefetched</var> is false, then set <var>navigationParams</var> to the result of <a data-link-type="dfn" href="#create-navigation-params-by-fetching" id="ref-for-create-navigation-params-by-fetching④">creating navigation params by fetching</a> given <var>request</var>, <var>entry</var>, <var>navigable</var>, <var>sourceSnapshotParams</var>, <var>targetSnapshotParams</var>, <var>cspNavigationType</var>, <var>navigationId</var>, and <var>navTimingType</var>.</p>
      </ol>
    </ol>
   </div>
   <hr>
   <div class="algorithm" data-algorithm="create navigation params by fetching">
    <div class="note" role="note">This is an update of the existing <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#create-navigation-params-by-fetching" id="ref-for-create-navigation-params-by-fetching⑤">create navigation params by fetching</a> algorithm.</div>
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-navigation-params-by-fetching">create navigation params by fetching</dfn> given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request⑤">request</a> <var>request</var>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry" id="ref-for-session-history-entry①">session history entry</a> <var>entry</var>, a navigable <var>navigable</var>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params" id="ref-for-source-snapshot-params④">source snapshot params</a> <var>sourceSnapshotParams</var>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#target-snapshot-params" id="ref-for-target-snapshot-params①">target snapshot params</a> <var>targetSnapshotParams</var>, a string <var>cspNavigationType</var>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-id" id="ref-for-navigation-id①">navigation ID</a> or null <var>navigationId</var>, a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/navigation-timing/#dom-navigationtimingtype" id="ref-for-dom-navigationtimingtype①">NavigationTimingType</a></code> <var>navTimingType</var>, and an optional <a data-link-type="dfn" href="#prefetch-record" id="ref-for-prefetch-record①①">prefetch record</a> <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-navigation-params-by-fetching-prefetchRecord"><var>prefetchRecord</var></dfn>, perform the following steps.</p>
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑦">Assert</a>: this is running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①">in parallel</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑧">Assert</a>: <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url⑨">URL</a> is <var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-url" id="ref-for-she-url③">URL</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑨">Assert</a>: <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-mode" id="ref-for-concept-request-mode①">mode</a> is "<code>navigate</code>".</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⓪">Assert</a>: <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-redirect-mode" id="ref-for-concept-request-redirect-mode①">redirect mode</a> is "<code>manual</code>".</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①①">Assert</a>: <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client⑦">reserved client</a> is null.</p>
     <li data-md>
      <p>Let <var>response</var> be null.</p>
     <li data-md>
      <p>Let <var>responseOrigin</var> be null.</p>
     <li data-md>
      <p>Let <var>fetchController</var> be null.</p>
     <li data-md>
      <p>Let <var>coopEnforcementResult</var> be the result of <a data-link-type="dfn" href="#create-a-cross-origin-opener-policy-enforcement-result-for-navigation" id="ref-for-create-a-cross-origin-opener-policy-enforcement-result-for-navigation①">creating a cross-origin opener policy enforcement result for navigation</a> given <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document⑤">active document</a> and <var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state⑦">document state</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-initiator-origin" id="ref-for-document-state-initiator-origin②">initiator origin</a>.</p>
     <li data-md>
      <p>Let <var>finalSandboxFlags</var> be an empty <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#sandboxing-flag-set" id="ref-for-sandboxing-flag-set①">sandboxing flag set</a>.</p>
     <li data-md>
      <p>Let <var>responsePolicyContainer</var> be null.</p>
     <li data-md>
      <p>Let <var>responseCOOP</var> be a new <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#cross-origin-opener-policy" id="ref-for-cross-origin-opener-policy">cross-origin opener policy</a>.</p>
     <li data-md>
      <p>Let <var>locationURL</var> be null.</p>
     <li data-md>
      <p>Let <var>currentURL</var> be <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-current-url" id="ref-for-concept-request-current-url">current URL</a>.</p>
     <li data-md>
      <p>Let <var>commitEarlyHints</var> be null.</p>
     <li data-md>
      <p>Let <var>isolationOrigin</var> be null.</p>
     <li data-md>
      <p>If <var>prefetchRecord</var> was given:</p>
      <ol>
       <li data-md>
        <p>Let <var>isolationSite</var> be <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-isolated-partition-key" id="ref-for-prefetch-record-isolated-partition-key①">isolated partition key</a>[0].</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①②">Assert</a>: <var>isolationSite</var> is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" id="ref-for-concept-origin-opaque②">opaque origin</a>.</p>
       <li data-md>
        <p>Set <var>isolationOrigin</var> to <var>isolationSite</var>.</p>
      </ol>
     <li data-md>
      <p>While true:</p>
      <ol>
       <li data-md>
        <p>If <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client⑧">reserved client</a> is not null and <var>currentURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin①">origin</a> is not the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin②">same</a> as <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client⑨">reserved client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url" id="ref-for-concept-environment-creation-url①">creation URL</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin②">origin</a>, then:</p>
        <ol>
         <li data-md>
          <p>Run the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-discarding-steps" id="ref-for-environment-discarding-steps">environment discarding steps</a> for <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client①⓪">reserved client</a>.</p>
         <li data-md>
          <p>Set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client①①">reserved client</a> to null.</p>
         <li data-md>
          <p>Set <var>commitEarlyHints</var> to null.</p>
        </ol>
       <li data-md>
        <p>If <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client①②">reserved client</a> is null, then:</p>
        <ol>
         <li data-md>
          <p>Set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client①③">reserved client</a> to the result of <a data-link-type="dfn" href="#create-a-reserved-client" id="ref-for-create-a-reserved-client②">creating a reserved client</a> given <var>navigable</var>, <var>currentURL</var> and <var>isolationOrigin</var>.</p>
         <li data-md>
          <p>If <var>prefetchRecord</var> was given, then set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client①④">reserved client</a>’s <a data-link-type="dfn" href="#environment-is-navigational-prefetch-client" id="ref-for-environment-is-navigational-prefetch-client">is navigational prefetch client</a> to true.</p>
        </ol>
       <li data-md>
        <p>If the result of <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#should-block-navigation-request" id="ref-for-should-block-navigation-request">should navigation request of type be blocked by Content Security Policy?</a> given <var>request</var> and <var>cspNavigationType</var> is "<code>Blocked</code>", then set <var>response</var> to a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error②">network error</a> and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break②">break</a>. <a data-link-type="biblio" href="#biblio-csp" title="Content Security Policy Level 3">[CSP]</a></p>
       <li data-md>
        <p>If <var>prefetchRecord</var> was given, then:</p>
        <ol>
         <li data-md>
          <p>Let <var>purpose</var> be a <a data-link-type="dfn" href="https://www.rfc-editor.org/rfc/rfc9651.html#name-lists" id="ref-for-name-lists">List</a> containing the <a data-link-type="dfn" href="https://www.rfc-editor.org/rfc/rfc9651.html#name-tokens" id="ref-for-name-tokens">Token</a> <code>prefetch</code>.</p>
         <li data-md>
          <p>If <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-anonymization-policy" id="ref-for-prefetch-record-anonymization-policy①">anonymization policy</a> <a data-link-type="dfn" href="#prefetch-ip-anonymization-policy-requires-anonymity" id="ref-for-prefetch-ip-anonymization-policy-requires-anonymity">requires anonymity</a> for <var>request</var>, then:</p>
          <ol>
           <li data-md>
            <p>Add a parameter whose key is "<a data-link-type="dfn" href="#sec-purpose-prefetch-anonymous-client-ip" id="ref-for-sec-purpose-prefetch-anonymous-client-ip"><code>anonymous-client-ip</code></a>" and whose value is true to the <code>prefetch</code> token in <var>purpose</var>.</p>
           <li data-md>
            <p>The user agent must use a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-connection" id="ref-for-concept-connection">connection</a> which anonymizes the client IP address (e.g., using a proxy) when fetching <var>request</var>, or set <var>response</var> to a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error③">network error</a> and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break③">break</a>.</p>
            <p class="issue" id="issue-9a2d41cc"><a class="self-link" href="#issue-9a2d41cc"></a>At the moment, how IP anonymization is achieved is handwaved. This will probably be done in an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined①">implementation-defined</a> manner using some kind of proxy or relay. Ideally this would be plumbed down to <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-connection-obtain" id="ref-for-concept-connection-obtain">obtain a connection</a>, and possibly even the mechanism could be further standardized.</p>
          </ol>
         <li data-md>
          <p>If <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-prerendering-traversable" id="ref-for-prefetch-record-prerendering-traversable③">prerendering traversable</a> is not null, then add a parameter whose key is "<a data-link-type="dfn" href="#sec-purpose-prefetch-prerender" id="ref-for-sec-purpose-prefetch-prerender"><code>prerender</code></a>" and whose value is true to the <code>prefetch</code> token in <var>purpose</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-set-structured-header" id="ref-for-concept-header-list-set-structured-header">Set a structured field value</a> given (`<code><a data-link-type="http-header" href="https://fetch.spec.whatwg.org/#http-sec-purpose" id="ref-for-http-sec-purpose">Sec-Purpose</a></code>`, <var>purpose</var>) in <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list①">header list</a>.</p>
          <div class="note" role="note">
      Implementations might also send vendor-specific headers, like Chromium’s <code>`Purpose`</code>/<code>`prefetch`</code>, Mozilla’s <code>`X-moz`</code>/<code>`prefetch`</code>, and WebKit’s <code>`X-Purpose`</code>/<code>`preview`</code>, for compatibility with existing server software. Over time we hope implementers and server software authors will adopt this common header.
  </div>
         <li data-md>
          <p>If <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-current-url" id="ref-for-concept-request-current-url①">current URL</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin③">origin</a> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-site" id="ref-for-same-site">same site</a> with <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-url" id="ref-for-prefetch-record-url⑧">URL</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin④">origin</a>, then:</p>
          <ol>
           <li data-md>
            <p>Let <var>tags</var> be a <a data-link-type="dfn" href="https://www.rfc-editor.org/rfc/rfc9651.html#name-lists" id="ref-for-name-lists①">List</a> composed by mapping each <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item①">item</a> in <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-tags" id="ref-for-prefetch-record-tags">tags</a>, sending <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②">strings</a> to <a data-link-type="dfn" href="https://www.rfc-editor.org/rfc/rfc9651.html#name-strings" id="ref-for-name-strings">Strings</a> and null to the <a data-link-type="dfn" href="https://www.rfc-editor.org/rfc/rfc9651.html#name-tokens" id="ref-for-name-tokens①">Token</a> <code>null</code>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-set-structured-header" id="ref-for-concept-header-list-set-structured-header①">Set a structured field value</a> given (`<code><a data-link-type="http-header" href="https://whatpr.org/html/11426/speculative-loading.html#sec-speculation-tags" id="ref-for-sec-speculation-tags">Sec-Speculation-Tags</a></code>`, <var>tags</var>) in <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list②">header list</a>.</p>
          </ol>
         <li data-md>
          <p>If <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-current-url" id="ref-for-concept-request-current-url②">current URL</a> is not <a data-link-type="dfn" href="https://w3c.github.io/webappsec-secure-contexts/#potentially-trustworthy-url" id="ref-for-potentially-trustworthy-url">potentially trustworthy</a>, then set <var>response</var> to a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error④">network error</a> and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break④">break</a>.</p>
          <div class="note" role="note">This is intended to both reduce the likelihood of prefetch traffic being visible to an on-path attacker, and to encourage the use of cryptographic schemes over public networks.</div>
         <li data-md>
          <p>Let <var>proposedPartitionKey</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#determine-the-network-partition-key" id="ref-for-determine-the-network-partition-key①">determining the network partition key</a> given <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client①⑤">reserved client</a>.</p>
         <li data-md>
          <p>If <var>proposedPartitionKey</var> is not equal to <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-source-partition-key" id="ref-for-prefetch-record-source-partition-key①">source partition key</a> and <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-referrer-policy" id="ref-for-concept-request-referrer-policy①">referrer policy</a> is not in the <a data-link-type="dfn" href="#list-of-sufficiently-strict-speculative-navigation-referrer-policies" id="ref-for-list-of-sufficiently-strict-speculative-navigation-referrer-policies">list of sufficiently strict speculative navigation referrer policies</a>, then set <var>response</var> to a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error⑤">network error</a> and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break⑤">break</a>.</p>
          <div class="note" role="note">In practice, this means that cross-site prefetches will abandon rather than expose more information about the referrer URL than the origin.</div>
         <li data-md>
          <p>If <var>request</var> cannot be fetched given <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-anonymization-policy" id="ref-for-prefetch-record-anonymization-policy②">anonymization policy</a> for an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined②">implementation-defined</a> reason, then set <var>response</var> to a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error⑥">network error</a> and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break⑥">break</a>.</p>
          <div class="note" role="note">This explicitly acknowledges that implementations might have additional restrictions. For instance, anonymized traffic might not be possible to some hosts, such as those that are not publicly routable and those that have <a href="https://buettner.github.io/private-prefetch-proxy/traffic-advice.html">traffic advice</a> declining private prefetch traffic.
</div>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②">Append</a> a new <a data-link-type="dfn" href="#exchange-record" id="ref-for-exchange-record①">exchange record</a> whose <a data-link-type="dfn" href="#exchange-record-request" id="ref-for-exchange-record-request④">request</a> is <var>request</var> and <a data-link-type="dfn" href="#exchange-record-response" id="ref-for-exchange-record-response⑥">response</a> is null to <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-redirect-chain" id="ref-for-prefetch-record-redirect-chain⑥">redirect chain</a>.</p>
        </ol>
       <li data-md>
        <p>Set <var>response</var> to null.</p>
       <li data-md>
        <p>If <var>fetchController</var> is null, then set <var>fetchController</var> to the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch">fetching</a> <var>request</var>, with <i><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-processearlyhintsresponse" id="ref-for-fetch-processearlyhintsresponse">processEarlyHintsResponse</a></i> set to <var>processEarlyHintsResponse</var> as defined below, <i><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#process-response" id="ref-for-process-response">processResponse</a></i> set to <var>processResponse</var> as defined below, and <i><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-useparallelqueue" id="ref-for-fetch-useparallelqueue">useParallelQueue</a></i> set to true.</p>
        <p>Let <var>processEarlyHintsResponse</var> be the following algorithm given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response④">response</a> <var>earlyResponse</var>:</p>
        <ol>
         <li data-md>
          <p>If <var>prefetchRecord</var> was given and <var>commitEarlyHints</var> is null, then set <var>commitEarlyHints</var> to the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/semantics.html#process-early-hint-headers" id="ref-for-process-early-hint-headers">processing early hint headers</a> given <var>earlyResponse</var> and <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client①⑥">reserved client</a>. </p>
        </ol>
        <p>Let <var>processResponse</var> be the following algorithm given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response⑤">response</a> <var>fetchedResponse</var>:</p>
        <ol>
         <li data-md>
          <p>Set <var>response</var> to <var>fetchedResponse</var>.</p>
        </ol>
       <li data-md>
        <p>Otherwise, <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-controller-process-the-next-manual-redirect" id="ref-for-fetch-controller-process-the-next-manual-redirect">process the next manual redirect</a> for <var>fetchController</var>.</p>
       <li data-md>
        <p>Wait until either <var>response</var> is non-null, or <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#ongoing-navigation" id="ref-for-ongoing-navigation">ongoing navigation</a> changes to no longer equal <var>navigationId</var>.</p>
        <p>If the latter condition occurs, then <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-controller-abort" id="ref-for-fetch-controller-abort①">abort</a> <var>fetchController</var>, and return. Otherwise, proceed onward. <span class="issue" id="issue-c8ac1f2c"><a class="self-link" href="#issue-c8ac1f2c"></a>This aborts prefetches the moment a navigation starts, which might not be desirable.</span></p>
       <li data-md>
        <p>If <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-body" id="ref-for-concept-request-body①">body</a> is null, then set <var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state⑧">document state</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-resource" id="ref-for-document-state-resource①">resource</a> to null.</p>
       <li data-md>
        <p>Set <var>responsePolicyContainer</var> to the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#creating-a-policy-container-from-a-fetch-response" id="ref-for-creating-a-policy-container-from-a-fetch-response①">creating a policy container from a fetch response</a> given <var>response</var> and <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client①⑦">reserved client</a>.</p>
       <li data-md>
        <p>Set <var>finalSandboxFlags</var> to the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-union" id="ref-for-set-union①">union</a> of <var>targetSnapshotParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#target-snapshot-params-sandbox" id="ref-for-target-snapshot-params-sandbox①">sandboxing flags</a> and <var>responsePolicyContainer</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#policy-container-csp-list" id="ref-for-policy-container-csp-list①">CSP list</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#csp-derived-sandboxing-flags" id="ref-for-csp-derived-sandboxing-flags①">CSP-derived sandboxing flags</a>.</p>
       <li data-md>
        <p>Set <var>responseOrigin</var> to the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#determining-the-origin" id="ref-for-determining-the-origin①">determining the origin</a> given <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-url" id="ref-for-concept-response-url⑤">URL</a>, <var>finalSandboxFlags</var>, <var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state⑨">document state</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-initiator-origin" id="ref-for-document-state-initiator-origin③">initiator origin</a>, and null.</p>
       <li data-md>
        <p>If <var>navigable</var> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable" id="ref-for-top-level-traversable⑥">top-level traversable</a>, and <var>prefetchRecord</var> was not given:</p>
        <ol>
         <li data-md>
          <p>Set <var>responseCOOP</var> to the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#obtain-coop" id="ref-for-obtain-coop①">obtaining a cross-origin opener policy</a> given <var>response</var> and <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client①⑧">reserved client</a>.</p>
         <li data-md>
          <p>Set <var>coopEnforcementResult</var> to the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#coop-enforce" id="ref-for-coop-enforce①">enforcing a response’s cross-origin opener policy</a> given <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc" id="ref-for-nav-bc②">active browsing context</a>, <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url①⓪">URL</a>, <var>responseOrigin</var>, <var>responseCOOP</var>, <var>coopEnforcementResult</var>, and <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-referrer" id="ref-for-concept-request-referrer②">referrer</a>.</p>
         <li data-md>
          <p>If <var>finalSandboxFlags</var> is not empty and <var>responseCOOP</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#coop-struct-value" id="ref-for-coop-struct-value①">value</a> is not "<code>unsafe-none</code>", then set <var>response</var> to an appropriate <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error⑦">network error</a> and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break⑦">break</a>.</p>
        </ol>
        <p class="note" id="note-prefetch-coop-delay" role="note"><a class="self-link" href="#note-prefetch-coop-delay"></a>COOP checks for prefetches are performed at activation time, when we know the target browsing context.
</p>
       <li data-md>
        <p>If <var>response</var> is not a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error⑧">network error</a>, <var>navigable</var> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#child-navigable" id="ref-for-child-navigable">child navigable</a>, and the result of performing a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#cross-origin-resource-policy-check" id="ref-for-cross-origin-resource-policy-check">cross-origin resource policy check</a> with <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-container-document" id="ref-for-nav-container-document">container document</a>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document-origin" id="ref-for-concept-document-origin②">origin</a>, <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-container-document" id="ref-for-nav-container-document①">container document</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object②">relevant settings object</a>, <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination" id="ref-for-concept-request-destination②">destination</a>, <var>response</var>, and true is <strong>blocked</strong>, then set <var>response</var> to a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error⑨">network error</a> and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break⑧">break</a>.</p>
       <li data-md>
        <p>If <var>prefetchRecord</var> was given, then:</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="#redirect-chain-update-the-response" id="ref-for-redirect-chain-update-the-response">Update the response</a> for its <a data-link-type="dfn" href="#prefetch-record-redirect-chain" id="ref-for-prefetch-record-redirect-chain⑦">redirect chain</a> given <var>request</var> and <var>response</var>.</p>
         <li data-md>
          <p>If <a data-link-type="dfn" href="#conflicting-credentials-exist" id="ref-for-conflicting-credentials-exist①">conflicting credentials exist</a> for <var>response</var> given <var>navigable</var> and <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-source-partition-key" id="ref-for-prefetch-record-source-partition-key②">source partition key</a>, then set <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-had-conflicting-credentials" id="ref-for-prefetch-record-had-conflicting-credentials">had conflicting credentials</a> to true.</p>
          <p class="note" role="note">This does not immediately abort the prefetch or stop following redirects, because doing so might reveal whether or not the user has stored state outside the current partition, before the user navigates. Instead, the prefetch continues as though there were no conflicting credentials, except that the prefetch cannot actually be used. User agents might wish to <a data-link-type="dfn" href="https://console.spec.whatwg.org/#report-a-warning-to-the-console" id="ref-for-report-a-warning-to-the-console">report a warning to the console</a> or otherwise inform authors that this has happened.</p>
        </ol>
       <li data-md>
        <p>Set <var>locationURL</var> to <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-location-url" id="ref-for-concept-response-location-url">location URL</a> given <var>currentURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment">fragment</a>.</p>
       <li data-md>
        <p>If <var>locationURL</var> is failure or null, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break⑨">break</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①③">Assert</a>: <var>locationURL</var> is a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑥">URL</a>.</p>
       <li data-md>
        <p>Set <var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-serialized-state" id="ref-for-she-serialized-state">serialized state</a> to <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeforstorage" id="ref-for-structuredserializeforstorage">StructuredSerializeForStorage</a>(null).</p>
       <li data-md>
        <p>Let <var>oldDocState</var> be <var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state①⓪">document state</a>.</p>
       <li data-md>
        <p>Set <var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state①①">document state</a> to a new <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-2" id="ref-for-document-state-2①">document state</a>, with:</p>
        <dl>
         <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-history-policy-container" id="ref-for-document-state-history-policy-container②">history policy container</a>
         <dd data-md>
          <p>a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#clone-a-policy-container" id="ref-for-clone-a-policy-container">clone</a> of <var>oldDocState</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-history-policy-container" id="ref-for-document-state-history-policy-container③">history policy container</a></p>
         <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-request-referrer" id="ref-for-document-state-request-referrer①">request referrer</a>
         <dd data-md>
          <p><var>oldDocState</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-request-referrer" id="ref-for-document-state-request-referrer②">request referrer</a></p>
         <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-request-referrer-policy" id="ref-for-document-state-request-referrer-policy①">request referrer policy</a>
         <dd data-md>
          <p><var>oldDocState</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-request-referrer-policy" id="ref-for-document-state-request-referrer-policy②">request referrer policy</a></p>
         <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-origin" id="ref-for-document-state-origin">origin</a>
         <dd data-md>
          <p><var>oldDocState</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-origin" id="ref-for-document-state-origin①">origin</a></p>
         <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-resource" id="ref-for-document-state-resource②">resource</a>
         <dd data-md>
          <p><var>oldDocState</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-resource" id="ref-for-document-state-resource③">resource</a></p>
         <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-ever-populated" id="ref-for-document-state-ever-populated①">ever populated</a>
         <dd data-md>
          <p><var>oldDocState</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-ever-populated" id="ref-for-document-state-ever-populated②">ever populated</a></p>
         <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-nav-target-name" id="ref-for-document-state-nav-target-name">navigable target name</a>
         <dd data-md>
          <p><var>oldDocState</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-nav-target-name" id="ref-for-document-state-nav-target-name①">navigable target name</a></p>
        </dl>
       <li data-md>
        <p>If <var>locationURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme①">scheme</a> is not an <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#http-scheme" id="ref-for-http-scheme">HTTP(S) scheme</a>, then:</p>
        <ol>
         <li data-md>
          <p>Set <var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state①②">document state</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-resource" id="ref-for-document-state-resource④">resource</a> to null.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break①⓪">Break</a>.</p>
        </ol>
       <li data-md>
        <p>Set <var>currentURL</var> to <var>locationURL</var>.</p>
       <li data-md>
        <p>Set <var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-url" id="ref-for-she-url④">URL</a> to <var>currentURL</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>locationURL</var> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url①①">URL</a> whose <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme②">scheme</a> is not a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-scheme" id="ref-for-fetch-scheme①">fetch scheme</a>, then return a new <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#non-fetch-scheme-navigation-params" id="ref-for-non-fetch-scheme-navigation-params">non-fetch scheme navigation params</a>, with:</p>
      <dl>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#non-fetch-scheme-params-initiator-origin" id="ref-for-non-fetch-scheme-params-initiator-origin">initiator origin</a>
       <dd data-md>
        <p><var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-current-url" id="ref-for-concept-request-current-url③">current URL</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑤">origin</a></p>
      </dl>
     <li data-md>
      <p>If any of the following are true:</p>
      <ul>
       <li data-md>
        <p><var>response</var> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error①⓪">network error</a>;</p>
       <li data-md>
        <p><var>locationURL</var> is failure; or</p>
       <li data-md>
        <p><var>locationURL</var> is a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑦">URL</a> whose <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme③">scheme</a> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-scheme" id="ref-for-fetch-scheme②">fetch scheme</a></p>
      </ul>
        then return null.

     <li data-md>
      <p>Let <var>resultPolicyContainer</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#determining-navigation-params-policy-container" id="ref-for-determining-navigation-params-policy-container①">determining navigation params policy container</a> given <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-url" id="ref-for-concept-response-url⑥">URL</a>, <var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state①③">document state</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-history-policy-container" id="ref-for-document-state-history-policy-container④">history policy container</a>, <var>sourceSnapshotParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params-policy-container" id="ref-for-source-snapshot-params-policy-container①">source policy container</a>, null, and <var>responsePolicyContainer</var>.</p>
     <li data-md>
      <p>Return a new <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params" id="ref-for-navigation-params⑥">navigation params</a>, with:</p>
      <dl>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-id" id="ref-for-navigation-params-id①">id</a>
       <dd data-md>
        <p><var>navigationId</var></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-request" id="ref-for-navigation-params-request①">request</a>
       <dd data-md>
        <p><var>request</var></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-response" id="ref-for-navigation-params-response①">response</a>
       <dd data-md>
        <p><var>response</var></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-origin" id="ref-for-navigation-params-origin①">origin</a>
       <dd data-md>
        <p><var>responseOrigin</var></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-policy-container" id="ref-for-navigation-params-policy-container①">policy container</a>
       <dd data-md>
        <p><var>resultPolicyContainer</var></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-sandboxing" id="ref-for-navigation-params-sandboxing①">final sandboxing flag set</a>
       <dd data-md>
        <p><var>finalSandboxFlags</var></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-coop" id="ref-for-navigation-params-coop①">cross-origin opener policy</a>
       <dd data-md>
        <p><var>responseCOOP</var></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-coop-enforcement-result" id="ref-for-navigation-params-coop-enforcement-result①">COOP enforcement result</a>
       <dd data-md>
        <p><var>coopEnforcementResult</var></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-reserved-environment" id="ref-for-navigation-params-reserved-environment②">reserved environment</a>
       <dd data-md>
        <p><var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client①⑨">reserved client</a></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-navigable" id="ref-for-navigation-params-navigable①">navigable</a>
       <dd data-md>
        <p><var>navigable</var></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-nav-timing-type" id="ref-for-navigation-params-nav-timing-type①">navigation timing type</a>
       <dd data-md>
        <p><var>navTimingType</var></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-fetch-controller" id="ref-for-navigation-params-fetch-controller③">fetch controller</a>
       <dd data-md>
        <p><var>fetchController</var></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-commit-early-hints" id="ref-for-navigation-params-commit-early-hints①">commit early hints</a>
       <dd data-md>
        <p><var>commitEarlyHints</var></p>
      </dl>
    </ol>
   </div>
   <hr>
   <div class="algorithm" data-algorithm="create and initialize a Document object">
    Update the steps to <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-lifecycle.html#initialise-the-document-object" id="ref-for-initialise-the-document-object">create and initialize a Document object</a> to add an additional argument to <a data-link-type="dfn" href="https://w3c.github.io/navigation-timing/#dfn-create-the-navigation-timing-entry" id="ref-for-dfn-create-the-navigation-timing-entry">create the navigation timing entry</a>, as follows: <var>navigationParams</var>’s <a data-link-type="dfn" href="#navigation-params-delivery-type" id="ref-for-navigation-params-delivery-type①">delivery type</a>.
</div>
   <hr>
   <div class="algorithm" data-algorithm=" obtain a browsing context to use for a navigation response">
    
  Modify <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#obtain-browsing-context-navigation" id="ref-for-obtain-browsing-context-navigation">obtain a browsing context to use for a navigation response</a>’s step which checks if <var>sourceOrigin</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-site" id="ref-for-same-site①">same site</a> with <var>destinationOrigin</var> by inserting the following substep:


    <ol>
     <li data-md>
      <p>If <var>navigationParams</var>’s <a data-link-type="dfn" href="#navigation-params-delivery-type" id="ref-for-navigation-params-delivery-type②">delivery type</a> is "<code>prefetch</code>", then optionally set <var>swapGroup</var> to true.</p>
      <p class="note" role="note">This makes it more difficult for the referring site to tell whether the prefetch was used or not by measuring load timing. This helps prevent information about the destination site from leaking to the referring site.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="3" id="navigation-timing-patches"><span class="secno">3. </span><span class="content">Navigation Timing Patches</span><a class="self-link" href="#navigation-timing-patches"></a></h2>
   <p>This section contains patches to <a data-link-type="biblio" href="#biblio-navigation-timing" title="Navigation Timing">[NAVIGATION-TIMING]</a>.</p>
   <div class="algorithm" data-algorithm="create the navigation timing entry">
    Add an additional parameter to <a data-link-type="dfn" href="https://w3c.github.io/navigation-timing/#dfn-create-the-navigation-timing-entry" id="ref-for-dfn-create-the-navigation-timing-entry①">create the navigation timing entry</a>, which is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③">string</a> <var>deliveryType</var>, and pass it as an additional argument to <a data-link-type="dfn" href="https://w3c.github.io/resource-timing/#dfn-setup-the-resource-timing-entry" id="ref-for-dfn-setup-the-resource-timing-entry">setup the resource timing entry</a>.
</div>
   <h2 class="heading settled" data-level="4" id="service-workers-patches"><span class="secno">4. </span><span class="content">Service Workers Patches</span><a class="self-link" href="#service-workers-patches"></a></h2>
   <p>This section contains patches to <a data-link-type="biblio" href="#biblio-service-workers" title="Service Workers">[SERVICE-WORKERS]</a>.</p>
   <div class="algorithm" data-algorithm="Create Fetch Event and Dispatch">
    
  Modify <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#create-fetch-event-and-dispatch" id="ref-for-create-fetch-event-and-dispatch">Create Fetch Event and Dispatch</a>’s step which sets <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#dom-fetchevent-resultingclientid" id="ref-for-dom-fetchevent-resultingclientid">resultingClientId</a></code> as follows:

  
    <blockquote>
     
    If <var>request</var> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#non-subresource-request" id="ref-for-non-subresource-request">non-subresource request</a> and <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination" id="ref-for-concept-request-destination③">destination</a> is not "<code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#dom-requestdestination-report" id="ref-for-dom-requestdestination-report">report</a></code>"
     <ins> and <var>reservedClient</var>’s <a data-link-type="dfn" href="#environment-is-navigational-prefetch-client" id="ref-for-environment-is-navigational-prefetch-client①">is navigational prefetch client</a> is false</ins>
     , initialize <var>e</var>’s <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#dom-fetchevent-resultingclientid" id="ref-for-dom-fetchevent-resultingclientid①">resultingClientId</a></code> attribute to <var>reservedClient</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id" id="ref-for-concept-environment-id③">id</a>, and to the empty string otherwise.
  
    </blockquote>
    <p class="note" role="note">In the prefetch case, although <var>request</var> has a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client②⓪">reserved client</a> at this time, it is just a specification fiction to help the request go through. It does not represent an actual client, of the sort that can be seen in e.g. <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#dom-clients-matchall" id="ref-for-dom-clients-matchall">clients.matchAll()</a></code>. Actual client creation happens <a href="#prefetch-activation-client-creation">at activation time</a>, which will be after the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#fetchevent" id="ref-for-fetchevent">FetchEvent</a></code> is done firing.
</p>
   </div>
   <h2 class="heading settled" data-level="5" id="clear-site-data-patches"><span class="secno">5. </span><span class="content">Clear Site Data patches</span><a class="self-link" href="#clear-site-data-patches"></a></h2>
   <p>Add an additional header value description in <a href="https://w3c.github.io/webappsec-clear-site-data/#header"><cite>Clear Site Data</cite> § 3.1 The Clear-Site-Data HTTP Response Header Field</a>:</p>
   <dl>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="prefetchcache"><code>prefetchCache</code></dfn>"
    <dd data-md>
     <p>The "<code>prefetchCache</code>" type indicates that the server wishes to remove any prefetches initiated by the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑥">origin</a> of a particular <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response⑥">response</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-url" id="ref-for-concept-response-url⑦">URL</a>.

</p>
     <p>This type is a subset of the "<code>cache</code>" type.

</p>
     <p>Implementation details are below.
</p>
   </dl>
   <p>Modify <a data-link-type="abstract-op" href="https://w3c.github.io/webappsec-clear-site-data/#abstract-opdef-parse-responses-clear-site-data-header" id="ref-for-abstract-opdef-parse-responses-clear-site-data-header">parse response’s Clear-Site-Data header</a>’s parsing step such that:</p>
   <ul>
    <li data-md>
     <p>encountering <code>`"cache"`</code> or <code>`"*"`</code> appends "<code><a data-link-type="dfn" href="#prefetchcache" id="ref-for-prefetchcache">prefetchCache</a></code>" to <var>types</var> (in addition to the values already appended in those branches); and</p>
    <li data-md>
     <p>encountering <code>`"prefetchCache"`</code> appends "<code><a data-link-type="dfn" href="#prefetchcache" id="ref-for-prefetchcache①">prefetchCache</a></code>" to <var>types</var>.</p>
   </ul>
   <p>Modify <a data-link-type="abstract-op" href="https://w3c.github.io/webappsec-clear-site-data/#abstract-opdef-clear-site-data-for-response" id="ref-for-abstract-opdef-clear-site-data-for-response">clear site data for response</a>’s switch to add a case that handles "<code><a data-link-type="dfn" href="#prefetchcache" id="ref-for-prefetchcache②">prefetchCache</a></code>" and calls <a data-link-type="dfn" href="#clear-prefetch-cache" id="ref-for-clear-prefetch-cache">clear prefetch cache</a> for <var>origin</var>.</p>
   <div>
    
  To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="clear-prefetch-cache">clear prefetch cache</dfn> given an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①">origin</a> <var>origin</var>:


    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑥">For each</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-top" id="ref-for-nav-top">top-level traversable</a> <var>traversable</var> of the user agent’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable-set" id="ref-for-top-level-traversable-set">top-level traversable set</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>navigables</var> be the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#inclusive-descendant-navigables" id="ref-for-inclusive-descendant-navigables">inclusive descendant navigables</a> of <var>traversable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document⑥">active document</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑦">For each</a> <var>navigable</var> in <var>navigables</var>:</p>
        <ol>
         <li data-md>
          <p>Let <var>activeDocument</var> be the <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document⑦">active document</a>.</p>
         <li data-md>
          <p>If <var>activeDocument</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document-origin" id="ref-for-concept-document-origin③">origin</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin③">same origin</a> with <var>origin</var>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑧">continue</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑧">For each</a> <var>prefetchRecord</var> in <var>activeDocument</var>’s <a data-link-type="dfn" href="#document-prefetch-records" id="ref-for-document-prefetch-records⑦">prefetch records</a>:</p>
          <ol>
           <li data-md>
            <p>If <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-prerendering-traversable" id="ref-for-prefetch-record-prerendering-traversable④">prerendering traversable</a> is not null, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑨">continue</a>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="#prefetch-record-cancel-and-discard" id="ref-for-prefetch-record-cancel-and-discard①">Cancel and discard</a> <var>prefetchRecord</var> given <var>activeDocument</var>.</p>
          </ol>
        </ol>
      </ol>
    </ol>
   </div>
   <h2 class="heading settled" data-level="6" id="prefetch-algorithms"><span class="secno">6. </span><span class="content">Prefetch algorithms</span><a class="self-link" href="#prefetch-algorithms"></a></h2>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="list-of-sufficiently-strict-speculative-navigation-referrer-policies">list of sufficiently strict speculative navigation referrer policies</dfn> is a list containing the following: "", "<code>strict-origin-when-cross-origin</code>", "<code>strict-origin</code>", "<code>same-origin</code>", "<code>no-referrer</code>".</p>
   <div class="algorithm" data-algorithm="start a referrer-initiated navigational prefetch">
    
    To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="start-a-referrer-initiated-navigational-prefetch">start a referrer-initiated navigational prefetch</dfn> given a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①⓪">Document</a></code> <var>document</var> and a <a data-link-type="dfn" href="#prefetch-record" id="ref-for-prefetch-record①②">prefetch record</a> <var>prefetchRecord</var>, perform the following steps.


    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①④">Assert</a>: <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable">node navigable</a> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable" id="ref-for-top-level-traversable⑦">top-level traversable</a>.</p>
      <p class="note" id="note-prefetch-top-level" role="note"><a class="self-link" href="#note-prefetch-top-level"></a>Supporting prefetches in <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#child-navigable" id="ref-for-child-navigable①">child navigables</a> has some complexities and is not currently defined. It might be possible to define in the future.</p>
     <li data-md>
      <p>If <var>document</var> <a data-link-type="dfn" href="#has-a-matching-prefetch-record" id="ref-for-has-a-matching-prefetch-record">has a matching prefetch record</a> given <var>prefetchRecord</var>, then return.</p>
     <li data-md>
      <p>Let <var>sourceSnapshotParams</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#snapshotting-source-snapshot-params" id="ref-for-snapshotting-source-snapshot-params①">snapshotting source snapshot params</a> given <var>document</var>.</p>
     <li data-md>
      <p>Let <var>targetSnapshotParams</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#snapshotting-target-snapshot-params" id="ref-for-snapshotting-target-snapshot-params">snapshotting target snapshot params</a> given <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable①">node navigable</a>.</p>
     <li data-md>
      <p>Set <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-source-partition-key" id="ref-for-prefetch-record-source-partition-key③">source partition key</a> to the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#determine-the-network-partition-key" id="ref-for-determine-the-network-partition-key②">determining the network partition key</a> given <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object③">relevant settings object</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⑤">Assert</a>: <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-url" id="ref-for-prefetch-record-url⑨">URL</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme④">scheme</a> is an <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#http-scheme" id="ref-for-http-scheme①">HTTP(S) scheme</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append③">Append</a> <var>prefetchRecord</var> to <var>document</var>’s <a data-link-type="dfn" href="#document-prefetch-records" id="ref-for-document-prefetch-records⑧">prefetch records</a>.</p>
     <li data-md>
      <p>Set <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-start-time" id="ref-for-prefetch-record-start-time①">start time</a> to the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-high-resolution-time" id="ref-for-dfn-current-high-resolution-time④">current high resolution time</a> for the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①">relevant global object</a> of <var>document</var>.</p>
     <li data-md>
      <p>Let <var>referrerPolicy</var> be <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-referrer-policy" id="ref-for-prefetch-record-referrer-policy">referrer policy</a> if <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-referrer-policy" id="ref-for-prefetch-record-referrer-policy①">referrer policy</a> is not the empty string, and <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-document-policy-container" id="ref-for-concept-document-policy-container">policy container</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#policy-container-referrer-policy" id="ref-for-policy-container-referrer-policy">referrer policy</a> otherwise.</p>
     <li data-md>
      <p>Let <var>documentState</var> be a new <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-2" id="ref-for-document-state-2②">document state</a> with</p>
      <dl>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-request-referrer-policy" id="ref-for-document-state-request-referrer-policy③">request referrer policy</a>
       <dd data-md>
        <p><var>referrerPolicy</var></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-initiator-origin" id="ref-for-document-state-initiator-origin④">initiator origin</a>
       <dd data-md>
        <p><var>document</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document-origin" id="ref-for-concept-document-origin④">origin</a></p>
      </dl>
     <li data-md>
      <p>Let <var>entry</var> be a new <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry" id="ref-for-session-history-entry②">session history entry</a> with</p>
      <dl>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-url" id="ref-for-she-url⑤">URL</a>
       <dd data-md>
        <p><var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-url" id="ref-for-prefetch-record-url①⓪">URL</a></p>
       <dt data-md><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state①④">document state</a>
       <dd data-md>
        <p><var>documentState</var></p>
      </dl>
     <li data-md>
      <p>Let <var>request</var> be the result of <a data-link-type="dfn" href="#create-a-navigation-request" id="ref-for-create-a-navigation-request①">creating a navigation request</a> given <var>entry</var>, <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object④">relevant settings object</a>, <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable②">node navigable</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-container" id="ref-for-nav-container①">container</a>, and false.</p>
     <li data-md>
      <p>Let <var>global</var> be <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global②">relevant global object</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②">In parallel</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>navigationParams</var> be the result of <a data-link-type="dfn" href="#create-navigation-params-by-fetching" id="ref-for-create-navigation-params-by-fetching⑥">creating navigation params by fetching</a> given <var>request</var>, <var>entry</var>, <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable③">node navigable</a>, <var>sourceSnapshotParams</var>, <var>targetSnapshotParams</var>, "<code>other</code>", null (navigationId), "<code>navigate</code>", and <a href="#create-navigation-params-by-fetching-prefetchRecord" id="ref-for-create-navigation-params-by-fetching-prefetchRecord"><i>prefetchRecord</i></a> <var>prefetchRecord</var>.</p>
       <li data-md>
        <p>If <var>navigationParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-response" id="ref-for-navigation-params-response②">response</a> does not <a data-link-type="dfn" href="#supports-prefetch" id="ref-for-supports-prefetch">support prefetch</a>, then set <var>navigationParams</var> to null.</p>
       <li data-md>
        <p>If <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-had-conflicting-credentials" id="ref-for-prefetch-record-had-conflicting-credentials①">had conflicting credentials</a> is true, then set <var>navigationParams</var> to null.</p>
        <div class="note" role="note">This means that if any cross-partition origin along the redirect chain had credentials (and did not override this behavior using `<code><a data-link-type="http-header" href="https://wicg.github.io/nav-speculation/prerendering.html#http-headerdef-supports-loading-mode" id="ref-for-http-headerdef-supports-loading-mode①">Supports-Loading-Mode</a></code>`), the prefetch is discarded. This reduces the chance of the user observing a logged-out page when they are logged in.</div>
       <li data-md>
        <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task">Queue a global task</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source" id="ref-for-networking-task-source">networking task source</a>, given <var>global</var>, to:</p>
        <ol>
         <li data-md>
          <p>If <var>navigationParams</var> is not a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params" id="ref-for-navigation-params⑦">navigation params</a>, then <a data-link-type="dfn" href="#prefetch-record-cancel-and-discard" id="ref-for-prefetch-record-cancel-and-discard②">cancel and discard</a> <var>prefetchRecord</var> given <var>document</var> and abort these steps.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⑥">Assert</a>: <var>navigationParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-response" id="ref-for-navigation-params-response③">response</a> is the <a data-link-type="dfn" href="#exchange-record-response" id="ref-for-exchange-record-response⑦">response</a> of <var>prefetchRecord</var>’s <a data-link-type="dfn" href="#prefetch-record-redirect-chain" id="ref-for-prefetch-record-redirect-chain⑧">redirect chain</a>’s last element.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="#prefetch-record-complete" id="ref-for-prefetch-record-complete">Complete</a> <var>prefetchRecord</var> given <var>document</var>.</p>
        </ol>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="supports prefetch">
    
    A <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response⑦">response</a> <var>response</var> <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="supports-prefetch">supports prefetch</dfn> if the following steps return true:


    <ol>
     <li data-md>
      <p>Let <var>status</var> be <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status">status</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⑦">Assert</a>: <var>status</var> is not a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#redirect-status" id="ref-for-redirect-status">redirect status</a>.</p>
     <li data-md>
      <p>If <var>status</var> is not an <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#ok-status" id="ref-for-ok-status">ok status</a>, then return false.</p>
      <div class="note" role="note">In particular, this means that error responses aren’t stored and will be retried when a navigation occurs. This increases the likelihood of navigations succeeding if the error was transient or due to the request being for prefetch. It also gives server software a simple way to refuse to handle requests which carry a `<code><a data-link-type="http-header" href="https://fetch.spec.whatwg.org/#http-sec-purpose" id="ref-for-http-sec-purpose①">Sec-Purpose</a></code>` request header indicating prefetch.</div>
     <li data-md>
      <p>Return true.</p>
    </ol>
    <div class="note" role="note">
     <p>Although 103 is not an <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#ok-status" id="ref-for-ok-status①">ok status</a>, early hints do not prevent prefetching. The <a data-link-type="dfn" href="#supports-prefetch" id="ref-for-supports-prefetch①">supports prefetch</a> predicate is only used on the actual <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response⑧">response</a>, which never has a 1xx status.

      </p>
     <p>That said, as <a href="#no-early-hints">noted elsewhere</a>, early hints are currently ignored during prefetching.</p>
    </div>
   </div>
   <h2 class="heading settled" data-level="7" id="cookies"><span class="secno">7. </span><span class="content">Cookies</span><a class="self-link" href="#cookies"></a></h2>
   <p><a data-link-type="biblio" href="#biblio-cookies" title="HTTP State Management Mechanism">[COOKIES]</a> defines "cookies" which can be set using the `<code><a data-link-type="http-header" href="https://httpwg.org/specs/rfc6265.html#set-cookie" id="ref-for-set-cookie">Set-Cookie</a></code>` response header field. Because the "<code>uncredentialed</code>" partitioning scheme forces a separate <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#network-partition-key" id="ref-for-network-partition-key③">network partition key</a> to be used, it’s necessary to copy these cookies into the ordinary partition as though they had been <a data-link-type="dfn" href="https://httpwg.org/specs/rfc6265.html#storage-model" id="ref-for-storage-model">received</a> at the time of navigation.</p>
   <div class="issue" id="issue-4f58f5c7"><a class="self-link" href="#issue-4f58f5c7"></a>Cache, though not necessary for correctness, would be useful to copy, too.</div>
   <div class="issue" id="issue-d2dc3650"><a class="self-link" href="#issue-d2dc3650"></a>Authentication entries can be acquired while cross-site, though this seems likely to be rare. (For instance, a site might redirect to a URL which contains URL credentials.) It might be reasonable to copy these, too, though it’s unclear whether we actually want to encourage this.</div>
   <div class="algorithm" data-algorithm="copy prefetch cookies">
    
  To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="copy-prefetch-cookies">copy prefetch cookies</dfn> given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#network-partition-key" id="ref-for-network-partition-key④">network partition key</a> <var>isolatedPartitionKey</var> and an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment" id="ref-for-environment④">environment</a> <var>environment</var>, perform the following steps.

  
    <div class="note" role="note">
    Though formally there is only one cookie store in <a data-link-type="biblio" href="#biblio-cookies" title="HTTP State Management Mechanism">[COOKIES]</a>, some browsers partition cookie stores so as to separate, for example, cookies with the same domain when loaded with different top-level sites. See <a href="https://github.com/privacycg/storage-partitioning">Client-Side Storage Partitioning (Privacy CG)</a>.
  </div>
    <ol>
     <li data-md>
      <p>Let <var>isolatedCookieStore</var> be the cookie store associated with <var>isolatedPartitionKey</var>.</p>
     <li data-md>
      <p>For each <a data-link-type="dfn" data-refhint-key="574eb588" href="https://httpwg.org/specs/rfc6265.html#storage-model" id="ref-for-storage-model①">cookie</a> <var>cookie</var> in <var>isolatedCookieStore</var>.</p>
      <ol>
       <li data-md>
        <p>Remove <var>cookie</var> from <var>isolatedCookieStore</var>.</p>
       <li data-md>
        <p>A user agent may ignore a cookie in its entirety. If so, continue.</p>
        <div class="note" role="note">This is consistent with <a data-link-type="biblio" href="#biblio-cookies" title="HTTP State Management Mechanism">[COOKIES]</a> expressly permitting this when <a data-link-type="dfn" href="https://httpwg.org/specs/rfc6265.html#storage-model" id="ref-for-storage-model②">receiving a cookie</a>.</div>
       <li data-md>
        <p>Let <var>topLevelSite</var> be null.</p>
       <li data-md>
        <p>If <var>environment</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-target-browsing-context" id="ref-for-concept-environment-target-browsing-context①">target browsing context</a> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context" id="ref-for-top-level-browsing-context">top-level browsing context</a>:</p>
        <ol>
         <li data-md>
          <p>Set <var>topLevelSite</var> to the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#obtain-a-site" id="ref-for-obtain-a-site">obtaining a site</a> given <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-tuple" id="ref-for-concept-origin-tuple">tuple origin</a> ("<code>https</code>", <var>cookie</var>’s domain, null, null).</p>
          <div class="note" role="note">The use of the "<code>https</code>" scheme and null port here is arbitrary because cookies are visible across schemes and ports, in contrast to the usual same origin policy. The user agent’s choice of associated cookie store, therefore, cannot be sensitive to either.</div>
        </ol>
        <div class="note" role="note">When performing a prefetch in a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context" id="ref-for-top-level-browsing-context①">top-level browsing context</a>, the request (including all redirects) is preparing for a top-level navigation. <var>environment</var>’s top-level site changes as redirects are followed, and since a redirect might be cross-site, <var>environment</var>’s top-level site might have changed since a given cookie was received. However, since the navigation is top-level, the origin delivering the cookie would have been the top-level site at the time. Since the cookie’s domain has to be same-site with an origin delivering it, the cookie’s domain can be used to determine the correct top-level site.</div>
       <li data-md>
        <p>Otherwise:</p>
        <ol>
         <li data-md>
          <p>Let <var>topLevelOrigin</var> be <var>environment</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin" id="ref-for-concept-environment-top-level-origin②">top-level origin</a>.</p>
         <li data-md>
          <p>If <var>topLevelOrigin</var> is null, then set <var>topLevelOrigin</var> to <var>environment</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-creation-url" id="ref-for-concept-environment-top-level-creation-url②">top-level creation URL</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑦">origin</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⑧">Assert</a>: <var>topLevelOrigin</var> is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②">origin</a>.</p>
         <li data-md>
          <p>Set <var>topLevelSite</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#obtain-a-site" id="ref-for-obtain-a-site①">obtaining a site</a> given <var>topLevelOrigin</var>.</p>
        </ol>
        <div class="note" role="note">When performing a prefetch in a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#child-navigable" id="ref-for-child-navigable②">child navigable</a>, the top-level site is determined by the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable" id="ref-for-top-level-traversable⑧">top-level traversable</a> that contains it. Since that doesn’t change as redirects are followed, <var>environment</var> can be used to establish the top-level site.</div>
       <li data-md>
        <p>Let <var>secondKey</var> be null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined③">implementation-defined</a> value.</p>
        <div class="note" role="note"><var>secondKey</var> is expected to match the value it would have had if this response had been processed as part of an ordinary navigation in <var>environment</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-target-browsing-context" id="ref-for-concept-environment-target-browsing-context②">target browsing context</a>.</div>
       <li data-md>
        <p>Let <var>destinationPartitionKey</var> be (<var>topLevelSite</var>, <var>secondKey</var>).</p>
       <li data-md>
        <p>Let <var>cookieStore</var> be the cookie store associated with <var>destinationPartitionKey</var>.</p>
       <li data-md>
        <p>Let <var>newCookie</var> be a copy of <var>cookie</var>.</p>
       <li data-md>
        <p>Set <var>newCookie</var>’s creation-time and last-access-time to the current date and time.</p>
       <li data-md>
        <p>If <var>cookieStore</var> contains a cookie <var>existingCookie</var> with the same name, domain and path as the newly created cookie:</p>
        <ol>
         <li data-md>
          <p>Set the creation-time of <var>newCookie</var> to <var>existingCookie</var>’s creation-time.</p>
         <li data-md>
          <p>Remove <var>existingCookie</var> from <var>cookieStore</var>.</p>
        </ol>
       <li data-md>
        <p>Insert <var>newCookie</var> into <var>cookieStore</var>.</p>
        <div class="note" role="note">This remove-and-insert pattern is consistent with what happens when <a data-link-type="dfn" href="https://httpwg.org/specs/rfc6265.html#storage-model" id="ref-for-storage-model③">receiving a cookie</a>.</div>
      </ol>
    </ol>
   </div>
   <h2 class="heading settled" data-level="8" id="sec-purpose-header"><span class="secno">8. </span><span class="content">The `<code><a data-link-type="http-header" href="https://fetch.spec.whatwg.org/#http-sec-purpose" id="ref-for-http-sec-purpose②">Sec-Purpose</a></code>` HTTP request header</span><a class="self-link" href="#sec-purpose-header"></a></h2>
   <p><em>This section overrides the definition of the `<code><a data-link-type="http-header" href="https://fetch.spec.whatwg.org/#http-sec-purpose" id="ref-for-http-sec-purpose③">Sec-Purpose</a></code>` HTTP request header from <a data-link-type="biblio" href="#biblio-fetch" title="Fetch Standard">[FETCH]</a>.</em></p>
   <p>The `<code><a data-link-type="http-header" href="https://fetch.spec.whatwg.org/#http-sec-purpose" id="ref-for-http-sec-purpose④">Sec-Purpose</a></code>` HTTP request header specifies that the request serves one or more purposes other than requesting the resource for immediate use by the user.</p>
   <p>The header field is an <a data-link-type="biblio" href="#biblio-rfc9651" title="Structured Field Values for HTTP">[RFC9651]</a> Structured Header whose value must be a <a data-link-type="dfn" href="https://www.rfc-editor.org/rfc/rfc9651.html#name-lists" id="ref-for-name-lists②">List</a>.</p>
   <p>It may contain an <a data-link-type="dfn" href="https://www.rfc-editor.org/rfc/rfc9651.html#name-items" id="ref-for-name-items">Item</a> member which is the <a data-link-type="dfn" href="https://www.rfc-editor.org/rfc/rfc9651.html#name-tokens" id="ref-for-name-tokens②">Token</a> <code>prefetch</code>. If so, this indicates the request’s purpose is to download a resource it is anticipated will be fetched shortly.</p>
   <p>The following parameters are defined for the <code>prefetch</code> token:</p>
   <ul>
    <li data-md>
     <p>A parameter whose key is "<dfn class="dfn-paneled" data-dfn-for="Sec-Purpose prefetch" data-dfn-type="dfn" data-noexport id="sec-purpose-prefetch-anonymous-client-ip"><code>anonymous-client-ip</code></dfn>".</p>
     <p>If present with a value other than boolean false (<code>`?0`</code> in the field value), this parameter indicates that the prefetch request is being made using an anonymous client IP. Consequently, servers should not rely on it matching, or sharing a geographic location or network operator with, the client’s IP address from which a non-prefetch request would have been made.</p>
     <p>If a suitable response is not possible, for example because the resource depends on the client’s geographic location, there is no other means of determining the location (e.g., the <a href="https://www.ietf.org/archive/id/draft-geohash-hint-00.html">Geohash client hint</a>), and no location-agnostic response is available, then the server should respond with an appropriate HTTP status code and response headers which mark the response as not suitable for caching.</p>
     <div class="note" role="note">
      
  A future specification might define assign more specific meaning to non-boolean values. For now, they are treated the same as true. Implementations are advised not to emit such values.


      <p>This specification conforms to this advice; the <a data-link-type="dfn" href="#start-a-referrer-initiated-navigational-prefetch" id="ref-for-start-a-referrer-initiated-navigational-prefetch">start a referrer-initiated navigational prefetch</a> algorithm does not emit non-boolean values.</p>
     </div>
    <li data-md>
     <p>A parameter whose key is "<dfn class="dfn-paneled" data-dfn-for="Sec-Purpose prefetch" data-dfn-type="dfn" data-noexport id="sec-purpose-prefetch-prerender"><code>prerender</code></dfn>".</p>
     <p>If present with a value other than boolean false (<code>`?0`</code> in the field value), this parameter indicates that the prefetch request is being made in anticipation of a prerender. Note that this value is also set for resources made from within a <a data-link-type="dfn" href="prerendering.html#prerendering-navigable" id="ref-for-prerendering-navigable">prerendering navigable</a>, before activation.</p>
     <div class="note" role="note">
      
  A future specification might define assign more specific meaning to non-boolean values. For now, they are treated the same as true. Implementations are advised not to emit such values.


      <p>This specification conforms to this advice; the <a data-link-type="dfn" href="#start-a-referrer-initiated-navigational-prefetch" id="ref-for-start-a-referrer-initiated-navigational-prefetch①">start a referrer-initiated navigational prefetch</a> algorithm does not emit non-boolean values.</p>
     </div>
   </ul>
   <h2 class="heading settled" data-level="9" id="security-considerations"><span class="secno">9. </span><span class="content">Security considerations</span><a class="self-link" href="#security-considerations"></a></h2>
   <p>See <a href="https://whatpr.org/html/11426/speculative-loading.html#speculative-loading-security">the HTML Standard</a>.</p>
   <h2 class="heading settled" data-level="10" id="privacy-considerations"><span class="secno">10. </span><span class="content">Privacy considerations</span><a class="self-link" href="#privacy-considerations"></a></h2>
   <p>See <a href="https://whatpr.org/html/11426/speculative-loading.html#speculative-loading-privacy">the HTML Standard</a>.</p>
  </main>
  <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#prefetch-record-anonymization-policy">anonymization policy</a><span>, in § 1</span>
   <li><a href="#sec-purpose-prefetch-anonymous-client-ip">anonymous-client-ip</a><span>, in § 8</span>
   <li><a href="#prefetch-record-cancel-and-discard">cancel and discard</a><span>, in § 1</span>
   <li><a href="#has-a-matching-prefetch-record-checkprerender">checkPrerender</a><span>, in § 1</span>
   <li><a href="#clear-prefetch-cache">clear prefetch cache</a><span>, in § 5</span>
   <li><a href="#prefetch-record-complete">complete</a><span>, in § 1</span>
   <li><a href="#conflicting-credentials-exist">Conflicting credentials exist</a><span>, in § 1</span>
   <li><a href="#copy-prefetch-cookies">copy prefetch cookies</a><span>, in § 7</span>
   <li><a href="#create-a-cross-origin-opener-policy-enforcement-result-for-navigation">create a cross-origin opener policy enforcement result for navigation</a><span>, in § 2</span>
   <li><a href="#create-a-navigation-request">create a navigation request</a><span>, in § 2</span>
   <li><a href="#create-a-reserved-client">create a reserved client</a><span>, in § 2</span>
   <li><a href="#create-navigation-params-by-fetching">create navigation params by fetching</a><span>, in § 2</span>
   <li><a href="#create-navigation-params-from-a-prefetch-record">create navigation params from a prefetch record</a><span>, in § 1</span>
   <li><a href="#navigation-params-delivery-type">delivery type</a><span>, in § 2</span>
   <li><a href="#exchange-record">exchange record</a><span>, in § 1</span>
   <li><a href="#prefetch-record-expiry-time">expiry time</a><span>, in § 1</span>
   <li><a href="#prefetch-record-fetch-controller">fetch controller</a><span>, in § 1</span>
   <li><a href="#find-a-matching-complete-prefetch-record">find a matching complete prefetch record</a><span>, in § 1</span>
   <li><a href="#prefetch-record-had-conflicting-credentials">had conflicting credentials</a><span>, in § 1</span>
   <li><a href="#has-a-matching-prefetch-record">has a matching prefetch record</a><span>, in § 1</span>
   <li><a href="#prefetch-record-is-expected-to-match-a-url">is expected to match a URL</a><span>, in § 1</span>
   <li><a href="#environment-is-navigational-prefetch-client">is navigational prefetch client</a><span>, in § 2</span>
   <li><a href="#prefetch-record-isolated-partition-key">isolated partition key</a><span>, in § 1</span>
   <li><a href="#list-of-sufficiently-strict-speculative-navigation-referrer-policies">list of sufficiently strict speculative navigation referrer policies</a><span>, in § 6</span>
   <li><a href="#prefetch-record-matches-a-url">matches a URL</a><span>, in § 1</span>
   <li><a href="#prefetch-record-no-vary-search-hint">No-Vary-Search hint</a><span>, in § 1</span>
   <li><a href="#prefetchcache">prefetchCache</a><span>, in § 5</span>
   <li><a href="#prefetch-record">prefetch record</a><span>, in § 1</span>
   <li><a href="#create-navigation-params-by-fetching-prefetchRecord">prefetchRecord</a><span>, in § 2</span>
   <li>
    prefetch records
    <ul>
     <li><a href="#document-prefetch-records">dfn for Document</a><span>, in § 1</span>
     <li><a href="#source-snapshot-params-prefetch-records">dfn for source snapshot params</a><span>, in § 2</span>
    </ul>
   <li><a href="#sec-purpose-prefetch-prerender">prerender</a><span>, in § 8</span>
   <li><a href="#prefetch-record-prerendering-target-navigable-name-hint">prerendering target navigable name hint</a><span>, in § 1</span>
   <li><a href="#prefetch-record-prerendering-traversable">prerendering traversable</a><span>, in § 1</span>
   <li>
    redirect chain
    <ul>
     <li><a href="#redirect-chain">definition of</a><span>, in § 1</span>
     <li><a href="#prefetch-record-redirect-chain">dfn for prefetch record</a><span>, in § 1</span>
    </ul>
   <li><a href="#prefetch-record-referrer-policy">referrer policy</a><span>, in § 1</span>
   <li><a href="#exchange-record-request">request</a><span>, in § 1</span>
   <li><a href="#prefetch-ip-anonymization-policy-requires-anonymity">requires anonymity</a><span>, in § 1</span>
   <li>
    response
    <ul>
     <li><a href="#exchange-record-response">dfn for exchange record</a><span>, in § 1</span>
     <li><a href="#prefetch-record-response">dfn for prefetch record</a><span>, in § 1</span>
    </ul>
   <li><a href="#prefetch-record-source">source</a><span>, in § 1</span>
   <li><a href="#prefetch-record-source-partition-key">source partition key</a><span>, in § 1</span>
   <li><a href="#start-a-referrer-initiated-navigational-prefetch">start a referrer-initiated navigational prefetch</a><span>, in § 6</span>
   <li><a href="#prefetch-record-start-time">start time</a><span>, in § 1</span>
   <li><a href="#prefetch-record-state">state</a><span>, in § 1</span>
   <li><a href="#prefetch-record-still-being-speculated">still being speculated</a><span>, in § 1</span>
   <li><a href="#supports-prefetch">supports prefetch</a><span>, in § 6</span>
   <li><a href="#prefetch-record-tags">tags</a><span>, in § 1</span>
   <li><a href="#redirect-chain-update-the-response">update the response</a><span>, in § 1</span>
   <li><a href="#prefetch-record-url">URL</a><span>, in § 1</span>
   <li><a href="#wait-for-a-matching-prefetch-record">wait for a matching prefetch record</a><span>, in § 1</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[CLEAR-SITE-DATA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="90605561">clear site data for response</span>
     <li><span class="dfn-paneled" id="f681de9f">parse response's Clear-Site-Data header</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CONSOLE]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="37e32f12">report a warning to the console</span>
    </ul>
   <li>
    <a data-link-type="biblio">[COOKIES]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="cb066b75">cookie</span>
     <li><span class="dfn-paneled" id="c4f03264">receive a cookie</span>
     <li><span class="dfn-paneled" id="ab7486c3">Set-Cookie</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSP]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="c7e9559b">Should navigation request of type be blocked by Content Security Policy?</span>
    </ul>
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="85394472">Document</span>
     <li><span class="dfn-paneled" id="83ca4a87">local name</span>
     <li><span class="dfn-paneled" id="c62cd7cf">origin</span>
     <li><span class="dfn-paneled" id="347e8fe9">URL</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FETCH]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="c56329c9">"report"</span>
     <li><span class="dfn-paneled" id="49a5521a">abort</span>
     <li><span class="dfn-paneled" id="8e9945a0">body</span>
     <li><span class="dfn-paneled" id="857d5516">client</span>
     <li><span class="dfn-paneled" id="555b1be1">clone</span>
     <li><span class="dfn-paneled" id="697965b2">connection</span>
     <li><span class="dfn-paneled" id="a6b85a00">credentials</span>
     <li><span class="dfn-paneled" id="902380f7">credentials mode</span>
     <li><span class="dfn-paneled" id="2aaa937f">cross-origin resource policy check</span>
     <li><span class="dfn-paneled" id="3f2ca4de">current URL</span>
     <li><span class="dfn-paneled" id="3ae34c95">destination</span>
     <li><span class="dfn-paneled" id="86ba8c0f">determine the network partition key</span>
     <li><span class="dfn-paneled" id="a33db89a">fetch</span>
     <li><span class="dfn-paneled" id="6bb42fbb">fetch controller</span>
     <li><span class="dfn-paneled" id="9ad93b4c">fetch scheme</span>
     <li><span class="dfn-paneled" id="6ee0eab1">header list</span>
     <li><span class="dfn-paneled" id="c2c86ee8">history-navigation flag</span>
     <li><span class="dfn-paneled" id="eb62573b">HTTP(S) scheme</span>
     <li><span class="dfn-paneled" id="7b0b4fa0">initiator type</span>
     <li><span class="dfn-paneled" id="3f9264f8">location URL</span>
     <li><span class="dfn-paneled" id="50b05fad">method</span>
     <li><span class="dfn-paneled" id="cb98f71f">mode</span>
     <li><span class="dfn-paneled" id="eb1b1af3">network error</span>
     <li><span class="dfn-paneled" id="7cf440ca">network partition key</span>
     <li><span class="dfn-paneled" id="5a391458">non-subresource request</span>
     <li><span class="dfn-paneled" id="8e1fb11c">obtain a connection</span>
     <li><span class="dfn-paneled" id="a27468c5">ok status</span>
     <li><span class="dfn-paneled" id="f78d5b5c">origin</span>
     <li><span class="dfn-paneled" id="86efadaf">policy container</span>
     <li><span class="dfn-paneled" id="2c605ae5">process the next manual redirect</span>
     <li><span class="dfn-paneled" id="0f1e88fa">processEarlyHintsResponse</span>
     <li><span class="dfn-paneled" id="bd2fe71e">processResponse</span>
     <li><span class="dfn-paneled" id="64b62ea0">redirect mode</span>
     <li><span class="dfn-paneled" id="a8b25997">redirect status</span>
     <li><span class="dfn-paneled" id="358f1dbd">referrer</span>
     <li><span class="dfn-paneled" id="07582c28">referrer policy</span>
     <li><span class="dfn-paneled" id="b8bb48a1">reload-navigation flag</span>
     <li><span class="dfn-paneled" id="36caebd4">replaces client id</span>
     <li><span class="dfn-paneled" id="55213b5b">request</span>
     <li><span class="dfn-paneled" id="abe352cd">reserved client</span>
     <li><span class="dfn-paneled" id="ee7bba09">response</span>
     <li><span class="dfn-paneled" id="6ba97d5f">Sec-Purpose</span>
     <li><span class="dfn-paneled" id="d9f4dab1">set</span>
     <li><span class="dfn-paneled" id="35b98f13">set a structured field value</span>
     <li><span class="dfn-paneled" id="a1d47575">status</span>
     <li><span class="dfn-paneled" id="dc1cd39b">URL <small>(for request)</small></span>
     <li><span class="dfn-paneled" id="3268a8eb">URL <small>(for response)</small></span>
     <li><span class="dfn-paneled" id="ae56d57e">URL list</span>
     <li><span class="dfn-paneled" id="44d0e8a7">use-URL-credentials flag</span>
     <li><span class="dfn-paneled" id="2c8ec3a8">useParallelQueue</span>
     <li><span class="dfn-paneled" id="9939e831">user-activation</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HR-TIME-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="0e9f636b">DOMHighResTimeStamp</span>
     <li><span class="dfn-paneled" id="7e7cc1d8">current high resolution time</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="55a6b830">active browsing context</span>
     <li><span class="dfn-paneled" id="35972864">active document</span>
     <li><span class="dfn-paneled" id="0ba26d3b">active service worker</span>
     <li><span class="dfn-paneled" id="101c721c">active window</span>
     <li><span class="dfn-paneled" id="5a57d186">anonymization policy</span>
     <li><span class="dfn-paneled" id="1565d481">attempt to populate the history entry's document</span>
     <li><span class="dfn-paneled" id="2b5324bd">browsing context scope origin</span>
     <li><span class="dfn-paneled" id="f23dc013">child navigable</span>
     <li><span class="dfn-paneled" id="00c57527">clone a policy container</span>
     <li><span class="dfn-paneled" id="f83e595e">commit early hints</span>
     <li><span class="dfn-paneled" id="762210c0">container</span>
     <li><span class="dfn-paneled" id="cc601639">container document</span>
     <li><span class="dfn-paneled" id="a1e6e861">cookie</span>
     <li><span class="dfn-paneled" id="254b22d8">COOP enforcement result</span>
     <li><span class="dfn-paneled" id="cdede25f">create and initialize a Document object</span>
     <li><span class="dfn-paneled" id="07ad3048">create navigation params by fetching</span>
     <li><span class="dfn-paneled" id="cfb6031b">creating a policy container from a fetch response</span>
     <li><span class="dfn-paneled" id="fa5ee9c5">creation URL</span>
     <li><span class="dfn-paneled" id="96a952cc">cross-origin opener policy</span>
     <li><span class="dfn-paneled" id="86eacc78">cross-origin opener policy <small>(for Document)</small></span>
     <li><span class="dfn-paneled" id="b520afde">cross-origin opener policy <small>(for cross-origin opener policy enforcement result)</small></span>
     <li><span class="dfn-paneled" id="45ecc010">cross-origin opener policy <small>(for navigation params)</small></span>
     <li><span class="dfn-paneled" id="1b4f9372">cross-origin opener policy enforcement result</span>
     <li><span class="dfn-paneled" id="b8599a7d">cross-origin prefetch IP anonymization policy</span>
     <li><span class="dfn-paneled" id="158b3a38">CSP list</span>
     <li><span class="dfn-paneled" id="27e00acc">CSP-derived sandboxing flags</span>
     <li><span class="dfn-paneled" id="6beb16ab">current context is navigation source</span>
     <li><span class="dfn-paneled" id="00a799db">destroy a top-level traversable</span>
     <li><span class="dfn-paneled" id="d20bde85">determine navigation params policy container</span>
     <li><span class="dfn-paneled" id="e5461467">determine the origin</span>
     <li><span class="dfn-paneled" id="67436284">document state</span>
     <li><span class="dfn-paneled" id="092de955">document state <small>(for session history entry)</small></span>
     <li><span class="dfn-paneled" id="f9d3ff53">enforce a response's cross-origin opener policy</span>
     <li><span class="dfn-paneled" id="24cf98a1">environment</span>
     <li><span class="dfn-paneled" id="78a97411">environment discarding steps</span>
     <li><span class="dfn-paneled" id="3e12e042">environment settings object</span>
     <li><span class="dfn-paneled" id="dff96e64">ever populated</span>
     <li><span class="dfn-paneled" id="220e27a3">fetch client</span>
     <li><span class="dfn-paneled" id="8b58bdef">fetch controller</span>
     <li><span class="dfn-paneled" id="9ac94568">final sandboxing flag set</span>
     <li><span class="dfn-paneled" id="0e3ba9f8">fully active</span>
     <li><span class="dfn-paneled" id="dfa9c14c">has transient activation</span>
     <li><span class="dfn-paneled" id="5ea2b73e">history policy container</span>
     <li><span class="dfn-paneled" id="73a186aa">id <small>(for environment)</small></span>
     <li><span class="dfn-paneled" id="7ab8ff1f">id <small>(for navigation params)</small></span>
     <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
     <li><span class="dfn-paneled" id="dbdbb853">inclusive descendant navigables</span>
     <li><span class="dfn-paneled" id="2895d75d">initiator origin <small>(for document state)</small></span>
     <li><span class="dfn-paneled" id="fd8e1d03">initiator origin <small>(for non-fetch scheme navigation params)</small></span>
     <li><span class="dfn-paneled" id="9c19b7fc">navigable</span>
     <li><span class="dfn-paneled" id="693b6384">navigable <small>(for navigation params)</small></span>
     <li><span class="dfn-paneled" id="bf63a402">navigable container</span>
     <li><span class="dfn-paneled" id="2df4d77c">navigable target name</span>
     <li><span class="dfn-paneled" id="6454d3fd">navigation id</span>
     <li><span class="dfn-paneled" id="4437edc6">navigation params</span>
     <li><span class="dfn-paneled" id="6981ec14">navigation timing type</span>
     <li><span class="dfn-paneled" id="b6ae4501">networking task source</span>
     <li><span class="dfn-paneled" id="13dd6cae">node navigable</span>
     <li><span class="dfn-paneled" id="cf844e77">non-fetch scheme navigation params</span>
     <li><span class="dfn-paneled" id="89d60043">obtain a browsing context to use for a navigation response</span>
     <li><span class="dfn-paneled" id="4a96b62c">obtain a cross-origin opener policy</span>
     <li><span class="dfn-paneled" id="602b1a68">obtain a site</span>
     <li><span class="dfn-paneled" id="4e5d412c">ongoing navigation</span>
     <li><span class="dfn-paneled" id="b01b1359">opaque origin</span>
     <li><span class="dfn-paneled" id="086e3aff">origin</span>
     <li><span class="dfn-paneled" id="c1ead35c">origin <small>(for cross-origin opener policy enforcement result)</small></span>
     <li><span class="dfn-paneled" id="64cace11">origin <small>(for cross-origin prefetch IP anonymization policy)</small></span>
     <li><span class="dfn-paneled" id="0091677f">origin <small>(for document state)</small></span>
     <li><span class="dfn-paneled" id="225c2b02">origin <small>(for navigation params)</small></span>
     <li><span class="dfn-paneled" id="1bba3db7">parent</span>
     <li><span class="dfn-paneled" id="08639fbc">policy container <small>(for Document)</small></span>
     <li><span class="dfn-paneled" id="62e9fa4b">policy container <small>(for navigation params)</small></span>
     <li><span class="dfn-paneled" id="ee98f837">POST resource</span>
     <li><span class="dfn-paneled" id="c8c44926">prefetch candidate</span>
     <li><span class="dfn-paneled" id="462878cd">prefetch IP anonymization policy</span>
     <li><span class="dfn-paneled" id="0a210d8e">prerender candidate</span>
     <li><span class="dfn-paneled" id="6cb66c10">process early hint headers</span>
     <li><span class="dfn-paneled" id="48438eb3">queue a global task</span>
     <li><span class="dfn-paneled" id="cd03669e">referrer policy</span>
     <li><span class="dfn-paneled" id="e99bd18e">relevant global object</span>
     <li><span class="dfn-paneled" id="9c4c1e66">relevant settings object</span>
     <li><span class="dfn-paneled" id="82b3ff45">reload pending</span>
     <li><span class="dfn-paneled" id="0364029f">request</span>
     <li><span class="dfn-paneled" id="67955c34">request body</span>
     <li><span class="dfn-paneled" id="34ed81e0">request content-type</span>
     <li><span class="dfn-paneled" id="e9767374">request referrer</span>
     <li><span class="dfn-paneled" id="2cd6435a">request referrer policy</span>
     <li><span class="dfn-paneled" id="65d48b3a">reserved environment</span>
     <li><span class="dfn-paneled" id="d0398cd2">resource</span>
     <li><span class="dfn-paneled" id="1ae60107">response</span>
     <li><span class="dfn-paneled" id="7393da89">same origin</span>
     <li><span class="dfn-paneled" id="feac4ab3">same site</span>
     <li><span class="dfn-paneled" id="457a6f4c">sandboxing flag set</span>
     <li><span class="dfn-paneled" id="9414feaa">sandboxing flags</span>
     <li><span class="dfn-paneled" id="86d447f1">Sec-Speculation-Tags</span>
     <li><span class="dfn-paneled" id="8684a4e2">serialized state</span>
     <li><span class="dfn-paneled" id="34ce7bcd">session history entry</span>
     <li><span class="dfn-paneled" id="ba5c8415">snapshot source snapshot params</span>
     <li><span class="dfn-paneled" id="0b8ef84a">snapshot target snapshot params</span>
     <li><span class="dfn-paneled" id="b285d8c5">source policy container</span>
     <li><span class="dfn-paneled" id="77093875">source snapshot params</span>
     <li><span class="dfn-paneled" id="41f82a67">speculation rule tag</span>
     <li><span class="dfn-paneled" id="c666e05d">speculative load candidate</span>
     <li><span class="dfn-paneled" id="7c560897">StructuredSerializeForStorage</span>
     <li><span class="dfn-paneled" id="085ddd0a">target browsing context</span>
     <li><span class="dfn-paneled" id="1e260fd5">target snapshot params</span>
     <li><span class="dfn-paneled" id="ae2a6342">top-level browsing context</span>
     <li><span class="dfn-paneled" id="2c6fd92e">top-level creation URL</span>
     <li><span class="dfn-paneled" id="c63519ed">top-level origin</span>
     <li><span class="dfn-paneled" id="bd736ec6">top-level traversable</span>
     <li><span class="dfn-paneled" id="30717154">top-level traversable <small>(for navigable)</small></span>
     <li><span class="dfn-paneled" id="deb80b93">top-level traversable set</span>
     <li><span class="dfn-paneled" id="d0c1b934">traversable navigable</span>
     <li><span class="dfn-paneled" id="1d2aa117">tuple origin</span>
     <li><span class="dfn-paneled" id="eed7ae2f">url <small>(for cross-origin opener policy enforcement result)</small></span>
     <li><span class="dfn-paneled" id="1f8cac9a">URL <small>(for session history entry)</small></span>
     <li><span class="dfn-paneled" id="b141168a">URL <small>(for speculative load candidate)</small></span>
     <li><span class="dfn-paneled" id="36706746">valid navigable target name or keyword</span>
     <li><span class="dfn-paneled" id="a4b0cf35">value</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="53275e46">append</span>
     <li><span class="dfn-paneled" id="77b4c09a">assert</span>
     <li><span class="dfn-paneled" id="36858240">boolean</span>
     <li><span class="dfn-paneled" id="7b0d918d">break</span>
     <li><span class="dfn-paneled" id="027e3e49">clone</span>
     <li><span class="dfn-paneled" id="ae8def21">contain</span>
     <li><span class="dfn-paneled" id="f937b7b6">continue</span>
     <li><span class="dfn-paneled" id="03afaf9c">empty</span>
     <li><span class="dfn-paneled" id="16d07e10">for each</span>
     <li><span class="dfn-paneled" id="860300d4">implementation-defined</span>
     <li><span class="dfn-paneled" id="6b815fdd">is empty</span>
     <li><span class="dfn-paneled" id="5afbefcd">item <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="c88f3887">item <small>(for struct)</small></span>
     <li><span class="dfn-paneled" id="649608b9">list</span>
     <li><span class="dfn-paneled" id="692595fe">ordered set</span>
     <li><span class="dfn-paneled" id="99c988d6">remove</span>
     <li><span class="dfn-paneled" id="0204d188">size</span>
     <li><span class="dfn-paneled" id="0698d556">string</span>
     <li><span class="dfn-paneled" id="984221ca">struct</span>
     <li><span class="dfn-paneled" id="5eb733b4">union</span>
    </ul>
   <li>
    <a data-link-type="biblio">[NAVIGATION-TIMING-2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="a15b83c5">NavigationTimingType</span>
     <li><span class="dfn-paneled" id="85e4c237">create the navigation timing entry</span>
    </ul>
   <li>
    <a data-link-type="biblio">[NO-VARY-SEARCH]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="0875e72b">equivalent modulo search variance</span>
     <li><span class="dfn-paneled" id="392e5f74">No-Vary-Search</span>
     <li><span class="dfn-paneled" id="1e542ed3">obtain a URL search variance</span>
     <li><span class="dfn-paneled" id="f08e1f8e">URL search variance</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PRERENDERING-REVAMPED]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="b5201fff">getting the supported loading modes</span>
     <li><span class="dfn-paneled" id="5fc63580">prerendering navigable</span>
     <li><span class="dfn-paneled" id="a132d33a">prerendering traversable</span>
     <li><span class="dfn-paneled" id="0acae8bb">Supports-Loading-Mode</span>
     <li><span class="dfn-paneled" id="32b89fc7">uncredentialed-prefetch</span>
     <li><span class="dfn-paneled" id="6aad1618">update the successor for activation</span>
    </ul>
   <li>
    <a data-link-type="biblio">[REFERRER-POLICY]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="2d09a0dd">referrer policy</span>
    </ul>
   <li>
    <a data-link-type="biblio">[RESOURCE-TIMING]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="eb72b0d8">PerformanceResourceTiming</span>
     <li><span class="dfn-paneled" id="b393ea32">delivery type</span>
     <li><span class="dfn-paneled" id="e9450d4d">setup the resource timing entry</span>
    </ul>
   <li>
    <a data-link-type="biblio">[RFC9651]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="aafd88f4">Item</span>
     <li><span class="dfn-paneled" id="45e5882e">List</span>
     <li><span class="dfn-paneled" id="c2b18c6d">String</span>
     <li><span class="dfn-paneled" id="c12ccfe9">Token</span>
    </ul>
   <li>
    <a data-link-type="biblio">[SECURE-CONTEXTS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="9c5d9c4d">potentially trustworthy URL</span>
    </ul>
   <li>
    <a data-link-type="biblio">[SERVICE-WORKERS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="cca60038">FetchEvent</span>
     <li><span class="dfn-paneled" id="abf6cbed">Create Fetch Event and Dispatch</span>
     <li><span class="dfn-paneled" id="ce25aa4d">get(id)</span>
     <li><span class="dfn-paneled" id="a5d528b5">Match Service Worker Registration</span>
     <li><span class="dfn-paneled" id="be123ea4">matchAll()</span>
     <li><span class="dfn-paneled" id="7412e2ae">resultingClientId</span>
    </ul>
   <li>
    <a data-link-type="biblio">[URL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ed948033">fragment</span>
     <li><span class="dfn-paneled" id="959ad97b">origin</span>
     <li><span class="dfn-paneled" id="3a711be7">scheme</span>
     <li><span class="dfn-paneled" id="dcffbccd">URL</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-clear-site-data">[CLEAR-SITE-DATA]
   <dd>Mike West. <a href="https://w3c.github.io/webappsec-clear-site-data/"><cite>Clear Site Data</cite></a>. URL: <a href="https://w3c.github.io/webappsec-clear-site-data/">https://w3c.github.io/webappsec-clear-site-data/</a>
   <dt id="biblio-cookies">[COOKIES]
   <dd>A. Barth. <a href="https://httpwg.org/specs/rfc6265.html"><cite>HTTP State Management Mechanism</cite></a>. April 2011. Proposed Standard. URL: <a href="https://httpwg.org/specs/rfc6265.html">https://httpwg.org/specs/rfc6265.html</a>
   <dt id="biblio-csp">[CSP]
   <dd>Mike West; Antonio Sartori. <a href="https://w3c.github.io/webappsec-csp/"><cite>Content Security Policy Level 3</cite></a>. URL: <a href="https://w3c.github.io/webappsec-csp/">https://w3c.github.io/webappsec-csp/</a>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-fetch">[FETCH]
   <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>. Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
   <dt id="biblio-hr-time-3">[HR-TIME-3]
   <dd>Yoav Weiss. <a href="https://w3c.github.io/hr-time/"><cite>High Resolution Time</cite></a>. URL: <a href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-navigation-timing-2">[NAVIGATION-TIMING-2]
   <dd>Yoav Weiss; Noam Rosenthal. <a href="https://w3c.github.io/navigation-timing/"><cite>Navigation Timing Level 2</cite></a>. URL: <a href="https://w3c.github.io/navigation-timing/">https://w3c.github.io/navigation-timing/</a>
   <dt id="biblio-no-vary-search">[NO-VARY-SEARCH]
   <dd><a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-no-vary-search"><cite>No-Vary-Search</cite></a>. Editor's Draft. URL: <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-no-vary-search">https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-no-vary-search</a>
   <dt id="biblio-prerendering-revamped">[PRERENDERING-REVAMPED]
   <dd><a href="https://wicg.github.io/nav-speculation/prerendering.html"><cite>Prerendering Revamped</cite></a>. Draft Community Group Report. URL: <a href="https://wicg.github.io/nav-speculation/prerendering.html">https://wicg.github.io/nav-speculation/prerendering.html</a>
   <dt id="biblio-referrer-policy">[REFERRER-POLICY]
   <dd>Jochen Eisinger; Emily Stark. <a href="https://w3c.github.io/webappsec-referrer-policy/"><cite>Referrer Policy</cite></a>. URL: <a href="https://w3c.github.io/webappsec-referrer-policy/">https://w3c.github.io/webappsec-referrer-policy/</a>
   <dt id="biblio-resource-timing">[RESOURCE-TIMING]
   <dd>Yoav Weiss; Noam Rosenthal. <a href="https://w3c.github.io/resource-timing/"><cite>Resource Timing</cite></a>. URL: <a href="https://w3c.github.io/resource-timing/">https://w3c.github.io/resource-timing/</a>
   <dt id="biblio-rfc9651">[RFC9651]
   <dd>M. Nottingham; P-H. Kamp. <a href="https://www.rfc-editor.org/rfc/rfc9651"><cite>Structured Field Values for HTTP</cite></a>. September 2024. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc9651">https://www.rfc-editor.org/rfc/rfc9651</a>
   <dt id="biblio-secure-contexts">[SECURE-CONTEXTS]
   <dd>Mike West. <a href="https://w3c.github.io/webappsec-secure-contexts/"><cite>Secure Contexts</cite></a>. URL: <a href="https://w3c.github.io/webappsec-secure-contexts/">https://w3c.github.io/webappsec-secure-contexts/</a>
   <dt id="biblio-service-workers">[SERVICE-WORKERS]
   <dd>Yoshisato Yanagisawa; Monica CHINTALA. <a href="https://w3c.github.io/ServiceWorker/"><cite>Service Workers</cite></a>. URL: <a href="https://w3c.github.io/ServiceWorker/">https://w3c.github.io/ServiceWorker/</a>
   <dt id="biblio-url">[URL]
   <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-console">[CONSOLE]
   <dd>Dominic Farolino; Robert Kowalski; Terin Stock. <a href="https://console.spec.whatwg.org/"><cite>Console Standard</cite></a>. Living Standard. URL: <a href="https://console.spec.whatwg.org/">https://console.spec.whatwg.org/</a>
   <dt id="biblio-navigation-timing">[NAVIGATION-TIMING]
   <dd>Zhiheng Wang. <a href="https://www.w3.org/TR/navigation-timing/"><cite>Navigation Timing</cite></a>. 17 December 2012. REC. URL: <a href="https://www.w3.org/TR/navigation-timing/">https://www.w3.org/TR/navigation-timing/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue">It might be possible to use cache response headers to determine when a response can be used multiple times, but given the short lifetime of the prefetch buffer it’s unclear whether this is worthwhile. <a class="issue-return" href="#issue-34917491" title="Jump to section">↵</a></div>
   <div class="issue">At the moment, how IP anonymization is achieved is handwaved. This will probably be done in an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined">implementation-defined</a> manner using some kind of proxy or relay. Ideally this would be plumbed down to <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-connection-obtain">obtain a connection</a>, and possibly even the mechanism could be further standardized. <a class="issue-return" href="#issue-9a2d41cc" title="Jump to section">↵</a></div>
   <div class="issue">This aborts prefetches the moment a navigation starts, which might not be desirable. <a class="issue-return" href="#issue-c8ac1f2c" title="Jump to section">↵</a></div>
   <div class="issue">Cache, though not necessary for correctness, would be useful to copy, too. <a class="issue-return" href="#issue-4f58f5c7" title="Jump to section">↵</a></div>
   <div class="issue">Authentication entries can be acquired while cross-site, though this seems likely to be rare. (For instance, a site might redirect to a URL which contains URL credentials.) It might be reasonable to copy these, too, though it’s unclear whether we actually want to encourage this. <a class="issue-return" href="#issue-d2dc3650" title="Jump to section">↵</a></div>
  </div>
<script>/* Boilerplate: script-dom-helper */
"use strict";
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
let dfnPanelData = {
"0091677f": {"dfnID":"0091677f","dfnText":"origin (for document state)","external":true,"refSections":[{"refs":[{"id":"ref-for-document-state-origin"},{"id":"ref-for-document-state-origin\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-origin"},
"00a799db": {"dfnID":"00a799db","dfnText":"destroy a top-level traversable","external":true,"refSections":[{"refs":[{"id":"ref-for-destroy-a-top-level-traversable"},{"id":"ref-for-destroy-a-top-level-traversable\u2460"}],"title":"1. Concepts"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#destroy-a-top-level-traversable"},
"00c57527": {"dfnID":"00c57527","dfnText":"clone a policy container","external":true,"refSections":[{"refs":[{"id":"ref-for-clone-a-policy-container"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#clone-a-policy-container"},
"0204d188": {"dfnID":"0204d188","dfnText":"size","external":true,"refSections":[{"refs":[{"id":"ref-for-list-size"}],"title":"1. Concepts"}],"url":"https://infra.spec.whatwg.org/#list-size"},
"027e3e49": {"dfnID":"027e3e49","dfnText":"clone","external":true,"refSections":[{"refs":[{"id":"ref-for-list-clone"}],"title":"2. HTML Patches"}],"url":"https://infra.spec.whatwg.org/#list-clone"},
"0364029f": {"dfnID":"0364029f","dfnText":"request","external":true,"refSections":[{"refs":[{"id":"ref-for-navigation-params-request"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-navigation-params-request\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-request"},
"03afaf9c": {"dfnID":"03afaf9c","dfnText":"empty","external":true,"refSections":[{"refs":[{"id":"ref-for-list-empty"}],"title":"1. Concepts"}],"url":"https://infra.spec.whatwg.org/#list-empty"},
"0698d556": {"dfnID":"0698d556","dfnText":"string","external":true,"refSections":[{"refs":[{"id":"ref-for-string"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-string\u2460"},{"id":"ref-for-string\u2461"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-string\u2462"}],"title":"3. Navigation Timing Patches"}],"url":"https://infra.spec.whatwg.org/#string"},
"07582c28": {"dfnID":"07582c28","dfnText":"referrer policy","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-referrer-policy"},{"id":"ref-for-concept-request-referrer-policy\u2460"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-request-referrer-policy"},
"07ad3048": {"dfnID":"07ad3048","dfnText":"create navigation params by fetching","external":true,"refSections":[{"refs":[{"id":"ref-for-create-navigation-params-by-fetching"},{"id":"ref-for-create-navigation-params-by-fetching\u2460"},{"id":"ref-for-create-navigation-params-by-fetching\u2461"},{"id":"ref-for-create-navigation-params-by-fetching\u2462"},{"id":"ref-for-create-navigation-params-by-fetching\u2464"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#create-navigation-params-by-fetching"},
"085ddd0a": {"dfnID":"085ddd0a","dfnText":"target browsing context","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-environment-target-browsing-context"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-concept-environment-target-browsing-context\u2460"},{"id":"ref-for-concept-environment-target-browsing-context\u2461"}],"title":"7. Cookies"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-target-browsing-context"},
"08639fbc": {"dfnID":"08639fbc","dfnText":"policy container (for Document)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-document-policy-container"}],"title":"6. Prefetch algorithms"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#concept-document-policy-container"},
"086e3aff": {"dfnID":"086e3aff","dfnText":"origin","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-origin"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-concept-origin\u2460"}],"title":"5. Clear Site Data patches"},{"refs":[{"id":"ref-for-concept-origin\u2461"}],"title":"7. Cookies"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#concept-origin"},
"0875e72b": {"dfnID":"0875e72b","dfnText":"equivalent modulo search variance","external":true,"refSections":[{"refs":[{"id":"ref-for-name-comparing"},{"id":"ref-for-name-comparing\u2460"},{"id":"ref-for-name-comparing\u2461"}],"title":"1. Concepts"}],"url":"https://httpwg.org/http-extensions/draft-ietf-httpbis-no-vary-search.html#name-comparing"},
"092de955": {"dfnID":"092de955","dfnText":"document state (for session history entry)","external":true,"refSections":[{"refs":[{"id":"ref-for-she-document-state"},{"id":"ref-for-she-document-state\u2460"},{"id":"ref-for-she-document-state\u2461"},{"id":"ref-for-she-document-state\u2462"},{"id":"ref-for-she-document-state\u2463"},{"id":"ref-for-she-document-state\u2464"},{"id":"ref-for-she-document-state\u2465"},{"id":"ref-for-she-document-state\u2466"},{"id":"ref-for-she-document-state\u2467"},{"id":"ref-for-she-document-state\u2468"},{"id":"ref-for-she-document-state\u2460\u24ea"},{"id":"ref-for-she-document-state\u2460\u2460"},{"id":"ref-for-she-document-state\u2460\u2461"},{"id":"ref-for-she-document-state\u2460\u2462"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-she-document-state\u2460\u2463"}],"title":"6. Prefetch algorithms"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state"},
"0a210d8e": {"dfnID":"0a210d8e","dfnText":"prerender candidate","external":true,"refSections":[{"refs":[{"id":"ref-for-prerender-candidate"}],"title":"1. Concepts"}],"url":"https://whatpr.org/html/11426/speculative-loading.html#prerender-candidate"},
"0acae8bb": {"dfnID":"0acae8bb","dfnText":"Supports-Loading-Mode","external":true,"refSections":[{"refs":[{"id":"ref-for-http-headerdef-supports-loading-mode"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-http-headerdef-supports-loading-mode\u2460"}],"title":"6. Prefetch algorithms"}],"url":"https://wicg.github.io/nav-speculation/prerendering.html#http-headerdef-supports-loading-mode"},
"0b8ef84a": {"dfnID":"0b8ef84a","dfnText":"snapshot target snapshot params","external":true,"refSections":[{"refs":[{"id":"ref-for-snapshotting-target-snapshot-params"}],"title":"6. Prefetch algorithms"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#snapshotting-target-snapshot-params"},
"0ba26d3b": {"dfnID":"0ba26d3b","dfnText":"active service worker","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-environment-active-service-worker"},{"id":"ref-for-concept-environment-active-service-worker\u2460"}],"title":"1. Concepts"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"},
"0e3ba9f8": {"dfnID":"0e3ba9f8","dfnText":"fully active","external":true,"refSections":[{"refs":[{"id":"ref-for-fully-active"}],"title":"1. Concepts"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"},
"0e9f636b": {"dfnID":"0e9f636b","dfnText":"DOMHighResTimeStamp","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-domhighrestimestamp"},{"id":"ref-for-dom-domhighrestimestamp\u2460"}],"title":"1. Concepts"}],"url":"https://w3c.github.io/hr-time/#dom-domhighrestimestamp"},
"0f1e88fa": {"dfnID":"0f1e88fa","dfnText":"processEarlyHintsResponse","external":true,"refSections":[{"refs":[{"id":"ref-for-fetch-processearlyhintsresponse"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#fetch-processearlyhintsresponse"},
"101c721c": {"dfnID":"101c721c","dfnText":"active window","external":true,"refSections":[{"refs":[{"id":"ref-for-nav-window"},{"id":"ref-for-nav-window\u2460"}],"title":"1. Concepts"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-window"},
"13dd6cae": {"dfnID":"13dd6cae","dfnText":"node navigable","external":true,"refSections":[{"refs":[{"id":"ref-for-node-navigable"},{"id":"ref-for-node-navigable\u2460"},{"id":"ref-for-node-navigable\u2461"},{"id":"ref-for-node-navigable\u2462"}],"title":"6. Prefetch algorithms"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable"},
"1565d481": {"dfnID":"1565d481","dfnText":"attempt to populate the history entry's document","external":true,"refSections":[{"refs":[{"id":"ref-for-attempt-to-populate-the-history-entry's-document"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#attempt-to-populate-the-history-entry's-document"},
"158b3a38": {"dfnID":"158b3a38","dfnText":"CSP list","external":true,"refSections":[{"refs":[{"id":"ref-for-policy-container-csp-list"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-policy-container-csp-list\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#policy-container-csp-list"},
"16d07e10": {"dfnID":"16d07e10","dfnText":"for each","external":true,"refSections":[{"refs":[{"id":"ref-for-list-iterate"},{"id":"ref-for-list-iterate\u2460"},{"id":"ref-for-list-iterate\u2461"},{"id":"ref-for-list-iterate\u2462"},{"id":"ref-for-list-iterate\u2463"},{"id":"ref-for-list-iterate\u2464"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-list-iterate\u2465"},{"id":"ref-for-list-iterate\u2466"},{"id":"ref-for-list-iterate\u2467"}],"title":"5. Clear Site Data patches"}],"url":"https://infra.spec.whatwg.org/#list-iterate"},
"1ae60107": {"dfnID":"1ae60107","dfnText":"response","external":true,"refSections":[{"refs":[{"id":"ref-for-navigation-params-response"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-navigation-params-response\u2460"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-navigation-params-response\u2461"},{"id":"ref-for-navigation-params-response\u2462"}],"title":"6. Prefetch algorithms"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-response"},
"1b4f9372": {"dfnID":"1b4f9372","dfnText":"cross-origin opener policy enforcement result","external":true,"refSections":[{"refs":[{"id":"ref-for-coop-enforcement-result"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#coop-enforcement-result"},
"1bba3db7": {"dfnID":"1bba3db7","dfnText":"parent","external":true,"refSections":[{"refs":[{"id":"ref-for-nav-parent"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent"},
"1d2aa117": {"dfnID":"1d2aa117","dfnText":"tuple origin","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-origin-tuple"}],"title":"7. Cookies"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-tuple"},
"1e260fd5": {"dfnID":"1e260fd5","dfnText":"target snapshot params","external":true,"refSections":[{"refs":[{"id":"ref-for-target-snapshot-params"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-target-snapshot-params\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#target-snapshot-params"},
"1e542ed3": {"dfnID":"1e542ed3","dfnText":"obtain a URL search variance","external":true,"refSections":[{"refs":[{"id":"ref-for-name-obtain-a-url-search-varianc"},{"id":"ref-for-name-obtain-a-url-search-varianc\u2460"}],"title":"1. Concepts"}],"url":"https://httpwg.org/http-extensions/draft-ietf-httpbis-no-vary-search.html#name-obtain-a-url-search-varianc"},
"1f8cac9a": {"dfnID":"1f8cac9a","dfnText":"URL (for session history entry)","external":true,"refSections":[{"refs":[{"id":"ref-for-she-url"},{"id":"ref-for-she-url\u2460"},{"id":"ref-for-she-url\u2461"},{"id":"ref-for-she-url\u2462"},{"id":"ref-for-she-url\u2463"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-she-url\u2464"}],"title":"6. Prefetch algorithms"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-url"},
"220e27a3": {"dfnID":"220e27a3","dfnText":"fetch client","external":true,"refSections":[{"refs":[{"id":"ref-for-source-snapshot-params-client"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params-client"},
"225c2b02": {"dfnID":"225c2b02","dfnText":"origin (for navigation params)","external":true,"refSections":[{"refs":[{"id":"ref-for-navigation-params-origin"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-navigation-params-origin\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-origin"},
"24cf98a1": {"dfnID":"24cf98a1","dfnText":"environment","external":true,"refSections":[{"refs":[{"id":"ref-for-environment"},{"id":"ref-for-environment\u2460"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-environment\u2461"},{"id":"ref-for-environment\u2462"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-environment\u2463"}],"title":"7. Cookies"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#environment"},
"254b22d8": {"dfnID":"254b22d8","dfnText":"COOP enforcement result","external":true,"refSections":[{"refs":[{"id":"ref-for-navigation-params-coop-enforcement-result"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-navigation-params-coop-enforcement-result\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-coop-enforcement-result"},
"27e00acc": {"dfnID":"27e00acc","dfnText":"CSP-derived sandboxing flags","external":true,"refSections":[{"refs":[{"id":"ref-for-csp-derived-sandboxing-flags"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-csp-derived-sandboxing-flags\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#csp-derived-sandboxing-flags"},
"2895d75d": {"dfnID":"2895d75d","dfnText":"initiator origin (for document state)","external":true,"refSections":[{"refs":[{"id":"ref-for-document-state-initiator-origin"},{"id":"ref-for-document-state-initiator-origin\u2460"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-document-state-initiator-origin\u2461"},{"id":"ref-for-document-state-initiator-origin\u2462"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-document-state-initiator-origin\u2463"}],"title":"6. Prefetch algorithms"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-initiator-origin"},
"2aaa937f": {"dfnID":"2aaa937f","dfnText":"cross-origin resource policy check","external":true,"refSections":[{"refs":[{"id":"ref-for-cross-origin-resource-policy-check"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#cross-origin-resource-policy-check"},
"2b5324bd": {"dfnID":"2b5324bd","dfnText":"browsing context scope origin","external":true,"refSections":[{"refs":[{"id":"ref-for-browsing-context-scope-origin"},{"id":"ref-for-browsing-context-scope-origin\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#browsing-context-scope-origin"},
"2c605ae5": {"dfnID":"2c605ae5","dfnText":"process the next manual redirect","external":true,"refSections":[{"refs":[{"id":"ref-for-fetch-controller-process-the-next-manual-redirect"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#fetch-controller-process-the-next-manual-redirect"},
"2c6fd92e": {"dfnID":"2c6fd92e","dfnText":"top-level creation URL","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-environment-top-level-creation-url"},{"id":"ref-for-concept-environment-top-level-creation-url\u2460"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-concept-environment-top-level-creation-url\u2461"}],"title":"7. Cookies"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-creation-url"},
"2c8ec3a8": {"dfnID":"2c8ec3a8","dfnText":"useParallelQueue","external":true,"refSections":[{"refs":[{"id":"ref-for-fetch-useparallelqueue"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#fetch-useparallelqueue"},
"2cd6435a": {"dfnID":"2cd6435a","dfnText":"request referrer policy","external":true,"refSections":[{"refs":[{"id":"ref-for-document-state-request-referrer-policy"},{"id":"ref-for-document-state-request-referrer-policy\u2460"},{"id":"ref-for-document-state-request-referrer-policy\u2461"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-document-state-request-referrer-policy\u2462"}],"title":"6. Prefetch algorithms"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-request-referrer-policy"},
"2d09a0dd": {"dfnID":"2d09a0dd","dfnText":"referrer policy","external":true,"refSections":[{"refs":[{"id":"ref-for-referrer-policy"}],"title":"1. Concepts"}],"url":"https://w3c.github.io/webappsec-referrer-policy/#referrer-policy"},
"2df4d77c": {"dfnID":"2df4d77c","dfnText":"navigable target name","external":true,"refSections":[{"refs":[{"id":"ref-for-document-state-nav-target-name"},{"id":"ref-for-document-state-nav-target-name\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-nav-target-name"},
"30717154": {"dfnID":"30717154","dfnText":"top-level traversable (for navigable)","external":true,"refSections":[{"refs":[{"id":"ref-for-nav-top"}],"title":"5. Clear Site Data patches"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-top"},
"3268a8eb": {"dfnID":"3268a8eb","dfnText":"URL (for response)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-response-url"},{"id":"ref-for-concept-response-url\u2460"},{"id":"ref-for-concept-response-url\u2461"},{"id":"ref-for-concept-response-url\u2462"},{"id":"ref-for-concept-response-url\u2463"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-concept-response-url\u2464"},{"id":"ref-for-concept-response-url\u2465"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-concept-response-url\u2466"}],"title":"5. Clear Site Data patches"}],"url":"https://fetch.spec.whatwg.org/#concept-response-url"},
"32b89fc7": {"dfnID":"32b89fc7","dfnText":"uncredentialed-prefetch","external":true,"refSections":[{"refs":[{"id":"ref-for-supports-loading-mode-uncredentialed-prefetch"}],"title":"1. Concepts"}],"url":"prerendering.html#supports-loading-mode-uncredentialed-prefetch"},
"347e8fe9": {"dfnID":"347e8fe9","dfnText":"URL","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-document-url"},{"id":"ref-for-concept-document-url\u2460"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-concept-document-url\u2461"}],"title":"2. HTML Patches"}],"url":"https://dom.spec.whatwg.org/#concept-document-url"},
"34ce7bcd": {"dfnID":"34ce7bcd","dfnText":"session history entry","external":true,"refSections":[{"refs":[{"id":"ref-for-session-history-entry"},{"id":"ref-for-session-history-entry\u2460"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-session-history-entry\u2461"}],"title":"6. Prefetch algorithms"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry"},
"34ed81e0": {"dfnID":"34ed81e0","dfnText":"request content-type","external":true,"refSections":[{"refs":[{"id":"ref-for-post-resource-request-content-type"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#post-resource-request-content-type"},
"358f1dbd": {"dfnID":"358f1dbd","dfnText":"referrer","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-referrer"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-concept-request-referrer\u2460"},{"id":"ref-for-concept-request-referrer\u2461"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-request-referrer"},
"35972864": {"dfnID":"35972864","dfnText":"active document","external":true,"refSections":[{"refs":[{"id":"ref-for-nav-document"},{"id":"ref-for-nav-document\u2460"},{"id":"ref-for-nav-document\u2461"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-nav-document\u2462"},{"id":"ref-for-nav-document\u2463"},{"id":"ref-for-nav-document\u2464"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-nav-document\u2465"},{"id":"ref-for-nav-document\u2466"}],"title":"5. Clear Site Data patches"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"},
"35b98f13": {"dfnID":"35b98f13","dfnText":"set a structured field value","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-header-list-set-structured-header"},{"id":"ref-for-concept-header-list-set-structured-header\u2460"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-header-list-set-structured-header"},
"36706746": {"dfnID":"36706746","dfnText":"valid navigable target name or keyword","external":true,"refSections":[{"refs":[{"id":"ref-for-valid-navigable-target-name-or-keyword"}],"title":"1. Concepts"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#valid-navigable-target-name-or-keyword"},
"36858240": {"dfnID":"36858240","dfnText":"boolean","external":true,"refSections":[{"refs":[{"id":"ref-for-boolean"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-boolean\u2460"}],"title":"2. HTML Patches"}],"url":"https://infra.spec.whatwg.org/#boolean"},
"36caebd4": {"dfnID":"36caebd4","dfnText":"replaces client id","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-replaces-client-id"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-request-replaces-client-id"},
"37e32f12": {"dfnID":"37e32f12","dfnText":"report a warning to the console","external":true,"refSections":[{"refs":[{"id":"ref-for-report-a-warning-to-the-console"}],"title":"2. HTML Patches"}],"url":"https://console.spec.whatwg.org/#report-a-warning-to-the-console"},
"392e5f74": {"dfnID":"392e5f74","dfnText":"No-Vary-Search","external":true,"refSections":[{"refs":[{"id":"ref-for-name-http-header-field-definitio"},{"id":"ref-for-name-http-header-field-definitio\u2460"},{"id":"ref-for-name-http-header-field-definitio\u2461"},{"id":"ref-for-name-http-header-field-definitio\u2462"}],"title":"1. Concepts"}],"url":"https://httpwg.org/http-extensions/draft-ietf-httpbis-no-vary-search.html#name-http-header-field-definitio"},
"3a711be7": {"dfnID":"3a711be7","dfnText":"scheme","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-url-scheme"},{"id":"ref-for-concept-url-scheme\u2460"},{"id":"ref-for-concept-url-scheme\u2461"},{"id":"ref-for-concept-url-scheme\u2462"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-concept-url-scheme\u2463"}],"title":"6. Prefetch algorithms"}],"url":"https://url.spec.whatwg.org/#concept-url-scheme"},
"3ae34c95": {"dfnID":"3ae34c95","dfnText":"destination","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-destination"},{"id":"ref-for-concept-request-destination\u2460"},{"id":"ref-for-concept-request-destination\u2461"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-concept-request-destination\u2462"}],"title":"4. Service Workers Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-request-destination"},
"3e12e042": {"dfnID":"3e12e042","dfnText":"environment settings object","external":true,"refSections":[{"refs":[{"id":"ref-for-environment-settings-object"},{"id":"ref-for-environment-settings-object\u2460"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-environment-settings-object\u2461"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"},
"3f2ca4de": {"dfnID":"3f2ca4de","dfnText":"current URL","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-current-url"},{"id":"ref-for-concept-request-current-url\u2460"},{"id":"ref-for-concept-request-current-url\u2461"},{"id":"ref-for-concept-request-current-url\u2462"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-request-current-url"},
"3f9264f8": {"dfnID":"3f9264f8","dfnText":"location URL","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-response-location-url"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-response-location-url"},
"41f82a67": {"dfnID":"41f82a67","dfnText":"speculation rule tag","external":true,"refSections":[{"refs":[{"id":"ref-for-speculation-rule-tag"}],"title":"1. Concepts"}],"url":"https://whatpr.org/html/11426/speculative-loading.html#speculation-rule-tag"},
"4437edc6": {"dfnID":"4437edc6","dfnText":"navigation params","external":true,"refSections":[{"refs":[{"id":"ref-for-navigation-params"},{"id":"ref-for-navigation-params\u2460"},{"id":"ref-for-navigation-params\u2461"},{"id":"ref-for-navigation-params\u2462"},{"id":"ref-for-navigation-params\u2463"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-navigation-params\u2464"},{"id":"ref-for-navigation-params\u2465"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-navigation-params\u2466"}],"title":"6. Prefetch algorithms"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params"},
"44d0e8a7": {"dfnID":"44d0e8a7","dfnText":"use-URL-credentials flag","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-use-url-credentials-flag"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-request-use-url-credentials-flag"},
"457a6f4c": {"dfnID":"457a6f4c","dfnText":"sandboxing flag set","external":true,"refSections":[{"refs":[{"id":"ref-for-sandboxing-flag-set"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-sandboxing-flag-set\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#sandboxing-flag-set"},
"45e5882e": {"dfnID":"45e5882e","dfnText":"List","external":true,"refSections":[{"refs":[{"id":"ref-for-name-lists"},{"id":"ref-for-name-lists\u2460"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-name-lists\u2461"}],"title":"8. The `Sec-Purpose` HTTP request header"}],"url":"https://www.rfc-editor.org/rfc/rfc9651.html#name-lists"},
"45ecc010": {"dfnID":"45ecc010","dfnText":"cross-origin opener policy (for navigation params)","external":true,"refSections":[{"refs":[{"id":"ref-for-navigation-params-coop"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-navigation-params-coop\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-coop"},
"462878cd": {"dfnID":"462878cd","dfnText":"prefetch IP anonymization policy","external":true,"refSections":[{"refs":[{"id":"ref-for-prefetch-ip-anonymization-policy"},{"id":"ref-for-prefetch-ip-anonymization-policy\u2460"}],"title":"1. Concepts"}],"url":"https://whatpr.org/html/11426/speculative-loading.html#prefetch-ip-anonymization-policy"},
"48438eb3": {"dfnID":"48438eb3","dfnText":"queue a global task","external":true,"refSections":[{"refs":[{"id":"ref-for-queue-a-global-task"}],"title":"6. Prefetch algorithms"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"},
"49a5521a": {"dfnID":"49a5521a","dfnText":"abort","external":true,"refSections":[{"refs":[{"id":"ref-for-fetch-controller-abort"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-fetch-controller-abort\u2460"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#fetch-controller-abort"},
"4a96b62c": {"dfnID":"4a96b62c","dfnText":"obtain a cross-origin opener policy","external":true,"refSections":[{"refs":[{"id":"ref-for-obtain-coop"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-obtain-coop\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#obtain-coop"},
"4e5d412c": {"dfnID":"4e5d412c","dfnText":"ongoing navigation","external":true,"refSections":[{"refs":[{"id":"ref-for-ongoing-navigation"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#ongoing-navigation"},
"50b05fad": {"dfnID":"50b05fad","dfnText":"method","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-method"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-request-method"},
"53275e46": {"dfnID":"53275e46","dfnText":"append","external":true,"refSections":[{"refs":[{"id":"ref-for-list-append"},{"id":"ref-for-list-append\u2460"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-list-append\u2461"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-list-append\u2462"}],"title":"6. Prefetch algorithms"}],"url":"https://infra.spec.whatwg.org/#list-append"},
"55213b5b": {"dfnID":"55213b5b","dfnText":"request","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request"},{"id":"ref-for-concept-request\u2460"},{"id":"ref-for-concept-request\u2461"},{"id":"ref-for-concept-request\u2462"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-concept-request\u2463"},{"id":"ref-for-concept-request\u2464"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-request"},
"555b1be1": {"dfnID":"555b1be1","dfnText":"clone","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-response-clone"}],"title":"1. Concepts"}],"url":"https://fetch.spec.whatwg.org/#concept-response-clone"},
"55a6b830": {"dfnID":"55a6b830","dfnText":"active browsing context","external":true,"refSections":[{"refs":[{"id":"ref-for-nav-bc"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-nav-bc\u2460"},{"id":"ref-for-nav-bc\u2461"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc"},
"5a391458": {"dfnID":"5a391458","dfnText":"non-subresource request","external":true,"refSections":[{"refs":[{"id":"ref-for-non-subresource-request"}],"title":"4. Service Workers Patches"}],"url":"https://fetch.spec.whatwg.org/#non-subresource-request"},
"5a57d186": {"dfnID":"5a57d186","dfnText":"anonymization policy","external":true,"refSections":[{"refs":[{"id":"ref-for-sl-candidate-anonymization-policy"}],"title":"1. Concepts"}],"url":"https://whatpr.org/html/11426/speculative-loading.html#sl-candidate-anonymization-policy"},
"5afbefcd": {"dfnID":"5afbefcd","dfnText":"item (for list)","external":true,"refSections":[{"refs":[{"id":"ref-for-list-item"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-list-item\u2460"}],"title":"2. HTML Patches"}],"url":"https://infra.spec.whatwg.org/#list-item"},
"5ea2b73e": {"dfnID":"5ea2b73e","dfnText":"history policy container","external":true,"refSections":[{"refs":[{"id":"ref-for-document-state-history-policy-container"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-document-state-history-policy-container\u2460"},{"id":"ref-for-document-state-history-policy-container\u2461"},{"id":"ref-for-document-state-history-policy-container\u2462"},{"id":"ref-for-document-state-history-policy-container\u2463"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-history-policy-container"},
"5eb733b4": {"dfnID":"5eb733b4","dfnText":"union","external":true,"refSections":[{"refs":[{"id":"ref-for-set-union"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-set-union\u2460"}],"title":"2. HTML Patches"}],"url":"https://infra.spec.whatwg.org/#set-union"},
"5fc63580": {"dfnID":"5fc63580","dfnText":"prerendering navigable","external":true,"refSections":[{"refs":[{"id":"ref-for-prerendering-navigable"}],"title":"8. The `Sec-Purpose` HTTP request header"}],"url":"prerendering.html#prerendering-navigable"},
"602b1a68": {"dfnID":"602b1a68","dfnText":"obtain a site","external":true,"refSections":[{"refs":[{"id":"ref-for-obtain-a-site"},{"id":"ref-for-obtain-a-site\u2460"}],"title":"7. Cookies"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#obtain-a-site"},
"62e9fa4b": {"dfnID":"62e9fa4b","dfnText":"policy container (for navigation params)","external":true,"refSections":[{"refs":[{"id":"ref-for-navigation-params-policy-container"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-navigation-params-policy-container\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-policy-container"},
"6454d3fd": {"dfnID":"6454d3fd","dfnText":"navigation id","external":true,"refSections":[{"refs":[{"id":"ref-for-navigation-id"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-navigation-id\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-id"},
"649608b9": {"dfnID":"649608b9","dfnText":"list","external":true,"refSections":[{"refs":[{"id":"ref-for-list"},{"id":"ref-for-list\u2460"},{"id":"ref-for-list\u2461"},{"id":"ref-for-list\u2462"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-list\u2463"}],"title":"2. HTML Patches"}],"url":"https://infra.spec.whatwg.org/#list"},
"64b62ea0": {"dfnID":"64b62ea0","dfnText":"redirect mode","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-redirect-mode"},{"id":"ref-for-concept-request-redirect-mode\u2460"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-request-redirect-mode"},
"64cace11": {"dfnID":"64cace11","dfnText":"origin (for cross-origin prefetch IP anonymization policy)","external":true,"refSections":[{"refs":[{"id":"ref-for-copiap-origin"}],"title":"1. Concepts"}],"url":"https://whatpr.org/html/11426/speculative-loading.html#copiap-origin"},
"65d48b3a": {"dfnID":"65d48b3a","dfnText":"reserved environment","external":true,"refSections":[{"refs":[{"id":"ref-for-navigation-params-reserved-environment"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-navigation-params-reserved-environment\u2460"},{"id":"ref-for-navigation-params-reserved-environment\u2461"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-reserved-environment"},
"67436284": {"dfnID":"67436284","dfnText":"document state","external":true,"refSections":[{"refs":[{"id":"ref-for-document-state-2"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-document-state-2\u2460"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-document-state-2\u2461"}],"title":"6. Prefetch algorithms"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-2"},
"67955c34": {"dfnID":"67955c34","dfnText":"request body","external":true,"refSections":[{"refs":[{"id":"ref-for-post-resource-request-body"},{"id":"ref-for-post-resource-request-body\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#post-resource-request-body"},
"692595fe": {"dfnID":"692595fe","dfnText":"ordered set","external":true,"refSections":[{"refs":[{"id":"ref-for-ordered-set"}],"title":"1. Concepts"}],"url":"https://infra.spec.whatwg.org/#ordered-set"},
"693b6384": {"dfnID":"693b6384","dfnText":"navigable (for navigation params)","external":true,"refSections":[{"refs":[{"id":"ref-for-navigation-params-navigable"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-navigation-params-navigable\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-navigable"},
"697965b2": {"dfnID":"697965b2","dfnText":"connection","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-connection"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-connection"},
"6981ec14": {"dfnID":"6981ec14","dfnText":"navigation timing type","external":true,"refSections":[{"refs":[{"id":"ref-for-navigation-params-nav-timing-type"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-navigation-params-nav-timing-type\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-nav-timing-type"},
"6aad1618": {"dfnID":"6aad1618","dfnText":"update the successor for activation","external":true,"refSections":[{"refs":[{"id":"ref-for-prerendering-traversable-update-the-successor-for-activation"}],"title":"1. Concepts"}],"url":"https://wicg.github.io/nav-speculation/prerendering.html#prerendering-traversable-update-the-successor-for-activation"},
"6b815fdd": {"dfnID":"6b815fdd","dfnText":"is empty","external":true,"refSections":[{"refs":[{"id":"ref-for-list-is-empty"},{"id":"ref-for-list-is-empty\u2460"}],"title":"1. Concepts"}],"url":"https://infra.spec.whatwg.org/#list-is-empty"},
"6ba97d5f": {"dfnID":"6ba97d5f","dfnText":"Sec-Purpose","external":true,"refSections":[{"refs":[{"id":"ref-for-http-sec-purpose"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-http-sec-purpose\u2460"}],"title":"6. Prefetch algorithms"},{"refs":[{"id":"ref-for-http-sec-purpose\u2461"},{"id":"ref-for-http-sec-purpose\u2462"},{"id":"ref-for-http-sec-purpose\u2463"}],"title":"8. The `Sec-Purpose` HTTP request header"}],"url":"https://fetch.spec.whatwg.org/#http-sec-purpose"},
"6bb42fbb": {"dfnID":"6bb42fbb","dfnText":"fetch controller","external":true,"refSections":[{"refs":[{"id":"ref-for-fetch-controller"},{"id":"ref-for-fetch-controller\u2460"}],"title":"1. Concepts"}],"url":"https://fetch.spec.whatwg.org/#fetch-controller"},
"6beb16ab": {"dfnID":"6beb16ab","dfnText":"current context is navigation source","external":true,"refSections":[{"refs":[{"id":"ref-for-coop-enforcement-source"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#coop-enforcement-source"},
"6cb66c10": {"dfnID":"6cb66c10","dfnText":"process early hint headers","external":true,"refSections":[{"refs":[{"id":"ref-for-process-early-hint-headers"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/semantics.html#process-early-hint-headers"},
"6ee0eab1": {"dfnID":"6ee0eab1","dfnText":"header list","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-header-list"},{"id":"ref-for-concept-request-header-list\u2460"},{"id":"ref-for-concept-request-header-list\u2461"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-request-header-list"},
"7393da89": {"dfnID":"7393da89","dfnText":"same origin","external":true,"refSections":[{"refs":[{"id":"ref-for-same-origin"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-same-origin\u2460"},{"id":"ref-for-same-origin\u2461"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-same-origin\u2462"}],"title":"5. Clear Site Data patches"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#same-origin"},
"73a186aa": {"dfnID":"73a186aa","dfnText":"id (for environment)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-environment-id"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-concept-environment-id\u2460"},{"id":"ref-for-concept-environment-id\u2461"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-concept-environment-id\u2462"}],"title":"4. Service Workers Patches"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id"},
"7412e2ae": {"dfnID":"7412e2ae","dfnText":"resultingClientId","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-fetchevent-resultingclientid"},{"id":"ref-for-dom-fetchevent-resultingclientid\u2460"}],"title":"4. Service Workers Patches"}],"url":"https://w3c.github.io/ServiceWorker/#dom-fetchevent-resultingclientid"},
"762210c0": {"dfnID":"762210c0","dfnText":"container","external":true,"refSections":[{"refs":[{"id":"ref-for-nav-container"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-nav-container\u2460"}],"title":"6. Prefetch algorithms"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-container"},
"77093875": {"dfnID":"77093875","dfnText":"source snapshot params","external":true,"refSections":[{"refs":[{"id":"ref-for-source-snapshot-params"},{"id":"ref-for-source-snapshot-params\u2460"},{"id":"ref-for-source-snapshot-params\u2461"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-source-snapshot-params\u2462"},{"id":"ref-for-source-snapshot-params\u2463"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params"},
"77b4c09a": {"dfnID":"77b4c09a","dfnText":"assert","external":true,"refSections":[{"refs":[{"id":"ref-for-assert"},{"id":"ref-for-assert\u2460"},{"id":"ref-for-assert\u2461"},{"id":"ref-for-assert\u2462"},{"id":"ref-for-assert\u2463"},{"id":"ref-for-assert\u2464"},{"id":"ref-for-assert\u2465"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-assert\u2466"},{"id":"ref-for-assert\u2467"},{"id":"ref-for-assert\u2468"},{"id":"ref-for-assert\u2460\u24ea"},{"id":"ref-for-assert\u2460\u2460"},{"id":"ref-for-assert\u2460\u2461"},{"id":"ref-for-assert\u2460\u2462"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-assert\u2460\u2463"},{"id":"ref-for-assert\u2460\u2464"},{"id":"ref-for-assert\u2460\u2465"},{"id":"ref-for-assert\u2460\u2466"}],"title":"6. Prefetch algorithms"},{"refs":[{"id":"ref-for-assert\u2460\u2467"}],"title":"7. Cookies"}],"url":"https://infra.spec.whatwg.org/#assert"},
"78a97411": {"dfnID":"78a97411","dfnText":"environment discarding steps","external":true,"refSections":[{"refs":[{"id":"ref-for-environment-discarding-steps"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#environment-discarding-steps"},
"7ab8ff1f": {"dfnID":"7ab8ff1f","dfnText":"id (for navigation params)","external":true,"refSections":[{"refs":[{"id":"ref-for-navigation-params-id"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-navigation-params-id\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-id"},
"7b0b4fa0": {"dfnID":"7b0b4fa0","dfnText":"initiator type","external":true,"refSections":[{"refs":[{"id":"ref-for-request-initiator-type"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#request-initiator-type"},
"7b0d918d": {"dfnID":"7b0d918d","dfnText":"break","external":true,"refSections":[{"refs":[{"id":"ref-for-iteration-break"},{"id":"ref-for-iteration-break\u2460"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-iteration-break\u2461"},{"id":"ref-for-iteration-break\u2462"},{"id":"ref-for-iteration-break\u2463"},{"id":"ref-for-iteration-break\u2464"},{"id":"ref-for-iteration-break\u2465"},{"id":"ref-for-iteration-break\u2466"},{"id":"ref-for-iteration-break\u2467"},{"id":"ref-for-iteration-break\u2468"},{"id":"ref-for-iteration-break\u2460\u24ea"}],"title":"2. HTML Patches"}],"url":"https://infra.spec.whatwg.org/#iteration-break"},
"7c560897": {"dfnID":"7c560897","dfnText":"StructuredSerializeForStorage","external":true,"refSections":[{"refs":[{"id":"ref-for-structuredserializeforstorage"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeforstorage"},
"7cf440ca": {"dfnID":"7cf440ca","dfnText":"network partition key","external":true,"refSections":[{"refs":[{"id":"ref-for-network-partition-key"},{"id":"ref-for-network-partition-key\u2460"},{"id":"ref-for-network-partition-key\u2461"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-network-partition-key\u2462"},{"id":"ref-for-network-partition-key\u2463"}],"title":"7. Cookies"}],"url":"https://fetch.spec.whatwg.org/#network-partition-key"},
"7e7cc1d8": {"dfnID":"7e7cc1d8","dfnText":"current high resolution time","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-current-high-resolution-time"},{"id":"ref-for-dfn-current-high-resolution-time\u2460"},{"id":"ref-for-dfn-current-high-resolution-time\u2461"},{"id":"ref-for-dfn-current-high-resolution-time\u2462"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-dfn-current-high-resolution-time\u2463"}],"title":"6. Prefetch algorithms"}],"url":"https://w3c.github.io/hr-time/#dfn-current-high-resolution-time"},
"82b3ff45": {"dfnID":"82b3ff45","dfnText":"reload pending","external":true,"refSections":[{"refs":[{"id":"ref-for-document-state-reload-pending"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-reload-pending"},
"83ca4a87": {"dfnID":"83ca4a87","dfnText":"local name","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-element-local-name"}],"title":"2. HTML Patches"}],"url":"https://dom.spec.whatwg.org/#concept-element-local-name"},
"85394472": {"dfnID":"85394472","dfnText":"Document","external":true,"refSections":[{"refs":[{"id":"ref-for-document"},{"id":"ref-for-document\u2460"},{"id":"ref-for-document\u2461"},{"id":"ref-for-document\u2462"},{"id":"ref-for-document\u2463"},{"id":"ref-for-document\u2464"},{"id":"ref-for-document\u2465"},{"id":"ref-for-document\u2466"},{"id":"ref-for-document\u2467"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-document\u2468"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-document\u2460\u24ea"}],"title":"6. Prefetch algorithms"}],"url":"https://dom.spec.whatwg.org/#document"},
"857d5516": {"dfnID":"857d5516","dfnText":"client","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-client"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-request-client"},
"85e4c237": {"dfnID":"85e4c237","dfnText":"create the navigation timing entry","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-create-the-navigation-timing-entry"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-dfn-create-the-navigation-timing-entry\u2460"}],"title":"3. Navigation Timing Patches"}],"url":"https://w3c.github.io/navigation-timing/#dfn-create-the-navigation-timing-entry"},
"860300d4": {"dfnID":"860300d4","dfnText":"implementation-defined","external":true,"refSections":[{"refs":[{"id":"ref-for-implementation-defined"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-implementation-defined\u2460"},{"id":"ref-for-implementation-defined\u2461"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-implementation-defined\u2462"}],"title":"7. Cookies"}],"url":"https://infra.spec.whatwg.org/#implementation-defined"},
"8684a4e2": {"dfnID":"8684a4e2","dfnText":"serialized state","external":true,"refSections":[{"refs":[{"id":"ref-for-she-serialized-state"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-serialized-state"},
"86ba8c0f": {"dfnID":"86ba8c0f","dfnText":"determine the network partition key","external":true,"refSections":[{"refs":[{"id":"ref-for-determine-the-network-partition-key"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-determine-the-network-partition-key\u2460"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-determine-the-network-partition-key\u2461"}],"title":"6. Prefetch algorithms"}],"url":"https://fetch.spec.whatwg.org/#determine-the-network-partition-key"},
"86d447f1": {"dfnID":"86d447f1","dfnText":"Sec-Speculation-Tags","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-speculation-tags"}],"title":"2. HTML Patches"}],"url":"https://whatpr.org/html/11426/speculative-loading.html#sec-speculation-tags"},
"86eacc78": {"dfnID":"86eacc78","dfnText":"cross-origin opener policy (for Document)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-document-coop"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#concept-document-coop"},
"86efadaf": {"dfnID":"86efadaf","dfnText":"policy container","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-policy-container"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-request-policy-container"},
"89d60043": {"dfnID":"89d60043","dfnText":"obtain a browsing context to use for a navigation response","external":true,"refSections":[{"refs":[{"id":"ref-for-obtain-browsing-context-navigation"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#obtain-browsing-context-navigation"},
"8b58bdef": {"dfnID":"8b58bdef","dfnText":"fetch controller","external":true,"refSections":[{"refs":[{"id":"ref-for-navigation-params-fetch-controller"},{"id":"ref-for-navigation-params-fetch-controller\u2460"},{"id":"ref-for-navigation-params-fetch-controller\u2461"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-navigation-params-fetch-controller\u2462"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-fetch-controller"},
"8e1fb11c": {"dfnID":"8e1fb11c","dfnText":"obtain a connection","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-connection-obtain"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-connection-obtain"},
"8e9945a0": {"dfnID":"8e9945a0","dfnText":"body","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-body"},{"id":"ref-for-concept-request-body\u2460"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-request-body"},
"902380f7": {"dfnID":"902380f7","dfnText":"credentials mode","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-credentials-mode"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-request-credentials-mode"},
"90605561": {"dfnID":"90605561","dfnText":"clear site data for response","external":true,"refSections":[{"refs":[{"id":"ref-for-abstract-opdef-clear-site-data-for-response"}],"title":"5. Clear Site Data patches"}],"url":"https://w3c.github.io/webappsec-clear-site-data/#abstract-opdef-clear-site-data-for-response"},
"9414feaa": {"dfnID":"9414feaa","dfnText":"sandboxing flags","external":true,"refSections":[{"refs":[{"id":"ref-for-target-snapshot-params-sandbox"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-target-snapshot-params-sandbox\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#target-snapshot-params-sandbox"},
"959ad97b": {"dfnID":"959ad97b","dfnText":"origin","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-url-origin"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-concept-url-origin\u2460"},{"id":"ref-for-concept-url-origin\u2461"},{"id":"ref-for-concept-url-origin\u2462"},{"id":"ref-for-concept-url-origin\u2463"},{"id":"ref-for-concept-url-origin\u2464"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-concept-url-origin\u2465"}],"title":"5. Clear Site Data patches"},{"refs":[{"id":"ref-for-concept-url-origin\u2466"}],"title":"7. Cookies"}],"url":"https://url.spec.whatwg.org/#concept-url-origin"},
"96a952cc": {"dfnID":"96a952cc","dfnText":"cross-origin opener policy","external":true,"refSections":[{"refs":[{"id":"ref-for-cross-origin-opener-policy"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#cross-origin-opener-policy"},
"984221ca": {"dfnID":"984221ca","dfnText":"struct","external":true,"refSections":[{"refs":[{"id":"ref-for-struct"},{"id":"ref-for-struct\u2460"}],"title":"1. Concepts"}],"url":"https://infra.spec.whatwg.org/#struct"},
"9939e831": {"dfnID":"9939e831","dfnText":"user-activation","external":true,"refSections":[{"refs":[{"id":"ref-for-request-user-activation"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#request-user-activation"},
"99c988d6": {"dfnID":"99c988d6","dfnText":"remove","external":true,"refSections":[{"refs":[{"id":"ref-for-list-remove"},{"id":"ref-for-list-remove\u2460"},{"id":"ref-for-list-remove\u2461"}],"title":"1. Concepts"}],"url":"https://infra.spec.whatwg.org/#list-remove"},
"9ac94568": {"dfnID":"9ac94568","dfnText":"final sandboxing flag set","external":true,"refSections":[{"refs":[{"id":"ref-for-navigation-params-sandboxing"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-navigation-params-sandboxing\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-sandboxing"},
"9ad93b4c": {"dfnID":"9ad93b4c","dfnText":"fetch scheme","external":true,"refSections":[{"refs":[{"id":"ref-for-fetch-scheme"},{"id":"ref-for-fetch-scheme\u2460"},{"id":"ref-for-fetch-scheme\u2461"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#fetch-scheme"},
"9c19b7fc": {"dfnID":"9c19b7fc","dfnText":"navigable","external":true,"refSections":[{"refs":[{"id":"ref-for-navigable"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-navigable\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#navigable"},
"9c4c1e66": {"dfnID":"9c4c1e66","dfnText":"relevant settings object","external":true,"refSections":[{"refs":[{"id":"ref-for-relevant-settings-object"},{"id":"ref-for-relevant-settings-object\u2460"},{"id":"ref-for-relevant-settings-object\u2461"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-relevant-settings-object\u2462"},{"id":"ref-for-relevant-settings-object\u2463"}],"title":"6. Prefetch algorithms"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"},
"9c5d9c4d": {"dfnID":"9c5d9c4d","dfnText":"potentially trustworthy URL","external":true,"refSections":[{"refs":[{"id":"ref-for-potentially-trustworthy-url"}],"title":"2. HTML Patches"}],"url":"https://w3c.github.io/webappsec-secure-contexts/#potentially-trustworthy-url"},
"a132d33a": {"dfnID":"a132d33a","dfnText":"prerendering traversable","external":true,"refSections":[{"refs":[{"id":"ref-for-prerendering-traversable"},{"id":"ref-for-prerendering-traversable\u2460"},{"id":"ref-for-prerendering-traversable\u2461"},{"id":"ref-for-prerendering-traversable\u2462"}],"title":"1. Concepts"}],"url":"prerendering.html#prerendering-traversable"},
"a15b83c5": {"dfnID":"a15b83c5","dfnText":"NavigationTimingType","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-navigationtimingtype"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-dom-navigationtimingtype\u2460"}],"title":"2. HTML Patches"}],"url":"https://w3c.github.io/navigation-timing/#dom-navigationtimingtype"},
"a1d47575": {"dfnID":"a1d47575","dfnText":"status","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-response-status"}],"title":"6. Prefetch algorithms"}],"url":"https://fetch.spec.whatwg.org/#concept-response-status"},
"a1e6e861": {"dfnID":"a1e6e861","dfnText":"cookie","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-document-cookie"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#dom-document-cookie"},
"a27468c5": {"dfnID":"a27468c5","dfnText":"ok status","external":true,"refSections":[{"refs":[{"id":"ref-for-ok-status"},{"id":"ref-for-ok-status\u2460"}],"title":"6. Prefetch algorithms"}],"url":"https://fetch.spec.whatwg.org/#ok-status"},
"a33db89a": {"dfnID":"a33db89a","dfnText":"fetch","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-fetch"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-fetch"},
"a4b0cf35": {"dfnID":"a4b0cf35","dfnText":"value","external":true,"refSections":[{"refs":[{"id":"ref-for-coop-struct-value"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-coop-struct-value\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#coop-struct-value"},
"a5d528b5": {"dfnID":"a5d528b5","dfnText":"Match Service Worker Registration","external":true,"refSections":[{"refs":[{"id":"ref-for-match-service-worker-registration"}],"title":"1. Concepts"}],"url":"https://w3c.github.io/ServiceWorker/#match-service-worker-registration"},
"a6b85a00": {"dfnID":"a6b85a00","dfnText":"credentials","external":true,"refSections":[{"refs":[{"id":"ref-for-credentials"},{"id":"ref-for-credentials\u2460"}],"title":"1. Concepts"}],"url":"https://fetch.spec.whatwg.org/#credentials"},
"a72449dd": {"dfnID":"a72449dd","dfnText":"in parallel","external":true,"refSections":[{"refs":[{"id":"ref-for-in-parallel"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-in-parallel\u2460"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-in-parallel\u2461"}],"title":"6. Prefetch algorithms"}],"url":"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"},
"a8b25997": {"dfnID":"a8b25997","dfnText":"redirect status","external":true,"refSections":[{"refs":[{"id":"ref-for-redirect-status"}],"title":"6. Prefetch algorithms"}],"url":"https://fetch.spec.whatwg.org/#redirect-status"},
"aafd88f4": {"dfnID":"aafd88f4","dfnText":"Item","external":true,"refSections":[{"refs":[{"id":"ref-for-name-items"}],"title":"8. The `Sec-Purpose` HTTP request header"}],"url":"https://www.rfc-editor.org/rfc/rfc9651.html#name-items"},
"ab7486c3": {"dfnID":"ab7486c3","dfnText":"Set-Cookie","external":true,"refSections":[{"refs":[{"id":"ref-for-set-cookie"}],"title":"7. Cookies"}],"url":"https://httpwg.org/specs/rfc6265.html#set-cookie"},
"abe352cd": {"dfnID":"abe352cd","dfnText":"reserved client","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-reserved-client"},{"id":"ref-for-concept-request-reserved-client\u2460"},{"id":"ref-for-concept-request-reserved-client\u2461"},{"id":"ref-for-concept-request-reserved-client\u2462"},{"id":"ref-for-concept-request-reserved-client\u2463"},{"id":"ref-for-concept-request-reserved-client\u2464"},{"id":"ref-for-concept-request-reserved-client\u2465"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-concept-request-reserved-client\u2466"},{"id":"ref-for-concept-request-reserved-client\u2467"},{"id":"ref-for-concept-request-reserved-client\u2468"},{"id":"ref-for-concept-request-reserved-client\u2460\u24ea"},{"id":"ref-for-concept-request-reserved-client\u2460\u2460"},{"id":"ref-for-concept-request-reserved-client\u2460\u2461"},{"id":"ref-for-concept-request-reserved-client\u2460\u2462"},{"id":"ref-for-concept-request-reserved-client\u2460\u2463"},{"id":"ref-for-concept-request-reserved-client\u2460\u2464"},{"id":"ref-for-concept-request-reserved-client\u2460\u2465"},{"id":"ref-for-concept-request-reserved-client\u2460\u2466"},{"id":"ref-for-concept-request-reserved-client\u2460\u2467"},{"id":"ref-for-concept-request-reserved-client\u2460\u2468"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-concept-request-reserved-client\u2461\u24ea"}],"title":"4. Service Workers Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-request-reserved-client"},
"abf6cbed": {"dfnID":"abf6cbed","dfnText":"Create Fetch Event and Dispatch","external":true,"refSections":[{"refs":[{"id":"ref-for-create-fetch-event-and-dispatch"}],"title":"4. Service Workers Patches"}],"url":"https://w3c.github.io/ServiceWorker/#create-fetch-event-and-dispatch"},
"ae2a6342": {"dfnID":"ae2a6342","dfnText":"top-level browsing context","external":true,"refSections":[{"refs":[{"id":"ref-for-top-level-browsing-context"},{"id":"ref-for-top-level-browsing-context\u2460"}],"title":"7. Cookies"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context"},
"ae56d57e": {"dfnID":"ae56d57e","dfnText":"URL list","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-url-list"}],"title":"1. Concepts"}],"url":"https://fetch.spec.whatwg.org/#concept-request-url-list"},
"ae8def21": {"dfnID":"ae8def21","dfnText":"contain","external":true,"refSections":[{"refs":[{"id":"ref-for-list-contain"}],"title":"1. Concepts"}],"url":"https://infra.spec.whatwg.org/#list-contain"},
"b01b1359": {"dfnID":"b01b1359","dfnText":"opaque origin","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-origin-opaque"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-concept-origin-opaque\u2460"},{"id":"ref-for-concept-origin-opaque\u2461"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"},
"b141168a": {"dfnID":"b141168a","dfnText":"URL (for speculative load candidate)","external":true,"refSections":[{"refs":[{"id":"ref-for-sl-candidate-url"}],"title":"1. Concepts"}],"url":"https://whatpr.org/html/11426/speculative-loading.html#sl-candidate-url"},
"b285d8c5": {"dfnID":"b285d8c5","dfnText":"source policy container","external":true,"refSections":[{"refs":[{"id":"ref-for-source-snapshot-params-policy-container"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-source-snapshot-params-policy-container\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params-policy-container"},
"b393ea32": {"dfnID":"b393ea32","dfnText":"delivery type","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-delivery-type"}],"title":"2. HTML Patches"}],"url":"https://w3c.github.io/resource-timing/#dfn-delivery-type"},
"b5201fff": {"dfnID":"b5201fff","dfnText":"getting the supported loading modes","external":true,"refSections":[{"refs":[{"id":"ref-for-get-the-supported-loading-modes"}],"title":"1. Concepts"}],"url":"prerendering.html#get-the-supported-loading-modes"},
"b520afde": {"dfnID":"b520afde","dfnText":"cross-origin opener policy (for cross-origin opener policy enforcement result)","external":true,"refSections":[{"refs":[{"id":"ref-for-coop-enforcement-coop"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#coop-enforcement-coop"},
"b6ae4501": {"dfnID":"b6ae4501","dfnText":"networking task source","external":true,"refSections":[{"refs":[{"id":"ref-for-networking-task-source"}],"title":"6. Prefetch algorithms"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source"},
"b8599a7d": {"dfnID":"b8599a7d","dfnText":"cross-origin prefetch IP anonymization policy","external":true,"refSections":[{"refs":[{"id":"ref-for-cross-origin-prefetch-ip-anonymization-policy"}],"title":"1. Concepts"}],"url":"https://whatpr.org/html/11426/speculative-loading.html#cross-origin-prefetch-ip-anonymization-policy"},
"b8bb48a1": {"dfnID":"b8bb48a1","dfnText":"reload-navigation flag","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-reload-navigation-flag"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-request-reload-navigation-flag"},
"ba5c8415": {"dfnID":"ba5c8415","dfnText":"snapshot source snapshot params","external":true,"refSections":[{"refs":[{"id":"ref-for-snapshotting-source-snapshot-params"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-snapshotting-source-snapshot-params\u2460"}],"title":"6. Prefetch algorithms"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#snapshotting-source-snapshot-params"},
"bd2fe71e": {"dfnID":"bd2fe71e","dfnText":"processResponse","external":true,"refSections":[{"refs":[{"id":"ref-for-process-response"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#process-response"},
"bd736ec6": {"dfnID":"bd736ec6","dfnText":"top-level traversable","external":true,"refSections":[{"refs":[{"id":"ref-for-top-level-traversable"},{"id":"ref-for-top-level-traversable\u2460"},{"id":"ref-for-top-level-traversable\u2461"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-top-level-traversable\u2462"},{"id":"ref-for-top-level-traversable\u2463"},{"id":"ref-for-top-level-traversable\u2464"},{"id":"ref-for-top-level-traversable\u2465"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-top-level-traversable\u2466"}],"title":"6. Prefetch algorithms"},{"refs":[{"id":"ref-for-top-level-traversable\u2467"}],"title":"7. Cookies"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable"},
"be123ea4": {"dfnID":"be123ea4","dfnText":"matchAll()","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-clients-matchall"}],"title":"4. Service Workers Patches"}],"url":"https://w3c.github.io/ServiceWorker/#dom-clients-matchall"},
"bf63a402": {"dfnID":"bf63a402","dfnText":"navigable container","external":true,"refSections":[{"refs":[{"id":"ref-for-navigable-container"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#navigable-container"},
"c12ccfe9": {"dfnID":"c12ccfe9","dfnText":"Token","external":true,"refSections":[{"refs":[{"id":"ref-for-name-tokens"},{"id":"ref-for-name-tokens\u2460"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-name-tokens\u2461"}],"title":"8. The `Sec-Purpose` HTTP request header"}],"url":"https://www.rfc-editor.org/rfc/rfc9651.html#name-tokens"},
"c1ead35c": {"dfnID":"c1ead35c","dfnText":"origin (for cross-origin opener policy enforcement result)","external":true,"refSections":[{"refs":[{"id":"ref-for-coop-enforcement-origin"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#coop-enforcement-origin"},
"c2b18c6d": {"dfnID":"c2b18c6d","dfnText":"String","external":true,"refSections":[{"refs":[{"id":"ref-for-name-strings"}],"title":"2. HTML Patches"}],"url":"https://www.rfc-editor.org/rfc/rfc9651.html#name-strings"},
"c2c86ee8": {"dfnID":"c2c86ee8","dfnText":"history-navigation flag","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-history-navigation-flag"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-request-history-navigation-flag"},
"c4f03264": {"dfnID":"c4f03264","dfnText":"receive a cookie","external":true,"refSections":[{"refs":[{"id":"ref-for-storage-model"},{"id":"ref-for-storage-model\u2460"},{"id":"ref-for-storage-model\u2461"},{"id":"ref-for-storage-model\u2462"}],"title":"7. Cookies"}],"url":"https://httpwg.org/specs/rfc6265.html#storage-model"},
"c56329c9": {"dfnID":"c56329c9","dfnText":"\"report\"","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-requestdestination-report"}],"title":"4. Service Workers Patches"}],"url":"https://fetch.spec.whatwg.org/#dom-requestdestination-report"},
"c62cd7cf": {"dfnID":"c62cd7cf","dfnText":"origin","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-document-origin"},{"id":"ref-for-concept-document-origin\u2460"},{"id":"ref-for-concept-document-origin\u2461"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-concept-document-origin\u2462"}],"title":"5. Clear Site Data patches"},{"refs":[{"id":"ref-for-concept-document-origin\u2463"}],"title":"6. Prefetch algorithms"}],"url":"https://dom.spec.whatwg.org/#concept-document-origin"},
"c63519ed": {"dfnID":"c63519ed","dfnText":"top-level origin","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-environment-top-level-origin"},{"id":"ref-for-concept-environment-top-level-origin\u2460"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-concept-environment-top-level-origin\u2461"}],"title":"7. Cookies"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin"},
"c666e05d": {"dfnID":"c666e05d","dfnText":"speculative load candidate","external":true,"refSections":[{"refs":[{"id":"ref-for-speculative-load-candidate"}],"title":"1. Concepts"}],"url":"https://whatpr.org/html/11426/speculative-loading.html#speculative-load-candidate"},
"c7e9559b": {"dfnID":"c7e9559b","dfnText":"Should navigation request of type be blocked by Content Security Policy?","external":true,"refSections":[{"refs":[{"id":"ref-for-should-block-navigation-request"}],"title":"2. HTML Patches"}],"url":"https://w3c.github.io/webappsec-csp/#should-block-navigation-request"},
"c88f3887": {"dfnID":"c88f3887","dfnText":"item (for struct)","external":true,"refSections":[{"refs":[{"id":"ref-for-struct-item"},{"id":"ref-for-struct-item\u2460"}],"title":"1. Concepts"}],"url":"https://infra.spec.whatwg.org/#struct-item"},
"c8c44926": {"dfnID":"c8c44926","dfnText":"prefetch candidate","external":true,"refSections":[{"refs":[{"id":"ref-for-prefetch-candidate"}],"title":"1. Concepts"}],"url":"https://whatpr.org/html/11426/speculative-loading.html#prefetch-candidate"},
"cb066b75": {"dfnID":"cb066b75","dfnText":"cookie","external":true,"refSections":[{"refs":[{"id":"ref-for-storage-model"},{"id":"ref-for-storage-model\u2460"},{"id":"ref-for-storage-model\u2461"},{"id":"ref-for-storage-model\u2462"}],"title":"7. Cookies"}],"url":"https://httpwg.org/specs/rfc6265.html#storage-model"},
"cb98f71f": {"dfnID":"cb98f71f","dfnText":"mode","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-mode"},{"id":"ref-for-concept-request-mode\u2460"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-request-mode"},
"cc601639": {"dfnID":"cc601639","dfnText":"container document","external":true,"refSections":[{"refs":[{"id":"ref-for-nav-container-document"},{"id":"ref-for-nav-container-document\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-container-document"},
"cca60038": {"dfnID":"cca60038","dfnText":"FetchEvent","external":true,"refSections":[{"refs":[{"id":"ref-for-fetchevent"}],"title":"4. Service Workers Patches"}],"url":"https://w3c.github.io/ServiceWorker/#fetchevent"},
"cd03669e": {"dfnID":"cd03669e","dfnText":"referrer policy","external":true,"refSections":[{"refs":[{"id":"ref-for-policy-container-referrer-policy"}],"title":"6. Prefetch algorithms"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#policy-container-referrer-policy"},
"cdede25f": {"dfnID":"cdede25f","dfnText":"create and initialize a Document object","external":true,"refSections":[{"refs":[{"id":"ref-for-initialise-the-document-object"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/document-lifecycle.html#initialise-the-document-object"},
"ce25aa4d": {"dfnID":"ce25aa4d","dfnText":"get(id)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-clients-get"}],"title":"1. Concepts"}],"url":"https://w3c.github.io/ServiceWorker/#dom-clients-get"},
"cf844e77": {"dfnID":"cf844e77","dfnText":"non-fetch scheme navigation params","external":true,"refSections":[{"refs":[{"id":"ref-for-non-fetch-scheme-navigation-params"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#non-fetch-scheme-navigation-params"},
"cfb6031b": {"dfnID":"cfb6031b","dfnText":"creating a policy container from a fetch response","external":true,"refSections":[{"refs":[{"id":"ref-for-creating-a-policy-container-from-a-fetch-response"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-creating-a-policy-container-from-a-fetch-response\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#creating-a-policy-container-from-a-fetch-response"},
"clear-prefetch-cache": {"dfnID":"clear-prefetch-cache","dfnText":"clear prefetch cache","external":false,"refSections":[{"refs":[{"id":"ref-for-clear-prefetch-cache"}],"title":"5. Clear Site Data patches"}],"url":"#clear-prefetch-cache"},
"conflicting-credentials-exist": {"dfnID":"conflicting-credentials-exist","dfnText":"Conflicting credentials exist","external":false,"refSections":[{"refs":[{"id":"ref-for-conflicting-credentials-exist"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-conflicting-credentials-exist\u2460"}],"title":"2. HTML Patches"}],"url":"#conflicting-credentials-exist"},
"copy-prefetch-cookies": {"dfnID":"copy-prefetch-cookies","dfnText":"copy prefetch cookies","external":false,"refSections":[{"refs":[{"id":"ref-for-copy-prefetch-cookies"}],"title":"2. HTML Patches"}],"url":"#copy-prefetch-cookies"},
"create-a-cross-origin-opener-policy-enforcement-result-for-navigation": {"dfnID":"create-a-cross-origin-opener-policy-enforcement-result-for-navigation","dfnText":"create a cross-origin opener policy enforcement result for navigation","external":false,"refSections":[{"refs":[{"id":"ref-for-create-a-cross-origin-opener-policy-enforcement-result-for-navigation"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-create-a-cross-origin-opener-policy-enforcement-result-for-navigation\u2460"}],"title":"2. HTML Patches"}],"url":"#create-a-cross-origin-opener-policy-enforcement-result-for-navigation"},
"create-a-navigation-request": {"dfnID":"create-a-navigation-request","dfnText":"create a navigation request","external":false,"refSections":[{"refs":[{"id":"ref-for-create-a-navigation-request"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-create-a-navigation-request\u2460"}],"title":"6. Prefetch algorithms"}],"url":"#create-a-navigation-request"},
"create-a-reserved-client": {"dfnID":"create-a-reserved-client","dfnText":"create a reserved client","external":false,"refSections":[{"refs":[{"id":"ref-for-create-a-reserved-client"},{"id":"ref-for-create-a-reserved-client\u2460"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-create-a-reserved-client\u2461"}],"title":"2. HTML Patches"}],"url":"#create-a-reserved-client"},
"create-navigation-params-by-fetching": {"dfnID":"create-navigation-params-by-fetching","dfnText":"create navigation params by fetching","external":false,"refSections":[{"refs":[{"id":"ref-for-create-navigation-params-by-fetching\u2463"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-create-navigation-params-by-fetching\u2465"}],"title":"6. Prefetch algorithms"}],"url":"#create-navigation-params-by-fetching"},
"create-navigation-params-by-fetching-prefetchRecord": {"dfnID":"create-navigation-params-by-fetching-prefetchRecord","dfnText":"prefetchRecord","external":false,"refSections":[{"refs":[{"id":"ref-for-create-navigation-params-by-fetching-prefetchRecord"}],"title":"6. Prefetch algorithms"}],"url":"#create-navigation-params-by-fetching-prefetchRecord"},
"create-navigation-params-from-a-prefetch-record": {"dfnID":"create-navigation-params-from-a-prefetch-record","dfnText":"create navigation params from a prefetch record","external":false,"refSections":[{"refs":[{"id":"ref-for-create-navigation-params-from-a-prefetch-record"},{"id":"ref-for-create-navigation-params-from-a-prefetch-record\u2460"}],"title":"2. HTML Patches"}],"url":"#create-navigation-params-from-a-prefetch-record"},
"d0398cd2": {"dfnID":"d0398cd2","dfnText":"resource","external":true,"refSections":[{"refs":[{"id":"ref-for-document-state-resource"},{"id":"ref-for-document-state-resource\u2460"},{"id":"ref-for-document-state-resource\u2461"},{"id":"ref-for-document-state-resource\u2462"},{"id":"ref-for-document-state-resource\u2463"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-resource"},
"d0c1b934": {"dfnID":"d0c1b934","dfnText":"traversable navigable","external":true,"refSections":[{"refs":[{"id":"ref-for-traversable-navigable"}],"title":"1. Concepts"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable"},
"d20bde85": {"dfnID":"d20bde85","dfnText":"determine navigation params policy container","external":true,"refSections":[{"refs":[{"id":"ref-for-determining-navigation-params-policy-container"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-determining-navigation-params-policy-container\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#determining-navigation-params-policy-container"},
"d9f4dab1": {"dfnID":"d9f4dab1","dfnText":"set","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-header-list-set"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-header-list-set"},
"dbdbb853": {"dfnID":"dbdbb853","dfnText":"inclusive descendant navigables","external":true,"refSections":[{"refs":[{"id":"ref-for-inclusive-descendant-navigables"}],"title":"5. Clear Site Data patches"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#inclusive-descendant-navigables"},
"dc1cd39b": {"dfnID":"dc1cd39b","dfnText":"URL (for request)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-url"},{"id":"ref-for-concept-request-url\u2460"},{"id":"ref-for-concept-request-url\u2461"},{"id":"ref-for-concept-request-url\u2462"},{"id":"ref-for-concept-request-url\u2463"},{"id":"ref-for-concept-request-url\u2464"},{"id":"ref-for-concept-request-url\u2465"},{"id":"ref-for-concept-request-url\u2466"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-concept-request-url\u2467"},{"id":"ref-for-concept-request-url\u2468"},{"id":"ref-for-concept-request-url\u2460\u24ea"},{"id":"ref-for-concept-request-url\u2460\u2460"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-request-url"},
"dcffbccd": {"dfnID":"dcffbccd","dfnText":"URL","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-url"},{"id":"ref-for-concept-url\u2460"},{"id":"ref-for-concept-url\u2461"},{"id":"ref-for-concept-url\u2462"},{"id":"ref-for-concept-url\u2463"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-concept-url\u2464"},{"id":"ref-for-concept-url\u2465"},{"id":"ref-for-concept-url\u2466"}],"title":"2. HTML Patches"}],"url":"https://url.spec.whatwg.org/#concept-url"},
"deb80b93": {"dfnID":"deb80b93","dfnText":"top-level traversable set","external":true,"refSections":[{"refs":[{"id":"ref-for-top-level-traversable-set"}],"title":"5. Clear Site Data patches"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable-set"},
"dfa9c14c": {"dfnID":"dfa9c14c","dfnText":"has transient activation","external":true,"refSections":[{"refs":[{"id":"ref-for-source-snapshot-params-activation"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params-activation"},
"dff96e64": {"dfnID":"dff96e64","dfnText":"ever populated","external":true,"refSections":[{"refs":[{"id":"ref-for-document-state-ever-populated"},{"id":"ref-for-document-state-ever-populated\u2460"},{"id":"ref-for-document-state-ever-populated\u2461"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-ever-populated"},
"document-prefetch-records": {"dfnID":"document-prefetch-records","dfnText":"prefetch records","external":false,"refSections":[{"refs":[{"id":"ref-for-document-prefetch-records"},{"id":"ref-for-document-prefetch-records\u2460"},{"id":"ref-for-document-prefetch-records\u2461"},{"id":"ref-for-document-prefetch-records\u2462"},{"id":"ref-for-document-prefetch-records\u2463"},{"id":"ref-for-document-prefetch-records\u2464"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-document-prefetch-records\u2465"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-document-prefetch-records\u2466"}],"title":"5. Clear Site Data patches"},{"refs":[{"id":"ref-for-document-prefetch-records\u2467"}],"title":"6. Prefetch algorithms"}],"url":"#document-prefetch-records"},
"e5461467": {"dfnID":"e5461467","dfnText":"determine the origin","external":true,"refSections":[{"refs":[{"id":"ref-for-determining-the-origin"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-determining-the-origin\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#determining-the-origin"},
"e9450d4d": {"dfnID":"e9450d4d","dfnText":"setup the resource timing entry","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-setup-the-resource-timing-entry"}],"title":"3. Navigation Timing Patches"}],"url":"https://w3c.github.io/resource-timing/#dfn-setup-the-resource-timing-entry"},
"e9767374": {"dfnID":"e9767374","dfnText":"request referrer","external":true,"refSections":[{"refs":[{"id":"ref-for-document-state-request-referrer"},{"id":"ref-for-document-state-request-referrer\u2460"},{"id":"ref-for-document-state-request-referrer\u2461"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-request-referrer"},
"e99bd18e": {"dfnID":"e99bd18e","dfnText":"relevant global object","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-relevant-global"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-concept-relevant-global\u2460"},{"id":"ref-for-concept-relevant-global\u2461"}],"title":"6. Prefetch algorithms"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"},
"eb1b1af3": {"dfnID":"eb1b1af3","dfnText":"network error","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-network-error"},{"id":"ref-for-concept-network-error\u2460"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-concept-network-error\u2461"},{"id":"ref-for-concept-network-error\u2462"},{"id":"ref-for-concept-network-error\u2463"},{"id":"ref-for-concept-network-error\u2464"},{"id":"ref-for-concept-network-error\u2465"},{"id":"ref-for-concept-network-error\u2466"},{"id":"ref-for-concept-network-error\u2467"},{"id":"ref-for-concept-network-error\u2468"},{"id":"ref-for-concept-network-error\u2460\u24ea"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-network-error"},
"eb62573b": {"dfnID":"eb62573b","dfnText":"HTTP(S) scheme","external":true,"refSections":[{"refs":[{"id":"ref-for-http-scheme"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-http-scheme\u2460"}],"title":"6. Prefetch algorithms"}],"url":"https://fetch.spec.whatwg.org/#http-scheme"},
"eb72b0d8": {"dfnID":"eb72b0d8","dfnText":"PerformanceResourceTiming","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-performanceresourcetiming"}],"title":"2. HTML Patches"}],"url":"https://w3c.github.io/resource-timing/#dom-performanceresourcetiming"},
"ed948033": {"dfnID":"ed948033","dfnText":"fragment","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-url-fragment"}],"title":"2. HTML Patches"}],"url":"https://url.spec.whatwg.org/#concept-url-fragment"},
"ee7bba09": {"dfnID":"ee7bba09","dfnText":"response","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-response"},{"id":"ref-for-concept-response\u2460"},{"id":"ref-for-concept-response\u2461"},{"id":"ref-for-concept-response\u2462"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-concept-response\u2463"},{"id":"ref-for-concept-response\u2464"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-concept-response\u2465"}],"title":"5. Clear Site Data patches"},{"refs":[{"id":"ref-for-concept-response\u2466"},{"id":"ref-for-concept-response\u2467"}],"title":"6. Prefetch algorithms"}],"url":"https://fetch.spec.whatwg.org/#concept-response"},
"ee98f837": {"dfnID":"ee98f837","dfnText":"POST resource","external":true,"refSections":[{"refs":[{"id":"ref-for-post-resource"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#post-resource"},
"eed7ae2f": {"dfnID":"eed7ae2f","dfnText":"url (for cross-origin opener policy enforcement result)","external":true,"refSections":[{"refs":[{"id":"ref-for-coop-enforcement-url"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#coop-enforcement-url"},
"environment-is-navigational-prefetch-client": {"dfnID":"environment-is-navigational-prefetch-client","dfnText":"is navigational prefetch client","external":false,"refSections":[{"refs":[{"id":"ref-for-environment-is-navigational-prefetch-client"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-environment-is-navigational-prefetch-client\u2460"}],"title":"4. Service Workers Patches"}],"url":"#environment-is-navigational-prefetch-client"},
"exchange-record": {"dfnID":"exchange-record","dfnText":"exchange record","external":false,"refSections":[{"refs":[{"id":"ref-for-exchange-record"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-exchange-record\u2460"}],"title":"2. HTML Patches"}],"url":"#exchange-record"},
"exchange-record-request": {"dfnID":"exchange-record-request","dfnText":"request","external":false,"refSections":[{"refs":[{"id":"ref-for-exchange-record-request"},{"id":"ref-for-exchange-record-request\u2460"},{"id":"ref-for-exchange-record-request\u2461"},{"id":"ref-for-exchange-record-request\u2462"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-exchange-record-request\u2463"}],"title":"2. HTML Patches"}],"url":"#exchange-record-request"},
"exchange-record-response": {"dfnID":"exchange-record-response","dfnText":"response","external":false,"refSections":[{"refs":[{"id":"ref-for-exchange-record-response"},{"id":"ref-for-exchange-record-response\u2460"},{"id":"ref-for-exchange-record-response\u2461"},{"id":"ref-for-exchange-record-response\u2462"},{"id":"ref-for-exchange-record-response\u2463"},{"id":"ref-for-exchange-record-response\u2464"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-exchange-record-response\u2465"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-exchange-record-response\u2466"}],"title":"6. Prefetch algorithms"}],"url":"#exchange-record-response"},
"f08e1f8e": {"dfnID":"f08e1f8e","dfnText":"URL search variance","external":true,"refSections":[{"refs":[{"id":"ref-for-name-data-model"}],"title":"1. Concepts"}],"url":"https://httpwg.org/http-extensions/draft-ietf-httpbis-no-vary-search.html#name-data-model"},
"f23dc013": {"dfnID":"f23dc013","dfnText":"child navigable","external":true,"refSections":[{"refs":[{"id":"ref-for-child-navigable"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-child-navigable\u2460"}],"title":"6. Prefetch algorithms"},{"refs":[{"id":"ref-for-child-navigable\u2461"}],"title":"7. Cookies"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#child-navigable"},
"f681de9f": {"dfnID":"f681de9f","dfnText":"parse response's Clear-Site-Data header","external":true,"refSections":[{"refs":[{"id":"ref-for-abstract-opdef-parse-responses-clear-site-data-header"}],"title":"5. Clear Site Data patches"}],"url":"https://w3c.github.io/webappsec-clear-site-data/#abstract-opdef-parse-responses-clear-site-data-header"},
"f78d5b5c": {"dfnID":"f78d5b5c","dfnText":"origin","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-origin"}],"title":"2. HTML Patches"}],"url":"https://fetch.spec.whatwg.org/#concept-request-origin"},
"f83e595e": {"dfnID":"f83e595e","dfnText":"commit early hints","external":true,"refSections":[{"refs":[{"id":"ref-for-navigation-params-commit-early-hints"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-navigation-params-commit-early-hints\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-commit-early-hints"},
"f937b7b6": {"dfnID":"f937b7b6","dfnText":"continue","external":true,"refSections":[{"refs":[{"id":"ref-for-iteration-continue"},{"id":"ref-for-iteration-continue\u2460"},{"id":"ref-for-iteration-continue\u2461"},{"id":"ref-for-iteration-continue\u2462"},{"id":"ref-for-iteration-continue\u2463"},{"id":"ref-for-iteration-continue\u2464"},{"id":"ref-for-iteration-continue\u2465"},{"id":"ref-for-iteration-continue\u2466"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-iteration-continue\u2467"},{"id":"ref-for-iteration-continue\u2468"}],"title":"5. Clear Site Data patches"}],"url":"https://infra.spec.whatwg.org/#iteration-continue"},
"f9d3ff53": {"dfnID":"f9d3ff53","dfnText":"enforce a response's cross-origin opener policy","external":true,"refSections":[{"refs":[{"id":"ref-for-coop-enforce"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-coop-enforce\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#coop-enforce"},
"fa5ee9c5": {"dfnID":"fa5ee9c5","dfnText":"creation URL","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-environment-creation-url"},{"id":"ref-for-concept-environment-creation-url\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"},
"fd8e1d03": {"dfnID":"fd8e1d03","dfnText":"initiator origin (for non-fetch scheme navigation params)","external":true,"refSections":[{"refs":[{"id":"ref-for-non-fetch-scheme-params-initiator-origin"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#non-fetch-scheme-params-initiator-origin"},
"feac4ab3": {"dfnID":"feac4ab3","dfnText":"same site","external":true,"refSections":[{"refs":[{"id":"ref-for-same-site"},{"id":"ref-for-same-site\u2460"}],"title":"2. HTML Patches"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#same-site"},
"find-a-matching-complete-prefetch-record": {"dfnID":"find-a-matching-complete-prefetch-record","dfnText":"find a matching complete prefetch record","external":false,"refSections":[{"refs":[{"id":"ref-for-find-a-matching-complete-prefetch-record"}],"title":"1. Concepts"}],"url":"#find-a-matching-complete-prefetch-record"},
"has-a-matching-prefetch-record": {"dfnID":"has-a-matching-prefetch-record","dfnText":"has a matching prefetch record","external":false,"refSections":[{"refs":[{"id":"ref-for-has-a-matching-prefetch-record"}],"title":"6. Prefetch algorithms"}],"url":"#has-a-matching-prefetch-record"},
"has-a-matching-prefetch-record-checkprerender": {"dfnID":"has-a-matching-prefetch-record-checkprerender","dfnText":"checkPrerender","external":false,"refSections":[],"url":"#has-a-matching-prefetch-record-checkprerender"},
"list-of-sufficiently-strict-speculative-navigation-referrer-policies": {"dfnID":"list-of-sufficiently-strict-speculative-navigation-referrer-policies","dfnText":"list of sufficiently strict speculative navigation referrer policies","external":false,"refSections":[{"refs":[{"id":"ref-for-list-of-sufficiently-strict-speculative-navigation-referrer-policies"}],"title":"2. HTML Patches"}],"url":"#list-of-sufficiently-strict-speculative-navigation-referrer-policies"},
"navigation-params-delivery-type": {"dfnID":"navigation-params-delivery-type","dfnText":"delivery type","external":false,"refSections":[{"refs":[{"id":"ref-for-navigation-params-delivery-type"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-navigation-params-delivery-type\u2460"},{"id":"ref-for-navigation-params-delivery-type\u2461"}],"title":"2. HTML Patches"}],"url":"#navigation-params-delivery-type"},
"prefetch-ip-anonymization-policy-requires-anonymity": {"dfnID":"prefetch-ip-anonymization-policy-requires-anonymity","dfnText":"requires anonymity","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetch-ip-anonymization-policy-requires-anonymity"}],"title":"2. HTML Patches"}],"url":"#prefetch-ip-anonymization-policy-requires-anonymity"},
"prefetch-record": {"dfnID":"prefetch-record","dfnText":"prefetch record","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetch-record"},{"id":"ref-for-prefetch-record\u2460"},{"id":"ref-for-prefetch-record\u2461"},{"id":"ref-for-prefetch-record\u2462"},{"id":"ref-for-prefetch-record\u2463"},{"id":"ref-for-prefetch-record\u2464"},{"id":"ref-for-prefetch-record\u2465"},{"id":"ref-for-prefetch-record\u2466"},{"id":"ref-for-prefetch-record\u2467"},{"id":"ref-for-prefetch-record\u2468"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-prefetch-record\u2460\u24ea"},{"id":"ref-for-prefetch-record\u2460\u2460"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-prefetch-record\u2460\u2461"}],"title":"6. Prefetch algorithms"}],"url":"#prefetch-record"},
"prefetch-record-anonymization-policy": {"dfnID":"prefetch-record-anonymization-policy","dfnText":"anonymization policy","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetch-record-anonymization-policy"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-prefetch-record-anonymization-policy\u2460"},{"id":"ref-for-prefetch-record-anonymization-policy\u2461"}],"title":"2. HTML Patches"}],"url":"#prefetch-record-anonymization-policy"},
"prefetch-record-cancel-and-discard": {"dfnID":"prefetch-record-cancel-and-discard","dfnText":"cancel and discard","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetch-record-cancel-and-discard"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-prefetch-record-cancel-and-discard\u2460"}],"title":"5. Clear Site Data patches"},{"refs":[{"id":"ref-for-prefetch-record-cancel-and-discard\u2461"}],"title":"6. Prefetch algorithms"}],"url":"#prefetch-record-cancel-and-discard"},
"prefetch-record-complete": {"dfnID":"prefetch-record-complete","dfnText":"complete","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetch-record-complete"}],"title":"6. Prefetch algorithms"}],"url":"#prefetch-record-complete"},
"prefetch-record-expiry-time": {"dfnID":"prefetch-record-expiry-time","dfnText":"expiry time","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetch-record-expiry-time"},{"id":"ref-for-prefetch-record-expiry-time\u2460"},{"id":"ref-for-prefetch-record-expiry-time\u2461"},{"id":"ref-for-prefetch-record-expiry-time\u2462"}],"title":"1. Concepts"}],"url":"#prefetch-record-expiry-time"},
"prefetch-record-fetch-controller": {"dfnID":"prefetch-record-fetch-controller","dfnText":"fetch controller","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetch-record-fetch-controller"},{"id":"ref-for-prefetch-record-fetch-controller\u2460"},{"id":"ref-for-prefetch-record-fetch-controller\u2461"}],"title":"1. Concepts"}],"url":"#prefetch-record-fetch-controller"},
"prefetch-record-had-conflicting-credentials": {"dfnID":"prefetch-record-had-conflicting-credentials","dfnText":"had conflicting credentials","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetch-record-had-conflicting-credentials"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-prefetch-record-had-conflicting-credentials\u2460"}],"title":"6. Prefetch algorithms"}],"url":"#prefetch-record-had-conflicting-credentials"},
"prefetch-record-is-expected-to-match-a-url": {"dfnID":"prefetch-record-is-expected-to-match-a-url","dfnText":"is expected to match a URL","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetch-record-is-expected-to-match-a-url"}],"title":"1. Concepts"}],"url":"#prefetch-record-is-expected-to-match-a-url"},
"prefetch-record-isolated-partition-key": {"dfnID":"prefetch-record-isolated-partition-key","dfnText":"isolated partition key","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetch-record-isolated-partition-key"},{"id":"ref-for-prefetch-record-isolated-partition-key\u2460"}],"title":"2. HTML Patches"}],"url":"#prefetch-record-isolated-partition-key"},
"prefetch-record-matches-a-url": {"dfnID":"prefetch-record-matches-a-url","dfnText":"matches a URL","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetch-record-matches-a-url"},{"id":"ref-for-prefetch-record-matches-a-url\u2460"},{"id":"ref-for-prefetch-record-matches-a-url\u2461"}],"title":"1. Concepts"}],"url":"#prefetch-record-matches-a-url"},
"prefetch-record-no-vary-search-hint": {"dfnID":"prefetch-record-no-vary-search-hint","dfnText":"No-Vary-Search hint","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetch-record-no-vary-search-hint"},{"id":"ref-for-prefetch-record-no-vary-search-hint\u2460"},{"id":"ref-for-prefetch-record-no-vary-search-hint\u2461"},{"id":"ref-for-prefetch-record-no-vary-search-hint\u2462"}],"title":"1. Concepts"}],"url":"#prefetch-record-no-vary-search-hint"},
"prefetch-record-prerendering-target-navigable-name-hint": {"dfnID":"prefetch-record-prerendering-target-navigable-name-hint","dfnText":"prerendering target navigable name hint","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetch-record-prerendering-target-navigable-name-hint"},{"id":"ref-for-prefetch-record-prerendering-target-navigable-name-hint\u2460"},{"id":"ref-for-prefetch-record-prerendering-target-navigable-name-hint\u2461"},{"id":"ref-for-prefetch-record-prerendering-target-navigable-name-hint\u2462"}],"title":"1. Concepts"}],"url":"#prefetch-record-prerendering-target-navigable-name-hint"},
"prefetch-record-prerendering-traversable": {"dfnID":"prefetch-record-prerendering-traversable","dfnText":"prerendering traversable","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetch-record-prerendering-traversable"},{"id":"ref-for-prefetch-record-prerendering-traversable\u2460"},{"id":"ref-for-prefetch-record-prerendering-traversable\u2461"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-prefetch-record-prerendering-traversable\u2462"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-prefetch-record-prerendering-traversable\u2463"}],"title":"5. Clear Site Data patches"}],"url":"#prefetch-record-prerendering-traversable"},
"prefetch-record-redirect-chain": {"dfnID":"prefetch-record-redirect-chain","dfnText":"redirect chain","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetch-record-redirect-chain"},{"id":"ref-for-prefetch-record-redirect-chain\u2460"},{"id":"ref-for-prefetch-record-redirect-chain\u2461"},{"id":"ref-for-prefetch-record-redirect-chain\u2462"},{"id":"ref-for-prefetch-record-redirect-chain\u2463"},{"id":"ref-for-prefetch-record-redirect-chain\u2464"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-prefetch-record-redirect-chain\u2465"},{"id":"ref-for-prefetch-record-redirect-chain\u2466"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-prefetch-record-redirect-chain\u2467"}],"title":"6. Prefetch algorithms"}],"url":"#prefetch-record-redirect-chain"},
"prefetch-record-referrer-policy": {"dfnID":"prefetch-record-referrer-policy","dfnText":"referrer policy","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetch-record-referrer-policy"},{"id":"ref-for-prefetch-record-referrer-policy\u2460"}],"title":"6. Prefetch algorithms"}],"url":"#prefetch-record-referrer-policy"},
"prefetch-record-response": {"dfnID":"prefetch-record-response","dfnText":"response","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetch-record-response"},{"id":"ref-for-prefetch-record-response\u2460"},{"id":"ref-for-prefetch-record-response\u2461"},{"id":"ref-for-prefetch-record-response\u2462"},{"id":"ref-for-prefetch-record-response\u2463"},{"id":"ref-for-prefetch-record-response\u2464"},{"id":"ref-for-prefetch-record-response\u2465"}],"title":"1. Concepts"}],"url":"#prefetch-record-response"},
"prefetch-record-source": {"dfnID":"prefetch-record-source","dfnText":"source","external":false,"refSections":[],"url":"#prefetch-record-source"},
"prefetch-record-source-partition-key": {"dfnID":"prefetch-record-source-partition-key","dfnText":"source partition key","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetch-record-source-partition-key"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-prefetch-record-source-partition-key\u2460"},{"id":"ref-for-prefetch-record-source-partition-key\u2461"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-prefetch-record-source-partition-key\u2462"}],"title":"6. Prefetch algorithms"}],"url":"#prefetch-record-source-partition-key"},
"prefetch-record-start-time": {"dfnID":"prefetch-record-start-time","dfnText":"start time","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetch-record-start-time"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-prefetch-record-start-time\u2460"}],"title":"6. Prefetch algorithms"}],"url":"#prefetch-record-start-time"},
"prefetch-record-state": {"dfnID":"prefetch-record-state","dfnText":"state","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetch-record-state"},{"id":"ref-for-prefetch-record-state\u2460"},{"id":"ref-for-prefetch-record-state\u2461"},{"id":"ref-for-prefetch-record-state\u2462"},{"id":"ref-for-prefetch-record-state\u2463"},{"id":"ref-for-prefetch-record-state\u2464"},{"id":"ref-for-prefetch-record-state\u2465"},{"id":"ref-for-prefetch-record-state\u2466"},{"id":"ref-for-prefetch-record-state\u2467"}],"title":"1. Concepts"}],"url":"#prefetch-record-state"},
"prefetch-record-still-being-speculated": {"dfnID":"prefetch-record-still-being-speculated","dfnText":"still being speculated","external":false,"refSections":[],"url":"#prefetch-record-still-being-speculated"},
"prefetch-record-tags": {"dfnID":"prefetch-record-tags","dfnText":"tags","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetch-record-tags"}],"title":"2. HTML Patches"}],"url":"#prefetch-record-tags"},
"prefetch-record-url": {"dfnID":"prefetch-record-url","dfnText":"URL","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetch-record-url"},{"id":"ref-for-prefetch-record-url\u2460"},{"id":"ref-for-prefetch-record-url\u2461"},{"id":"ref-for-prefetch-record-url\u2462"},{"id":"ref-for-prefetch-record-url\u2463"},{"id":"ref-for-prefetch-record-url\u2464"},{"id":"ref-for-prefetch-record-url\u2465"},{"id":"ref-for-prefetch-record-url\u2466"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-prefetch-record-url\u2467"}],"title":"2. HTML Patches"},{"refs":[{"id":"ref-for-prefetch-record-url\u2468"},{"id":"ref-for-prefetch-record-url\u2460\u24ea"}],"title":"6. Prefetch algorithms"}],"url":"#prefetch-record-url"},
"prefetchcache": {"dfnID":"prefetchcache","dfnText":"prefetchCache","external":false,"refSections":[{"refs":[{"id":"ref-for-prefetchcache"},{"id":"ref-for-prefetchcache\u2460"},{"id":"ref-for-prefetchcache\u2461"}],"title":"5. Clear Site Data patches"}],"url":"#prefetchcache"},
"redirect-chain": {"dfnID":"redirect-chain","dfnText":"redirect chain","external":false,"refSections":[{"refs":[{"id":"ref-for-redirect-chain"},{"id":"ref-for-redirect-chain\u2460"}],"title":"1. Concepts"}],"url":"#redirect-chain"},
"redirect-chain-update-the-response": {"dfnID":"redirect-chain-update-the-response","dfnText":"update the response","external":false,"refSections":[{"refs":[{"id":"ref-for-redirect-chain-update-the-response"}],"title":"2. HTML Patches"}],"url":"#redirect-chain-update-the-response"},
"sec-purpose-prefetch-anonymous-client-ip": {"dfnID":"sec-purpose-prefetch-anonymous-client-ip","dfnText":"anonymous-client-ip","external":false,"refSections":[{"refs":[{"id":"ref-for-sec-purpose-prefetch-anonymous-client-ip"}],"title":"2. HTML Patches"}],"url":"#sec-purpose-prefetch-anonymous-client-ip"},
"sec-purpose-prefetch-prerender": {"dfnID":"sec-purpose-prefetch-prerender","dfnText":"prerender","external":false,"refSections":[{"refs":[{"id":"ref-for-sec-purpose-prefetch-prerender"}],"title":"2. HTML Patches"}],"url":"#sec-purpose-prefetch-prerender"},
"source-snapshot-params-prefetch-records": {"dfnID":"source-snapshot-params-prefetch-records","dfnText":"prefetch records","external":false,"refSections":[{"refs":[{"id":"ref-for-source-snapshot-params-prefetch-records"},{"id":"ref-for-source-snapshot-params-prefetch-records\u2460"},{"id":"ref-for-source-snapshot-params-prefetch-records\u2461"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-source-snapshot-params-prefetch-records\u2462"}],"title":"2. HTML Patches"}],"url":"#source-snapshot-params-prefetch-records"},
"start-a-referrer-initiated-navigational-prefetch": {"dfnID":"start-a-referrer-initiated-navigational-prefetch","dfnText":"start a referrer-initiated navigational prefetch","external":false,"refSections":[{"refs":[{"id":"ref-for-start-a-referrer-initiated-navigational-prefetch"},{"id":"ref-for-start-a-referrer-initiated-navigational-prefetch\u2460"}],"title":"8. The `Sec-Purpose` HTTP request header"}],"url":"#start-a-referrer-initiated-navigational-prefetch"},
"supports-prefetch": {"dfnID":"supports-prefetch","dfnText":"supports prefetch","external":false,"refSections":[{"refs":[{"id":"ref-for-supports-prefetch"},{"id":"ref-for-supports-prefetch\u2460"}],"title":"6. Prefetch algorithms"}],"url":"#supports-prefetch"},
"wait-for-a-matching-prefetch-record": {"dfnID":"wait-for-a-matching-prefetch-record","dfnText":"wait for a matching prefetch record","external":false,"refSections":[{"refs":[{"id":"ref-for-wait-for-a-matching-prefetch-record"}],"title":"1. Concepts"},{"refs":[{"id":"ref-for-wait-for-a-matching-prefetch-record\u2460"}],"title":"2. HTML Patches"}],"url":"#wait-for-a-matching-prefetch-record"},
};

document.addEventListener("DOMContentLoaded", ()=>{
    genAllDfnPanels();

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });
});

window.addEventListener("resize", () => {
    // Pin any visible dfn panel
    queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>positionDfnPanel(el));
});

function genAllDfnPanels() {
    for(const panelData of Object.values(dfnPanelData)) {
        const dfnID = panelData.dfnID;
        const dfn = document.getElementById(dfnID);
        if(!dfn) {
            console.log(`Can't find dfn#${dfnID}.`, panelData);
            continue;
        }
        dfn.panelData = panelData;
        insertDfnPopupAction(dfn);
    }
}

function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
    const dfnPanel = mk.aside({
        class: "dfn-panel on",
        id: `infopanel-for-${dfnID}`,
        "data-for": dfnID,
        "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
        },
        mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
            `Info about the '${dfnText}' ${external?"external":""} reference.`),
        mk.a({href:url, class:"dfn-link"}, url),
        refSections.length == 0 ? [] :
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({ href: `#${ref.id}` },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        genLinkingSyntaxes(dfn),
    );

    dfnPanel.addEventListener('click', (event) => {
        if (event.target.nodeName == 'A') {
            scrollToTargetAndHighlight(event);
            pinDfnPanel(dfnPanel);
        }
        event.stopPropagation();
        refocusOnTarget(event);
    });
    dfnPanel.addEventListener('keydown', (event) => {
        if(event.keyCode == 27) { // Escape key
            hideDfnPanel({dfnPanel});
            event.stopPropagation();
            event.preventDefault();
        }
    });

    dfnPanel.dfn = dfn;
    dfn.dfnPanel = dfnPanel;
    return dfnPanel;
}



function hideAllDfnPanels() {
    // Delete the currently-active dfn panel.
    queryAll(".dfn-panel").forEach(dfnPanel=>hideDfnPanel({dfnPanel}));
}

function showDfnPanel(dfn) {
    hideAllDfnPanels(); // Only display one at a time.

    dfn.setAttribute("aria-expanded", "true");

    const dfnPanel = genDfnPanel(dfn, dfn.panelData);

    // Give the dfn a unique tabindex, and then
    // give all the tabbable panel bits successive indexes.
    let tabIndex = 100;
    dfn.tabIndex = tabIndex++;
    const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
    for (const el of tabbable) {
        el.tabIndex = tabIndex++;
    }

    append(document.body, dfnPanel);
    positionDfnPanel(dfnPanel);
}

function positionDfnPanel(dfnPanel) {
    const dfn = dfnPanel.dfn;
    const dfnPos = getBounds(dfn);
    dfnPanel.style.top = dfnPos.bottom + "px";
    dfnPanel.style.left = dfnPos.left + "px";

    const panelPos = dfnPanel.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
        dfnPanel.style.left = newLeft + "px";
    }
}

function pinDfnPanel(dfnPanel) {
    // Switch it to "activated" state, which pins it.
    dfnPanel.classList.add("activated");
    dfnPanel.style.position = "fixed";
    dfnPanel.style.left = null;
    dfnPanel.style.top = null;
}

function hideDfnPanel({dfn, dfnPanel}) {
    if(!dfnPanel) dfnPanel = dfn.dfnPanel;
    if(!dfn) dfn = dfnPanel.dfn;
    dfn.dfnPanel = undefined;
    dfnPanel.dfn = undefined;
    dfn.setAttribute("aria-expanded", "false");
    dfn.tabIndex = undefined;
    dfnPanel.remove()
}

function toggleDfnPanel(dfn) {
    if(dfn.dfnPanel) {
        hideDfnPanel(dfn);
    } else {
        showDfnPanel(dfn);
    }
}

function insertDfnPopupAction(dfn) {
    dfn.setAttribute('role', 'button');
    dfn.setAttribute('aria-expanded', 'false')
    dfn.tabIndex = 0;
    dfn.classList.add('has-dfn-panel');
    dfn.addEventListener('click', (event) => {
        toggleDfnPanel(dfn);
        event.stopPropagation();
    });
    dfn.addEventListener('keypress', (event) => {
        const kc = event.keyCode;
        // 32->Space, 13->Enter
        if(kc == 32 || kc == 13) {
            toggleDfnPanel(dfn);
            event.stopPropagation();
            event.preventDefault();
        }
    });
}

function refocusOnTarget(event) {
    const target = event.target;
    setTimeout(() => {
        // Refocus on the event.target element.
        // This is needed after browser scrolls to the destination.
        target.focus();
    });
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function scrollToTargetAndHighlight(event) {
    let hash = event.target.hash;
    if (hash) {
        hash = decodeURIComponent(hash.substring(1));
        const dest = document.getElementById(hash);
        if (dest) {
            dest.classList.add('highlighted');
            setTimeout(() => dest.classList.remove('highlighted'), 1000);
        }
    }
}

// Functions, divided by link type, that wrap an autolink's
// contents with the appropriate outer syntax.
// Alternately, a string naming another type they format
// the same as.
function needsFor(type) {
    switch(type) {
        case "descriptor":
        case "value":
        case "element-attr":
        case "attr-value":
        case "element-state":
        case "method":
        case "constructor":
        case "argument":
        case "attribute":
        case "const":
        case "dict-member":
        case "event":
        case "enum-value":
        case "stringifier":
        case "serializer":
        case "iterator":
        case "maplike":
        case "setlike":
        case "state":
        case "mode":
        case "context":
        case "facet": return true;

        default: return false;
    }
}
function refusesFor(type) {
    switch(type) {
        case "property":
        case "element":
        case "interface":
        case "namespace":
        case "callback":
        case "dictionary":
        case "enum":
        case "exception":
        case "typedef":
        case "http-header":
        case "permission": return true;

        default: return false;
    }
}
function linkFormatterFromType(type) {
    switch(type) {
        case 'scheme':
        case 'permission':
        case 'dfn': return (text) => `[=${text}=]`;

        case 'abstract-op': return (text) => `[\$${text}\$]`;

        case 'function':
        case 'at-rule':
        case 'selector':
        case 'value': return (text) => `''${text}''`;

        case 'http-header': return (text) => `[:${text}:]`;

        case 'interface':
        case 'constructor':
        case 'method':
        case 'argument':
        case 'attribute':
        case 'callback':
        case 'dictionary':
        case 'dict-member':
        case 'enum':
        case 'enum-value':
        case 'exception':
        case 'const':
        case 'typedef':
        case 'stringifier':
        case 'serializer':
        case 'iterator':
        case 'maplike':
        case 'setlike':
        case 'extended-attribute':
        case 'event':
        case 'idl': return (text) => `{{${text}}}`;

        case 'element-state':
        case 'element-attr':
        case 'attr-value':
        case 'element': return (element) => `<{${element}}>`;

        case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

        case 'type': return (text)=> `<<${text}>>`;

        case 'descriptor':
        case 'property': return (text) => `'${text}'`;

        default: return;
    };
};

function genLinkingSyntaxes(dfn) {
    if(dfn.tagName != "DFN") return;

    const type = dfn.getAttribute('data-dfn-type');
    if(!type) {
        console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
        return [];
    }

    // Return a function that wraps link text based on the type
    const linkFormatter = linkFormatterFromType(type);
    if(!linkFormatter) {
        console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
        return [];
    }

    let ltAlts;
    if(dfn.hasAttribute('data-lt')) {
        ltAlts = dfn.getAttribute('data-lt')
            .split("|")
            .map(x=>x.trim());
    } else {
        ltAlts = [dfn.textContent.trim()];
    }
    if(type == "type") {
        // lt of "<foo>", but "foo" is the interior;
        // <<foo/bar>> is how you write it with a for,
        // not <foo/<bar>> or whatever.
        for(var i = 0; i < ltAlts.length; i++) {
            const lt = ltAlts[i];
            const match = /<(.*)>/.exec(lt);
            if(match) { ltAlts[i] = match[1]; }
        }
    }

    let forAlts;
    if(dfn.hasAttribute('data-dfn-for')) {
        forAlts = dfn.getAttribute('data-dfn-for')
            .split(",")
            .map(x=>x.trim());
    } else {
        forAlts = [''];
    }

    let linkingSyntaxes = [];
    if(!needsFor(type)) {
        for(const lt of ltAlts) {
            linkingSyntaxes.push(linkFormatter(lt));
        }
    }
    if(!refusesFor(type)) {
        for(const f of forAlts) {
            linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
        }
    }
    return [
        mk.b({}, 'Possible linking syntaxes:'),
        mk.ul({},
            ...linkingSyntaxes.map(link => {
                const copyLink = async () =>
                    await navigator.clipboard.writeText(link);
                return mk.li({},
                    mk.div({ class: 'link-item' },
                        mk.button({
                            class: 'copy-icon', title: 'Copy',
                            type: 'button',
                            _onclick: copyLink,
                            tabindex: 0,
                        }, mk.span({ class: 'icon' }) ),
                        mk.span({}, link)
                    )
                );
            })
        )
    ];
}
}
</script>
<script>/* Boilerplate: script-ref-hints */
"use strict";
{
let refsData = {
"#clear-prefetch-cache": {"displayText":"clear prefetch cache","export":true,"for_":[],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"clear prefetch cache","type":"dfn","url":"#clear-prefetch-cache"},
"#conflicting-credentials-exist": {"displayText":"conflicting credentials exist","export":true,"for_":[],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"conflicting credentials exist","type":"dfn","url":"#conflicting-credentials-exist"},
"#copy-prefetch-cookies": {"displayText":"copy prefetch cookies","export":true,"for_":[],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"copy prefetch cookies","type":"dfn","url":"#copy-prefetch-cookies"},
"#create-a-cross-origin-opener-policy-enforcement-result-for-navigation": {"displayText":"create a cross-origin opener policy enforcement result for navigation","export":true,"for_":[],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"create a cross-origin opener policy enforcement result for navigation","type":"dfn","url":"#create-a-cross-origin-opener-policy-enforcement-result-for-navigation"},
"#create-a-navigation-request": {"displayText":"create a navigation request","export":true,"for_":[],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"create a navigation request","type":"dfn","url":"#create-a-navigation-request"},
"#create-a-reserved-client": {"displayText":"create a reserved client","export":true,"for_":[],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"create a reserved client","type":"dfn","url":"#create-a-reserved-client"},
"#create-navigation-params-by-fetching": {"displayText":"create navigation params by fetching","export":true,"for_":[],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"create navigation params by fetching","type":"dfn","url":"#create-navigation-params-by-fetching"},
"#create-navigation-params-from-a-prefetch-record": {"displayText":"create navigation params from a prefetch record","export":true,"for_":[],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"create navigation params from a prefetch record","type":"dfn","url":"#create-navigation-params-from-a-prefetch-record"},
"#document-prefetch-records": {"displayText":"prefetch records","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"prefetch records","type":"dfn","url":"#document-prefetch-records"},
"#environment-is-navigational-prefetch-client": {"displayText":"is navigational prefetch client","export":true,"for_":["environment"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"is navigational prefetch client","type":"dfn","url":"#environment-is-navigational-prefetch-client"},
"#exchange-record": {"displayText":"exchange record","export":true,"for_":[],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"exchange record","type":"dfn","url":"#exchange-record"},
"#exchange-record-request": {"displayText":"request","export":true,"for_":["exchange record"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"request","type":"dfn","url":"#exchange-record-request"},
"#exchange-record-response": {"displayText":"response","export":true,"for_":["exchange record"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"response","type":"dfn","url":"#exchange-record-response"},
"#find-a-matching-complete-prefetch-record": {"displayText":"find a matching complete prefetch record","export":true,"for_":[],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"find a matching complete prefetch record","type":"dfn","url":"#find-a-matching-complete-prefetch-record"},
"#has-a-matching-prefetch-record": {"displayText":"has a matching prefetch record","export":true,"for_":[],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"has a matching prefetch record","type":"dfn","url":"#has-a-matching-prefetch-record"},
"#list-of-sufficiently-strict-speculative-navigation-referrer-policies": {"displayText":"list of sufficiently strict speculative navigation referrer policies","export":true,"for_":[],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"list of sufficiently strict speculative navigation referrer policies","type":"dfn","url":"#list-of-sufficiently-strict-speculative-navigation-referrer-policies"},
"#navigation-params-delivery-type": {"displayText":"delivery type","export":true,"for_":["navigation params"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"delivery type","type":"dfn","url":"#navigation-params-delivery-type"},
"#prefetch-ip-anonymization-policy-requires-anonymity": {"displayText":"requires anonymity","export":true,"for_":["prefetch IP anonymization policy"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"requires anonymity","type":"dfn","url":"#prefetch-ip-anonymization-policy-requires-anonymity"},
"#prefetch-record": {"displayText":"prefetch record","export":true,"for_":[],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"prefetch record","type":"dfn","url":"#prefetch-record"},
"#prefetch-record-anonymization-policy": {"displayText":"anonymization policy","export":true,"for_":["prefetch record"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"anonymization policy","type":"dfn","url":"#prefetch-record-anonymization-policy"},
"#prefetch-record-cancel-and-discard": {"displayText":"cancel and discard","export":true,"for_":["prefetch record"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"cancel and discard","type":"dfn","url":"#prefetch-record-cancel-and-discard"},
"#prefetch-record-complete": {"displayText":"complete","export":true,"for_":["prefetch record"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"complete","type":"dfn","url":"#prefetch-record-complete"},
"#prefetch-record-expiry-time": {"displayText":"expiry time","export":true,"for_":["prefetch record"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"expiry time","type":"dfn","url":"#prefetch-record-expiry-time"},
"#prefetch-record-fetch-controller": {"displayText":"fetch controller","export":true,"for_":["prefetch record"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"fetch controller","type":"dfn","url":"#prefetch-record-fetch-controller"},
"#prefetch-record-had-conflicting-credentials": {"displayText":"had conflicting credentials","export":true,"for_":["prefetch record"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"had conflicting credentials","type":"dfn","url":"#prefetch-record-had-conflicting-credentials"},
"#prefetch-record-is-expected-to-match-a-url": {"displayText":"is expected to match a url","export":true,"for_":["prefetch record"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"is expected to match a url","type":"dfn","url":"#prefetch-record-is-expected-to-match-a-url"},
"#prefetch-record-isolated-partition-key": {"displayText":"isolated partition key","export":true,"for_":["prefetch record"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"isolated partition key","type":"dfn","url":"#prefetch-record-isolated-partition-key"},
"#prefetch-record-matches-a-url": {"displayText":"matches a url","export":true,"for_":["prefetch record"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"matches a url","type":"dfn","url":"#prefetch-record-matches-a-url"},
"#prefetch-record-no-vary-search-hint": {"displayText":"no-vary-search hint","export":true,"for_":["prefetch record"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"no-vary-search hint","type":"dfn","url":"#prefetch-record-no-vary-search-hint"},
"#prefetch-record-prerendering-target-navigable-name-hint": {"displayText":"prerendering target navigable name hint","export":true,"for_":["prefetch record"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"prerendering target navigable name hint","type":"dfn","url":"#prefetch-record-prerendering-target-navigable-name-hint"},
"#prefetch-record-prerendering-traversable": {"displayText":"prerendering traversable","export":true,"for_":["prefetch record"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"prerendering traversable","type":"dfn","url":"#prefetch-record-prerendering-traversable"},
"#prefetch-record-redirect-chain": {"displayText":"redirect chain","export":true,"for_":["prefetch record"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"redirect chain","type":"dfn","url":"#prefetch-record-redirect-chain"},
"#prefetch-record-referrer-policy": {"displayText":"referrer policy","export":true,"for_":["prefetch record"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"referrer policy","type":"dfn","url":"#prefetch-record-referrer-policy"},
"#prefetch-record-response": {"displayText":"response","export":true,"for_":["prefetch record"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"response","type":"dfn","url":"#prefetch-record-response"},
"#prefetch-record-source-partition-key": {"displayText":"source partition key","export":true,"for_":["prefetch record"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"source partition key","type":"dfn","url":"#prefetch-record-source-partition-key"},
"#prefetch-record-start-time": {"displayText":"start time","export":true,"for_":["prefetch record"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"start time","type":"dfn","url":"#prefetch-record-start-time"},
"#prefetch-record-state": {"displayText":"state","export":true,"for_":["prefetch record"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"state","type":"dfn","url":"#prefetch-record-state"},
"#prefetch-record-tags": {"displayText":"tags","export":true,"for_":["prefetch record"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"tags","type":"dfn","url":"#prefetch-record-tags"},
"#prefetch-record-url": {"displayText":"url","export":true,"for_":["prefetch record"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"url","type":"dfn","url":"#prefetch-record-url"},
"#prefetchcache": {"displayText":"prefetchcache","export":true,"for_":[],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"prefetchcache","type":"dfn","url":"#prefetchcache"},
"#redirect-chain": {"displayText":"redirect chain","export":true,"for_":[],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"redirect chain","type":"dfn","url":"#redirect-chain"},
"#redirect-chain-update-the-response": {"displayText":"update the response","export":true,"for_":["redirect chain"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"update the response","type":"dfn","url":"#redirect-chain-update-the-response"},
"#sec-purpose-prefetch-anonymous-client-ip": {"displayText":"anonymous-client-ip","export":true,"for_":["Sec-Purpose prefetch"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"anonymous-client-ip","type":"dfn","url":"#sec-purpose-prefetch-anonymous-client-ip"},
"#sec-purpose-prefetch-prerender": {"displayText":"prerender","export":true,"for_":["Sec-Purpose prefetch"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"prerender","type":"dfn","url":"#sec-purpose-prefetch-prerender"},
"#source-snapshot-params-prefetch-records": {"displayText":"prefetch records","export":true,"for_":["source snapshot params"],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"prefetch records","type":"dfn","url":"#source-snapshot-params-prefetch-records"},
"#start-a-referrer-initiated-navigational-prefetch": {"displayText":"start a referrer-initiated navigational prefetch","export":true,"for_":[],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"start a referrer-initiated navigational prefetch","type":"dfn","url":"#start-a-referrer-initiated-navigational-prefetch"},
"#supports-prefetch": {"displayText":"supports prefetch","export":true,"for_":[],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"supports prefetch","type":"dfn","url":"#supports-prefetch"},
"#wait-for-a-matching-prefetch-record": {"displayText":"wait for a matching prefetch record","export":true,"for_":[],"level":"1","normative":true,"shortname":"prefetch","spec":"prefetch-1","status":"local","text":"wait for a matching prefetch record","type":"dfn","url":"#wait-for-a-matching-prefetch-record"},
"574eb588_https://httpwg.org/specs/rfc6265.html#storage-model": {"displayText":"cookie","export":true,"for_":[],"level":"","normative":true,"shortname":"cookies","spec":"cookies","status":"anchor-block","text":"cookie","type":"dfn","url":"https://httpwg.org/specs/rfc6265.html#storage-model"},
"https://console.spec.whatwg.org/#report-a-warning-to-the-console": {"displayText":"report a warning to the console","export":true,"for_":[],"level":"1","normative":true,"shortname":"console","spec":"console","status":"current","text":"report a warning to the console","type":"dfn","url":"https://console.spec.whatwg.org/#report-a-warning-to-the-console"},
"https://dom.spec.whatwg.org/#concept-document-origin": {"displayText":"origin","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"origin","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-document-origin"},
"https://dom.spec.whatwg.org/#concept-document-url": {"displayText":"URL","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"url","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-document-url"},
"https://dom.spec.whatwg.org/#concept-element-local-name": {"displayText":"local name","export":true,"for_":["Element"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"local name","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-element-local-name"},
"https://dom.spec.whatwg.org/#document": {"displayText":"Document","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"Document","type":"interface","url":"https://dom.spec.whatwg.org/#document"},
"https://fetch.spec.whatwg.org/#concept-connection": {"displayText":"connection","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"connection","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-connection"},
"https://fetch.spec.whatwg.org/#concept-connection-obtain": {"displayText":"obtain a connection","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"obtain a connection","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-connection-obtain"},
"https://fetch.spec.whatwg.org/#concept-fetch": {"displayText":"fetch","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"fetch","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-fetch"},
"https://fetch.spec.whatwg.org/#concept-header-list-set": {"displayText":"set","export":true,"for_":["header list"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"set","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-header-list-set"},
"https://fetch.spec.whatwg.org/#concept-header-list-set-structured-header": {"displayText":"set a structured field value","export":true,"for_":["header list"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"set a structured field value","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-header-list-set-structured-header"},
"https://fetch.spec.whatwg.org/#concept-network-error": {"displayText":"network error","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"network error","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-network-error"},
"https://fetch.spec.whatwg.org/#concept-request": {"displayText":"request","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"request","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request"},
"https://fetch.spec.whatwg.org/#concept-request-body": {"displayText":"body","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"body","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-body"},
"https://fetch.spec.whatwg.org/#concept-request-client": {"displayText":"client","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"client","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-client"},
"https://fetch.spec.whatwg.org/#concept-request-credentials-mode": {"displayText":"credentials mode","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"credentials mode","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-credentials-mode"},
"https://fetch.spec.whatwg.org/#concept-request-current-url": {"displayText":"current URL","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"current url","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-current-url"},
"https://fetch.spec.whatwg.org/#concept-request-destination": {"displayText":"destination","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"destination","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-destination"},
"https://fetch.spec.whatwg.org/#concept-request-header-list": {"displayText":"header list","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"header list","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-header-list"},
"https://fetch.spec.whatwg.org/#concept-request-history-navigation-flag": {"displayText":"history-navigation flag","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"history-navigation flag","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-history-navigation-flag"},
"https://fetch.spec.whatwg.org/#concept-request-method": {"displayText":"method","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"method","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-method"},
"https://fetch.spec.whatwg.org/#concept-request-mode": {"displayText":"mode","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"mode","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-mode"},
"https://fetch.spec.whatwg.org/#concept-request-origin": {"displayText":"origin","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"origin","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-origin"},
"https://fetch.spec.whatwg.org/#concept-request-policy-container": {"displayText":"policy container","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"policy container","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-policy-container"},
"https://fetch.spec.whatwg.org/#concept-request-redirect-mode": {"displayText":"redirect mode","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"redirect mode","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-redirect-mode"},
"https://fetch.spec.whatwg.org/#concept-request-referrer": {"displayText":"referrer","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"referrer","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-referrer"},
"https://fetch.spec.whatwg.org/#concept-request-referrer-policy": {"displayText":"referrer policy","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"referrer policy","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-referrer-policy"},
"https://fetch.spec.whatwg.org/#concept-request-reload-navigation-flag": {"displayText":"reload-navigation flag","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"reload-navigation flag","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-reload-navigation-flag"},
"https://fetch.spec.whatwg.org/#concept-request-replaces-client-id": {"displayText":"replaces client id","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"replaces client id","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-replaces-client-id"},
"https://fetch.spec.whatwg.org/#concept-request-reserved-client": {"displayText":"reserved client","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"reserved client","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-reserved-client"},
"https://fetch.spec.whatwg.org/#concept-request-url": {"displayText":"URL","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"url","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-url"},
"https://fetch.spec.whatwg.org/#concept-request-url-list": {"displayText":"URL list","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"url list","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-url-list"},
"https://fetch.spec.whatwg.org/#concept-request-use-url-credentials-flag": {"displayText":"use-URL-credentials flag","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"use-url-credentials flag","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-use-url-credentials-flag"},
"https://fetch.spec.whatwg.org/#concept-response": {"displayText":"response","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"response","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-response"},
"https://fetch.spec.whatwg.org/#concept-response-clone": {"displayText":"clone","export":true,"for_":["response"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"clone","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-response-clone"},
"https://fetch.spec.whatwg.org/#concept-response-location-url": {"displayText":"location URL","export":true,"for_":["response"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"location url","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-response-location-url"},
"https://fetch.spec.whatwg.org/#concept-response-status": {"displayText":"status","export":true,"for_":["response"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"status","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-response-status"},
"https://fetch.spec.whatwg.org/#concept-response-url": {"displayText":"URL","export":true,"for_":["response"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"url","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-response-url"},
"https://fetch.spec.whatwg.org/#credentials": {"displayText":"credentials","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"credentials","type":"dfn","url":"https://fetch.spec.whatwg.org/#credentials"},
"https://fetch.spec.whatwg.org/#cross-origin-resource-policy-check": {"displayText":"cross-origin resource policy check","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"cross-origin resource policy check","type":"dfn","url":"https://fetch.spec.whatwg.org/#cross-origin-resource-policy-check"},
"https://fetch.spec.whatwg.org/#determine-the-network-partition-key": {"displayText":"determine the network partition key","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"determine the network partition key","type":"dfn","url":"https://fetch.spec.whatwg.org/#determine-the-network-partition-key"},
"https://fetch.spec.whatwg.org/#dom-requestdestination-report": {"displayText":"\"report\"","export":true,"for_":["RequestDestination"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"\"report\"","type":"enum-value","url":"https://fetch.spec.whatwg.org/#dom-requestdestination-report"},
"https://fetch.spec.whatwg.org/#fetch-controller": {"displayText":"fetch controller","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"fetch controller","type":"dfn","url":"https://fetch.spec.whatwg.org/#fetch-controller"},
"https://fetch.spec.whatwg.org/#fetch-controller-abort": {"displayText":"abort","export":true,"for_":["fetch controller"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"abort","type":"dfn","url":"https://fetch.spec.whatwg.org/#fetch-controller-abort"},
"https://fetch.spec.whatwg.org/#fetch-controller-process-the-next-manual-redirect": {"displayText":"process the next manual redirect","export":true,"for_":["fetch controller"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"process the next manual redirect","type":"dfn","url":"https://fetch.spec.whatwg.org/#fetch-controller-process-the-next-manual-redirect"},
"https://fetch.spec.whatwg.org/#fetch-processearlyhintsresponse": {"displayText":"processEarlyHintsResponse","export":true,"for_":["fetch"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"processearlyhintsresponse","type":"dfn","url":"https://fetch.spec.whatwg.org/#fetch-processearlyhintsresponse"},
"https://fetch.spec.whatwg.org/#fetch-scheme": {"displayText":"fetch scheme","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"fetch scheme","type":"dfn","url":"https://fetch.spec.whatwg.org/#fetch-scheme"},
"https://fetch.spec.whatwg.org/#fetch-useparallelqueue": {"displayText":"useParallelQueue","export":true,"for_":["fetch"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"useparallelqueue","type":"dfn","url":"https://fetch.spec.whatwg.org/#fetch-useparallelqueue"},
"https://fetch.spec.whatwg.org/#http-scheme": {"displayText":"HTTP(S) scheme","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"http(s) scheme","type":"dfn","url":"https://fetch.spec.whatwg.org/#http-scheme"},
"https://fetch.spec.whatwg.org/#http-sec-purpose": {"displayText":"Sec-Purpose","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"sec-purpose","type":"http-header","url":"https://fetch.spec.whatwg.org/#http-sec-purpose"},
"https://fetch.spec.whatwg.org/#network-partition-key": {"displayText":"network partition key","export":true,"for_":[],"level":"","normative":true,"shortname":"fetch","spec":"fetch","status":"anchor-block","text":"network partition key","type":"dfn","url":"https://fetch.spec.whatwg.org/#network-partition-key"},
"https://fetch.spec.whatwg.org/#non-subresource-request": {"displayText":"non-subresource request","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"non-subresource request","type":"dfn","url":"https://fetch.spec.whatwg.org/#non-subresource-request"},
"https://fetch.spec.whatwg.org/#ok-status": {"displayText":"ok status","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"ok status","type":"dfn","url":"https://fetch.spec.whatwg.org/#ok-status"},
"https://fetch.spec.whatwg.org/#process-response": {"displayText":"processResponse","export":true,"for_":["fetch"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"processresponse","type":"dfn","url":"https://fetch.spec.whatwg.org/#process-response"},
"https://fetch.spec.whatwg.org/#redirect-status": {"displayText":"redirect status","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"redirect status","type":"dfn","url":"https://fetch.spec.whatwg.org/#redirect-status"},
"https://fetch.spec.whatwg.org/#request-initiator-type": {"displayText":"initiator type","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"initiator type","type":"dfn","url":"https://fetch.spec.whatwg.org/#request-initiator-type"},
"https://fetch.spec.whatwg.org/#request-user-activation": {"displayText":"user-activation","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"user-activation","type":"dfn","url":"https://fetch.spec.whatwg.org/#request-user-activation"},
"https://html.spec.whatwg.org/multipage/browsers.html#clone-a-policy-container": {"displayText":"clone a policy container","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"clone a policy container","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#clone-a-policy-container"},
"https://html.spec.whatwg.org/multipage/browsers.html#concept-origin": {"displayText":"origin","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#concept-origin"},
"https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque": {"displayText":"opaque origin","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"opaque origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"},
"https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-tuple": {"displayText":"tuple origin","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"tuple origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-tuple"},
"https://html.spec.whatwg.org/multipage/browsers.html#coop-enforce": {"displayText":"enforce a response's cross-origin opener policy","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"enforce a response's cross-origin opener policy","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#coop-enforce"},
"https://html.spec.whatwg.org/multipage/browsers.html#coop-enforcement-coop": {"displayText":"cross-origin opener policy","export":true,"for_":["cross-origin opener policy enforcement result"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"cross-origin opener policy","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#coop-enforcement-coop"},
"https://html.spec.whatwg.org/multipage/browsers.html#coop-enforcement-origin": {"displayText":"origin","export":true,"for_":["cross-origin opener policy enforcement result"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#coop-enforcement-origin"},
"https://html.spec.whatwg.org/multipage/browsers.html#coop-enforcement-result": {"displayText":"cross-origin opener policy enforcement result","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"cross-origin opener policy enforcement result","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#coop-enforcement-result"},
"https://html.spec.whatwg.org/multipage/browsers.html#coop-enforcement-source": {"displayText":"current context is navigation source","export":true,"for_":["cross-origin opener policy enforcement result"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"current context is navigation source","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#coop-enforcement-source"},
"https://html.spec.whatwg.org/multipage/browsers.html#coop-enforcement-url": {"displayText":"url","export":true,"for_":["cross-origin opener policy enforcement result"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"url","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#coop-enforcement-url"},
"https://html.spec.whatwg.org/multipage/browsers.html#coop-struct-value": {"displayText":"value","export":true,"for_":["cross-origin opener policy"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"value","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#coop-struct-value"},
"https://html.spec.whatwg.org/multipage/browsers.html#creating-a-policy-container-from-a-fetch-response": {"displayText":"creating a policy container from a fetch response","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"creating a policy container from a fetch response","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#creating-a-policy-container-from-a-fetch-response"},
"https://html.spec.whatwg.org/multipage/browsers.html#cross-origin-opener-policy": {"displayText":"cross-origin opener policy","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"cross-origin opener policy","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#cross-origin-opener-policy"},
"https://html.spec.whatwg.org/multipage/browsers.html#csp-derived-sandboxing-flags": {"displayText":"CSP-derived sandboxing flags","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"csp-derived sandboxing flags","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#csp-derived-sandboxing-flags"},
"https://html.spec.whatwg.org/multipage/browsers.html#determining-navigation-params-policy-container": {"displayText":"determine navigation params policy container","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"determine navigation params policy container","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#determining-navigation-params-policy-container"},
"https://html.spec.whatwg.org/multipage/browsers.html#obtain-a-site": {"displayText":"obtain a site","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"obtain a site","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#obtain-a-site"},
"https://html.spec.whatwg.org/multipage/browsers.html#obtain-browsing-context-navigation": {"displayText":"obtain a browsing context to use for a navigation response","export":false,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"obtain a browsing context to use for a navigation response","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#obtain-browsing-context-navigation"},
"https://html.spec.whatwg.org/multipage/browsers.html#obtain-coop": {"displayText":"obtain a cross-origin opener policy","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"obtain a cross-origin opener policy","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#obtain-coop"},
"https://html.spec.whatwg.org/multipage/browsers.html#policy-container-csp-list": {"displayText":"CSP list","export":true,"for_":["policy container"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"csp list","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#policy-container-csp-list"},
"https://html.spec.whatwg.org/multipage/browsers.html#policy-container-referrer-policy": {"displayText":"referrer policy","export":true,"for_":["policy container"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"referrer policy","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#policy-container-referrer-policy"},
"https://html.spec.whatwg.org/multipage/browsers.html#same-origin": {"displayText":"same origin","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"same origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#same-origin"},
"https://html.spec.whatwg.org/multipage/browsers.html#same-site": {"displayText":"same site","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"same site","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#same-site"},
"https://html.spec.whatwg.org/multipage/browsers.html#sandboxing-flag-set": {"displayText":"sandboxing flag set","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"sandboxing flag set","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#sandboxing-flag-set"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#attempt-to-populate-the-history-entry's-document": {"displayText":"attempt to populate the history entry's document","export":false,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"attempt to populate the history entry's document","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#attempt-to-populate-the-history-entry's-document"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#browsing-context-scope-origin": {"displayText":"browsing context scope origin","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"browsing context scope origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#browsing-context-scope-origin"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#create-navigation-params-by-fetching": {"displayText":"create navigation params by fetching","export":false,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"create navigation params by fetching","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#create-navigation-params-by-fetching"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-2": {"displayText":"document state","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"document state","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-2"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-ever-populated": {"displayText":"ever populated","export":true,"for_":["document state"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"ever populated","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-ever-populated"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-history-policy-container": {"displayText":"history policy container","export":true,"for_":["document state"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"history policy container","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-history-policy-container"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-initiator-origin": {"displayText":"initiator origin","export":true,"for_":["document state"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"initiator origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-initiator-origin"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-nav-target-name": {"displayText":"navigable target name","export":true,"for_":["document state"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"navigable target name","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-nav-target-name"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-origin": {"displayText":"origin","export":true,"for_":["document state"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-origin"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-reload-pending": {"displayText":"reload pending","export":true,"for_":["document state"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"reload pending","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-reload-pending"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-request-referrer": {"displayText":"request referrer","export":true,"for_":["document state"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"request referrer","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-request-referrer"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-request-referrer-policy": {"displayText":"request referrer policy","export":true,"for_":["document state"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"request referrer policy","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-request-referrer-policy"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-resource": {"displayText":"resource","export":true,"for_":["document state"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"resource","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-resource"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-id": {"displayText":"navigation id","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"navigation id","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-id"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params": {"displayText":"navigation params","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"navigation params","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-commit-early-hints": {"displayText":"commit early hints","export":true,"for_":["navigation params"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"commit early hints","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-commit-early-hints"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-coop": {"displayText":"cross-origin opener policy","export":true,"for_":["navigation params"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"cross-origin opener policy","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-coop"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-coop-enforcement-result": {"displayText":"COOP enforcement result","export":true,"for_":["navigation params"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"coop enforcement result","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-coop-enforcement-result"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-fetch-controller": {"displayText":"fetch controller","export":true,"for_":["navigation params"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"fetch controller","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-fetch-controller"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-id": {"displayText":"id","export":true,"for_":["navigation params"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"id","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-id"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-nav-timing-type": {"displayText":"navigation timing type","export":true,"for_":["navigation params"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"navigation timing type","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-nav-timing-type"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-navigable": {"displayText":"navigable","export":true,"for_":["navigation params"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"navigable","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-navigable"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-origin": {"displayText":"origin","export":true,"for_":["navigation params"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-origin"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-policy-container": {"displayText":"policy container","export":true,"for_":["navigation params"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"policy container","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-policy-container"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-request": {"displayText":"request","export":true,"for_":["navigation params"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"request","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-request"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-reserved-environment": {"displayText":"reserved environment","export":true,"for_":["navigation params"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"reserved environment","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-reserved-environment"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-response": {"displayText":"response","export":true,"for_":["navigation params"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"response","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-response"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-sandboxing": {"displayText":"final sandboxing flag set","export":true,"for_":["navigation params"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"final sandboxing flag set","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-sandboxing"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#non-fetch-scheme-navigation-params": {"displayText":"non-fetch scheme navigation params","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"non-fetch scheme navigation params","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#non-fetch-scheme-navigation-params"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#non-fetch-scheme-params-initiator-origin": {"displayText":"initiator origin","export":true,"for_":["non-fetch scheme navigation params"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"initiator origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#non-fetch-scheme-params-initiator-origin"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#ongoing-navigation": {"displayText":"ongoing navigation","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"ongoing navigation","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#ongoing-navigation"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#post-resource": {"displayText":"POST resource","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"post resource","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#post-resource"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#post-resource-request-body": {"displayText":"request body","export":true,"for_":["POST resource"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"request body","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#post-resource-request-body"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#post-resource-request-content-type": {"displayText":"request content-type","export":true,"for_":["POST resource"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"request content-type","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#post-resource-request-content-type"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry": {"displayText":"session history entry","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"session history entry","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state": {"displayText":"document state","export":true,"for_":["session history entry"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"document state","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-serialized-state": {"displayText":"serialized state","export":true,"for_":["session history entry"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"serialized state","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-serialized-state"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-url": {"displayText":"URL","export":true,"for_":["session history entry"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"url","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-url"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#snapshotting-source-snapshot-params": {"displayText":"snapshot source snapshot params","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"snapshot source snapshot params","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#snapshotting-source-snapshot-params"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#snapshotting-target-snapshot-params": {"displayText":"snapshot target snapshot params","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"snapshot target snapshot params","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#snapshotting-target-snapshot-params"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params": {"displayText":"source snapshot params","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"source snapshot params","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params-activation": {"displayText":"has transient activation","export":true,"for_":["source snapshot params"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"has transient activation","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params-activation"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params-client": {"displayText":"fetch client","export":true,"for_":["source snapshot params"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"fetch client","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params-client"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params-policy-container": {"displayText":"source policy container","export":true,"for_":["source snapshot params"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"source policy container","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params-policy-container"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#target-snapshot-params": {"displayText":"target snapshot params","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"target snapshot params","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#target-snapshot-params"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#target-snapshot-params-sandbox": {"displayText":"sandboxing flags","export":true,"for_":["target snapshot params"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"sandboxing flags","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#target-snapshot-params-sandbox"},
"https://html.spec.whatwg.org/multipage/document-lifecycle.html#initialise-the-document-object": {"displayText":"create and initialize a Document object","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"create and initialize a document object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-lifecycle.html#initialise-the-document-object"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#child-navigable": {"displayText":"child navigable","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"child navigable","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#child-navigable"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#destroy-a-top-level-traversable": {"displayText":"destroy a top-level traversable","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"destroy a top-level traversable","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#destroy-a-top-level-traversable"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#determining-the-origin": {"displayText":"determine the origin","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"determine the origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#determining-the-origin"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active": {"displayText":"fully active","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"fully active","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#inclusive-descendant-navigables": {"displayText":"inclusive descendant navigables","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"inclusive descendant navigables","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#inclusive-descendant-navigables"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc": {"displayText":"active browsing context","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"active browsing context","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-container": {"displayText":"container","export":true,"for_":["navigable"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"container","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-container"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-container-document": {"displayText":"container document","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"container document","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-container-document"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document": {"displayText":"active document","export":true,"for_":["navigable"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"active document","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent": {"displayText":"parent","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"parent","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-top": {"displayText":"top-level traversable","export":true,"for_":["navigable"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"top-level traversable","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-top"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-window": {"displayText":"active window","export":true,"for_":["navigable"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"active window","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-window"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#navigable": {"displayText":"navigable","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"navigable","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#navigable"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#navigable-container": {"displayText":"navigable container","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"navigable container","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#navigable-container"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable": {"displayText":"node navigable","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"node navigable","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context": {"displayText":"top-level browsing context","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"top-level browsing context","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable": {"displayText":"top-level traversable","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"top-level traversable","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable-set": {"displayText":"top-level traversable set","export":true,"for_":["user agent"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"top-level traversable set","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable-set"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable": {"displayText":"traversable navigable","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"traversable navigable","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#valid-navigable-target-name-or-keyword": {"displayText":"valid navigable target name or keyword","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"valid navigable target name or keyword","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#valid-navigable-target-name-or-keyword"},
"https://html.spec.whatwg.org/multipage/dom.html#concept-document-coop": {"displayText":"cross-origin opener policy","export":true,"for_":["Document"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"cross-origin opener policy","type":"dfn","url":"https://html.spec.whatwg.org/multipage/dom.html#concept-document-coop"},
"https://html.spec.whatwg.org/multipage/dom.html#concept-document-policy-container": {"displayText":"policy container","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"policy container","type":"dfn","url":"https://html.spec.whatwg.org/multipage/dom.html#concept-document-policy-container"},
"https://html.spec.whatwg.org/multipage/dom.html#dom-document-cookie": {"displayText":"cookie","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"cookie","type":"attribute","url":"https://html.spec.whatwg.org/multipage/dom.html#dom-document-cookie"},
"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel": {"displayText":"in parallel","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"in parallel","type":"dfn","url":"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"},
"https://html.spec.whatwg.org/multipage/semantics.html#process-early-hint-headers": {"displayText":"process early hint headers","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"process early hint headers","type":"dfn","url":"https://html.spec.whatwg.org/multipage/semantics.html#process-early-hint-headers"},
"https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeforstorage": {"displayText":"StructuredSerializeForStorage","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"structuredserializeforstorage","type":"dfn","url":"https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeforstorage"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker": {"displayText":"active service worker","export":true,"for_":["environment"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"active service worker","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url": {"displayText":"creation URL","export":true,"for_":["environment"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"creation url","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id": {"displayText":"id","export":true,"for_":["environment"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"id","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-target-browsing-context": {"displayText":"target browsing context","export":true,"for_":["environment"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"target browsing context","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-target-browsing-context"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-creation-url": {"displayText":"top-level creation URL","export":true,"for_":["environment"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"top-level creation url","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-creation-url"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin": {"displayText":"top-level origin","export":true,"for_":["environment"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"top-level origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global": {"displayText":"relevant global object","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"relevant global object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"},
"https://html.spec.whatwg.org/multipage/webappapis.html#environment": {"displayText":"environment","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"environment","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#environment"},
"https://html.spec.whatwg.org/multipage/webappapis.html#environment-discarding-steps": {"displayText":"environment discarding steps","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"environment discarding steps","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#environment-discarding-steps"},
"https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object": {"displayText":"environment settings object","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"environment settings object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"},
"https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source": {"displayText":"networking task source","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"networking task source","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source"},
"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task": {"displayText":"queue a global task","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"queue a global task","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"},
"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object": {"displayText":"relevant settings object","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"relevant settings object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"},
"https://httpwg.org/http-extensions/draft-ietf-httpbis-no-vary-search.html#name-comparing": {"displayText":"equivalent modulo search variance","export":true,"for_":[],"level":"","normative":true,"shortname":"no-vary-search","spec":"no-vary-search","status":"anchor-block","text":"equivalent modulo search variance","type":"dfn","url":"https://httpwg.org/http-extensions/draft-ietf-httpbis-no-vary-search.html#name-comparing"},
"https://httpwg.org/http-extensions/draft-ietf-httpbis-no-vary-search.html#name-data-model": {"displayText":"URL search variance","export":true,"for_":[],"level":"","normative":true,"shortname":"no-vary-search","spec":"no-vary-search","status":"anchor-block","text":"url search variance","type":"dfn","url":"https://httpwg.org/http-extensions/draft-ietf-httpbis-no-vary-search.html#name-data-model"},
"https://httpwg.org/http-extensions/draft-ietf-httpbis-no-vary-search.html#name-http-header-field-definitio": {"displayText":"No-Vary-Search","export":true,"for_":[],"level":"","normative":true,"shortname":"no-vary-search","spec":"no-vary-search","status":"anchor-block","text":"no-vary-search","type":"http-header","url":"https://httpwg.org/http-extensions/draft-ietf-httpbis-no-vary-search.html#name-http-header-field-definitio"},
"https://httpwg.org/http-extensions/draft-ietf-httpbis-no-vary-search.html#name-obtain-a-url-search-varianc": {"displayText":"obtain a URL search variance","export":true,"for_":[],"level":"","normative":true,"shortname":"no-vary-search","spec":"no-vary-search","status":"anchor-block","text":"obtain a url search variance","type":"dfn","url":"https://httpwg.org/http-extensions/draft-ietf-httpbis-no-vary-search.html#name-obtain-a-url-search-varianc"},
"https://httpwg.org/specs/rfc6265.html#set-cookie": {"displayText":"Set-Cookie","export":true,"for_":[],"level":"","normative":true,"shortname":"cookies","spec":"cookies","status":"anchor-block","text":"set-cookie","type":"http-header","url":"https://httpwg.org/specs/rfc6265.html#set-cookie"},
"https://httpwg.org/specs/rfc6265.html#storage-model": {"displayText":"receive a cookie","export":true,"for_":[],"level":"","normative":true,"shortname":"cookies","spec":"cookies","status":"anchor-block","text":"receive a cookie","type":"dfn","url":"https://httpwg.org/specs/rfc6265.html#storage-model"},
"https://infra.spec.whatwg.org/#assert": {"displayText":"assert","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"assert","type":"dfn","url":"https://infra.spec.whatwg.org/#assert"},
"https://infra.spec.whatwg.org/#boolean": {"displayText":"boolean","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"boolean","type":"dfn","url":"https://infra.spec.whatwg.org/#boolean"},
"https://infra.spec.whatwg.org/#implementation-defined": {"displayText":"implementation-defined","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"implementation-defined","type":"dfn","url":"https://infra.spec.whatwg.org/#implementation-defined"},
"https://infra.spec.whatwg.org/#iteration-break": {"displayText":"break","export":true,"for_":["iteration"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"break","type":"dfn","url":"https://infra.spec.whatwg.org/#iteration-break"},
"https://infra.spec.whatwg.org/#iteration-continue": {"displayText":"continue","export":true,"for_":["iteration"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"continue","type":"dfn","url":"https://infra.spec.whatwg.org/#iteration-continue"},
"https://infra.spec.whatwg.org/#list": {"displayText":"list","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"list","type":"dfn","url":"https://infra.spec.whatwg.org/#list"},
"https://infra.spec.whatwg.org/#list-append": {"displayText":"append","export":true,"for_":["list"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"append","type":"dfn","url":"https://infra.spec.whatwg.org/#list-append"},
"https://infra.spec.whatwg.org/#list-clone": {"displayText":"clone","export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"clone","type":"dfn","url":"https://infra.spec.whatwg.org/#list-clone"},
"https://infra.spec.whatwg.org/#list-contain": {"displayText":"contain","export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"contain","type":"dfn","url":"https://infra.spec.whatwg.org/#list-contain"},
"https://infra.spec.whatwg.org/#list-empty": {"displayText":"empty","export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"empty","type":"dfn","url":"https://infra.spec.whatwg.org/#list-empty"},
"https://infra.spec.whatwg.org/#list-is-empty": {"displayText":"is empty","export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"is empty","type":"dfn","url":"https://infra.spec.whatwg.org/#list-is-empty"},
"https://infra.spec.whatwg.org/#list-item": {"displayText":"item","export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"item","type":"dfn","url":"https://infra.spec.whatwg.org/#list-item"},
"https://infra.spec.whatwg.org/#list-iterate": {"displayText":"for each","export":true,"for_":["list","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"for each","type":"dfn","url":"https://infra.spec.whatwg.org/#list-iterate"},
"https://infra.spec.whatwg.org/#list-remove": {"displayText":"remove","export":true,"for_":["list","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"remove","type":"dfn","url":"https://infra.spec.whatwg.org/#list-remove"},
"https://infra.spec.whatwg.org/#list-size": {"displayText":"size","export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"size","type":"dfn","url":"https://infra.spec.whatwg.org/#list-size"},
"https://infra.spec.whatwg.org/#ordered-set": {"displayText":"ordered set","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"ordered set","type":"dfn","url":"https://infra.spec.whatwg.org/#ordered-set"},
"https://infra.spec.whatwg.org/#set-union": {"displayText":"union","export":true,"for_":["set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"union","type":"dfn","url":"https://infra.spec.whatwg.org/#set-union"},
"https://infra.spec.whatwg.org/#string": {"displayText":"string","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"string","type":"dfn","url":"https://infra.spec.whatwg.org/#string"},
"https://infra.spec.whatwg.org/#struct": {"displayText":"struct","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"struct","type":"dfn","url":"https://infra.spec.whatwg.org/#struct"},
"https://infra.spec.whatwg.org/#struct-item": {"displayText":"item","export":true,"for_":["struct","tuple"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"item","type":"dfn","url":"https://infra.spec.whatwg.org/#struct-item"},
"https://url.spec.whatwg.org/#concept-url": {"displayText":"URL","export":true,"for_":[],"level":"1","normative":true,"shortname":"url","spec":"url","status":"current","text":"url","type":"dfn","url":"https://url.spec.whatwg.org/#concept-url"},
"https://url.spec.whatwg.org/#concept-url-fragment": {"displayText":"fragment","export":true,"for_":["url"],"level":"1","normative":true,"shortname":"url","spec":"url","status":"current","text":"fragment","type":"dfn","url":"https://url.spec.whatwg.org/#concept-url-fragment"},
"https://url.spec.whatwg.org/#concept-url-origin": {"displayText":"origin","export":true,"for_":["url"],"level":"1","normative":true,"shortname":"url","spec":"url","status":"current","text":"origin","type":"dfn","url":"https://url.spec.whatwg.org/#concept-url-origin"},
"https://url.spec.whatwg.org/#concept-url-scheme": {"displayText":"scheme","export":true,"for_":["url"],"level":"1","normative":true,"shortname":"url","spec":"url","status":"current","text":"scheme","type":"dfn","url":"https://url.spec.whatwg.org/#concept-url-scheme"},
"https://w3c.github.io/ServiceWorker/#create-fetch-event-and-dispatch": {"displayText":"Create Fetch Event and Dispatch","export":false,"for_":[],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"create fetch event and dispatch","type":"dfn","url":"https://w3c.github.io/ServiceWorker/#create-fetch-event-and-dispatch"},
"https://w3c.github.io/ServiceWorker/#dom-clients-get": {"displayText":"get(id)","export":true,"for_":["Clients"],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"get(id)","type":"method","url":"https://w3c.github.io/ServiceWorker/#dom-clients-get"},
"https://w3c.github.io/ServiceWorker/#dom-clients-matchall": {"displayText":"matchAll()","export":true,"for_":["Clients"],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"matchAll()","type":"method","url":"https://w3c.github.io/ServiceWorker/#dom-clients-matchall"},
"https://w3c.github.io/ServiceWorker/#dom-fetchevent-resultingclientid": {"displayText":"resultingClientId","export":true,"for_":["FetchEvent"],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"resultingClientId","type":"attribute","url":"https://w3c.github.io/ServiceWorker/#dom-fetchevent-resultingclientid"},
"https://w3c.github.io/ServiceWorker/#fetchevent": {"displayText":"FetchEvent","export":true,"for_":[],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"FetchEvent","type":"interface","url":"https://w3c.github.io/ServiceWorker/#fetchevent"},
"https://w3c.github.io/ServiceWorker/#match-service-worker-registration": {"displayText":"Match Service Worker Registration","export":true,"for_":[],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"match service worker registration","type":"dfn","url":"https://w3c.github.io/ServiceWorker/#match-service-worker-registration"},
"https://w3c.github.io/hr-time/#dfn-current-high-resolution-time": {"displayText":"current high resolution time","export":true,"for_":[],"level":"3","normative":true,"shortname":"hr-time","spec":"hr-time-3","status":"current","text":"current high resolution time","type":"dfn","url":"https://w3c.github.io/hr-time/#dfn-current-high-resolution-time"},
"https://w3c.github.io/hr-time/#dom-domhighrestimestamp": {"displayText":"DOMHighResTimeStamp","export":true,"for_":[],"level":"3","normative":true,"shortname":"hr-time","spec":"hr-time-3","status":"current","text":"DOMHighResTimeStamp","type":"typedef","url":"https://w3c.github.io/hr-time/#dom-domhighrestimestamp"},
"https://w3c.github.io/navigation-timing/#dfn-create-the-navigation-timing-entry": {"displayText":"create the navigation timing entry","export":true,"for_":[],"level":"2","normative":true,"shortname":"navigation-timing","spec":"navigation-timing-2","status":"current","text":"create the navigation timing entry","type":"dfn","url":"https://w3c.github.io/navigation-timing/#dfn-create-the-navigation-timing-entry"},
"https://w3c.github.io/navigation-timing/#dom-navigationtimingtype": {"displayText":"NavigationTimingType","export":true,"for_":[],"level":"2","normative":true,"shortname":"navigation-timing","spec":"navigation-timing-2","status":"current","text":"NavigationTimingType","type":"enum","url":"https://w3c.github.io/navigation-timing/#dom-navigationtimingtype"},
"https://w3c.github.io/resource-timing/#dfn-delivery-type": {"displayText":"delivery type","export":true,"for_":["PerformanceResourceTiming"],"level":"","normative":true,"shortname":"resource-timing","spec":"resource-timing","status":"anchor-block","text":"delivery type","type":"dfn","url":"https://w3c.github.io/resource-timing/#dfn-delivery-type"},
"https://w3c.github.io/resource-timing/#dfn-setup-the-resource-timing-entry": {"displayText":"setup the resource timing entry","export":true,"for_":[],"level":"1","normative":true,"shortname":"resource-timing","spec":"resource-timing","status":"current","text":"setup the resource timing entry","type":"dfn","url":"https://w3c.github.io/resource-timing/#dfn-setup-the-resource-timing-entry"},
"https://w3c.github.io/resource-timing/#dom-performanceresourcetiming": {"displayText":"PerformanceResourceTiming","export":true,"for_":[],"level":"1","normative":true,"shortname":"resource-timing","spec":"resource-timing","status":"current","text":"PerformanceResourceTiming","type":"interface","url":"https://w3c.github.io/resource-timing/#dom-performanceresourcetiming"},
"https://w3c.github.io/webappsec-clear-site-data/#abstract-opdef-clear-site-data-for-response": {"displayText":"clear site data for response","export":true,"for_":[],"level":"1","normative":true,"shortname":"clear-site-data","spec":"clear-site-data","status":"current","text":"clear site data for response","type":"abstract-op","url":"https://w3c.github.io/webappsec-clear-site-data/#abstract-opdef-clear-site-data-for-response"},
"https://w3c.github.io/webappsec-clear-site-data/#abstract-opdef-parse-responses-clear-site-data-header": {"displayText":"parse response's Clear-Site-Data header","export":true,"for_":[],"level":"1","normative":true,"shortname":"clear-site-data","spec":"clear-site-data","status":"current","text":"parse response's Clear-Site-Data header","type":"abstract-op","url":"https://w3c.github.io/webappsec-clear-site-data/#abstract-opdef-parse-responses-clear-site-data-header"},
"https://w3c.github.io/webappsec-csp/#should-block-navigation-request": {"displayText":"Should navigation request of type be blocked by Content Security Policy?","export":true,"for_":[],"level":"3","normative":true,"shortname":"csp","spec":"csp3","status":"current","text":"should navigation request of type be blocked by content security policy?","type":"dfn","url":"https://w3c.github.io/webappsec-csp/#should-block-navigation-request"},
"https://w3c.github.io/webappsec-referrer-policy/#referrer-policy": {"displayText":"referrer policy","export":true,"for_":[],"level":"1","normative":true,"shortname":"referrer-policy","spec":"referrer-policy","status":"current","text":"referrer policy","type":"dfn","url":"https://w3c.github.io/webappsec-referrer-policy/#referrer-policy"},
"https://w3c.github.io/webappsec-secure-contexts/#potentially-trustworthy-url": {"displayText":"potentially trustworthy URL","export":true,"for_":[],"level":"1","normative":true,"shortname":"secure-contexts","spec":"secure-contexts","status":"current","text":"potentially trustworthy url","type":"dfn","url":"https://w3c.github.io/webappsec-secure-contexts/#potentially-trustworthy-url"},
"https://whatpr.org/html/11426/speculative-loading.html#copiap-origin": {"displayText":"origin","export":true,"for_":["cross-origin prefetch IP anonymization policy"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"origin","type":"dfn","url":"https://whatpr.org/html/11426/speculative-loading.html#copiap-origin"},
"https://whatpr.org/html/11426/speculative-loading.html#cross-origin-prefetch-ip-anonymization-policy": {"displayText":"cross-origin prefetch IP anonymization policy","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"cross-origin prefetch ip anonymization policy","type":"dfn","url":"https://whatpr.org/html/11426/speculative-loading.html#cross-origin-prefetch-ip-anonymization-policy"},
"https://whatpr.org/html/11426/speculative-loading.html#prefetch-candidate": {"displayText":"prefetch candidate","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"prefetch candidate","type":"dfn","url":"https://whatpr.org/html/11426/speculative-loading.html#prefetch-candidate"},
"https://whatpr.org/html/11426/speculative-loading.html#prefetch-ip-anonymization-policy": {"displayText":"prefetch IP anonymization policy","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"prefetch ip anonymization policy","type":"dfn","url":"https://whatpr.org/html/11426/speculative-loading.html#prefetch-ip-anonymization-policy"},
"https://whatpr.org/html/11426/speculative-loading.html#prerender-candidate": {"displayText":"prerender candidate","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"prerender candidate","type":"dfn","url":"https://whatpr.org/html/11426/speculative-loading.html#prerender-candidate"},
"https://whatpr.org/html/11426/speculative-loading.html#sec-speculation-tags": {"displayText":"Sec-Speculation-Tags","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"sec-speculation-tags","type":"http-header","url":"https://whatpr.org/html/11426/speculative-loading.html#sec-speculation-tags"},
"https://whatpr.org/html/11426/speculative-loading.html#sl-candidate-anonymization-policy": {"displayText":"anonymization policy","export":true,"for_":["prefetch candidate"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"anonymization policy","type":"dfn","url":"https://whatpr.org/html/11426/speculative-loading.html#sl-candidate-anonymization-policy"},
"https://whatpr.org/html/11426/speculative-loading.html#sl-candidate-url": {"displayText":"URL","export":true,"for_":["speculative load candidate"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"url","type":"dfn","url":"https://whatpr.org/html/11426/speculative-loading.html#sl-candidate-url"},
"https://whatpr.org/html/11426/speculative-loading.html#speculation-rule-tag": {"displayText":"speculation rule tag","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"speculation rule tag","type":"dfn","url":"https://whatpr.org/html/11426/speculative-loading.html#speculation-rule-tag"},
"https://whatpr.org/html/11426/speculative-loading.html#speculative-load-candidate": {"displayText":"speculative load candidate","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"speculative load candidate","type":"dfn","url":"https://whatpr.org/html/11426/speculative-loading.html#speculative-load-candidate"},
"https://wicg.github.io/nav-speculation/prerendering.html#http-headerdef-supports-loading-mode": {"displayText":"Supports-Loading-Mode","export":true,"for_":[],"level":"1","normative":true,"shortname":"prerendering-revamped","spec":"prerendering-revamped","status":"current","text":"supports-loading-mode","type":"http-header","url":"https://wicg.github.io/nav-speculation/prerendering.html#http-headerdef-supports-loading-mode"},
"https://wicg.github.io/nav-speculation/prerendering.html#prerendering-traversable-update-the-successor-for-activation": {"displayText":"update the successor for activation","export":false,"for_":["prerendering traversable"],"level":"1","normative":true,"shortname":"prerendering-revamped","spec":"prerendering-revamped","status":"current","text":"update the successor for activation","type":"dfn","url":"https://wicg.github.io/nav-speculation/prerendering.html#prerendering-traversable-update-the-successor-for-activation"},
"https://www.rfc-editor.org/rfc/rfc9651.html#name-items": {"displayText":"Item","export":true,"for_":["structured header"],"level":"","normative":true,"shortname":"rfc9651","spec":"rfc9651","status":"anchor-block","text":"item","type":"dfn","url":"https://www.rfc-editor.org/rfc/rfc9651.html#name-items"},
"https://www.rfc-editor.org/rfc/rfc9651.html#name-lists": {"displayText":"List","export":true,"for_":["structured header"],"level":"","normative":true,"shortname":"rfc9651","spec":"rfc9651","status":"anchor-block","text":"list","type":"dfn","url":"https://www.rfc-editor.org/rfc/rfc9651.html#name-lists"},
"https://www.rfc-editor.org/rfc/rfc9651.html#name-strings": {"displayText":"String","export":true,"for_":["structured header"],"level":"","normative":true,"shortname":"rfc9651","spec":"rfc9651","status":"anchor-block","text":"string","type":"dfn","url":"https://www.rfc-editor.org/rfc/rfc9651.html#name-strings"},
"https://www.rfc-editor.org/rfc/rfc9651.html#name-tokens": {"displayText":"Token","export":true,"for_":["structured header"],"level":"","normative":true,"shortname":"rfc9651","spec":"rfc9651","status":"anchor-block","text":"token","type":"dfn","url":"https://www.rfc-editor.org/rfc/rfc9651.html#name-tokens"},
"prerendering.html#get-the-supported-loading-modes": {"displayText":"getting the supported loading modes","export":true,"for_":[],"level":"","normative":true,"shortname":"prerendering-revamped","spec":"prerendering-revamped","status":"anchor-block","text":"getting the supported loading modes","type":"dfn","url":"prerendering.html#get-the-supported-loading-modes"},
"prerendering.html#prerendering-navigable": {"displayText":"prerendering navigable","export":true,"for_":[],"level":"","normative":true,"shortname":"prerendering-revamped","spec":"prerendering-revamped","status":"anchor-block","text":"prerendering navigable","type":"dfn","url":"prerendering.html#prerendering-navigable"},
"prerendering.html#prerendering-traversable": {"displayText":"prerendering traversable","export":true,"for_":[],"level":"","normative":true,"shortname":"prerendering-revamped","spec":"prerendering-revamped","status":"anchor-block","text":"prerendering traversable","type":"dfn","url":"prerendering.html#prerendering-traversable"},
"prerendering.html#supports-loading-mode-uncredentialed-prefetch": {"displayText":"uncredentialed-prefetch","export":true,"for_":["Supports-Loading-Mode"],"level":"","normative":true,"shortname":"prerendering-revamped","spec":"prerendering-revamped","status":"anchor-block","text":"uncredentialed-prefetch","type":"dfn","url":"prerendering.html#supports-loading-mode-uncredentialed-prefetch"},
};

function mkRefHint(link, ref) {
    const linkText = link.textContent;
    let dfnTextElements = '';
    if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
        // Give the original term if it's being displayed in a different way.
        // But allow casing differences, they're insignificant.
        dfnTextElements =
            mk.li({},
                mk.b({}, "Term: "),
                mk.span({}, ref.displayText)
            );
    }
    const forList = ref.for_;
    let forListElements;
    if(forList.length == 0) {
        forListElements = [];
    } else if(forList.length == 1) {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.span({}, forList[0]),
        );
    } else {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.ul({},
                ...forList.map(forItem =>
                    mk.li({},
                        mk.span({}, forItem)
                    ),
                ),
            ),
        );
    }
    const url = ref.url;
    const safeUrl = encodeURIComponent(url);
    const hintPanel = mk.aside({
        class: "ref-hint",
        id: `ref-hint-for-${safeUrl}`,
        "data-for": url,
        "aria-labelled-by": `ref-hint-for-${safeUrl}`,
    },
        mk.ul({},
            dfnTextElements,
            mk.li({},
                mk.b({}, "URL: "),
                mk.a({ href: url, class: "ref" }, url),
            ),
            mk.li({},
                mk.b({}, "Type: "),
                mk.span({}, `${ref.type}`),
            ),
            mk.li({},
                mk.b({}, "Spec: "),
                mk.span({}, `${ref.spec ? ref.spec : ''}`),
            ),
            forListElements
        ),
    );
    hintPanel.forLink = link;
    setupRefHintEventListeners(link, hintPanel);
    return hintPanel;
}

function hideAllRefHints() {
    queryAll(".ref-hint").forEach(el=>hideRefHint(el));
}

function hideRefHint(refHint) {
    const link = refHint.forLink;
    link.setAttribute("aria-expanded", "false");
    if(refHint.teardownEventListeners) {
        refHint.teardownEventListeners();
    }
    refHint.remove();
}

function showRefHint(link) {
    if(link.classList.contains("dfn-link")) return;
    const url = link.getAttribute("href");
    const refHintKey = link.getAttribute("data-refhint-key");
    let key = url;
    if(refHintKey) {
        key = refHintKey + "_" + url;
    }
    const ref = refsData[key];
    if(!ref) return;

    hideAllRefHints(); // Only display one at this time.

    const refHint = mkRefHint(link, ref);
    append(document.body, refHint);
    link.setAttribute("aria-expanded", "true");
    positionRefHint(refHint);
}

function setupRefHintEventListeners(link, refHint) {
    if (refHint.teardownEventListeners) return;
    // Add event handlers to hide the refHint after the user moves away
    // from both the link and refHint, if not hovering either within one second.
    let timeout = null;
    const startHidingRefHint = (event) => {
        if (timeout) {
            clearTimeout(timeout);
        }
        timeout = setTimeout(() => {
            hideRefHint(refHint);
        }, 1000);
    }
    const resetHidingRefHint = (event) => {
        if (timeout) clearTimeout(timeout);
        timeout = null;
    };
    link.addEventListener("mouseleave", startHidingRefHint);
    link.addEventListener("mouseenter", resetHidingRefHint);
    link.addEventListener("blur", startHidingRefHint);
    link.addEventListener("focus", resetHidingRefHint);
    refHint.addEventListener("mouseleave", startHidingRefHint);
    refHint.addEventListener("mouseenter", resetHidingRefHint);
    refHint.addEventListener("blur", startHidingRefHint);
    refHint.addEventListener("focus", resetHidingRefHint);

    refHint.teardownEventListeners = () => {
        // remove event listeners
        resetHidingRefHint();
        link.removeEventListener("mouseleave", startHidingRefHint);
        link.removeEventListener("mouseenter", resetHidingRefHint);
        link.removeEventListener("blur", startHidingRefHint);
        link.removeEventListener("focus", resetHidingRefHint);
        refHint.removeEventListener("mouseleave", startHidingRefHint);
        refHint.removeEventListener("mouseenter", resetHidingRefHint);
        refHint.removeEventListener("blur", startHidingRefHint);
        refHint.removeEventListener("focus", resetHidingRefHint);
    };
}

function positionRefHint(refHint) {
    const link = refHint.forLink;
    const linkPos = getBounds(link);
    refHint.style.top = linkPos.bottom + "px";
    refHint.style.left = linkPos.left + "px";

    const panelPos = refHint.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
        refHint.style.left = newLeft + "px";
    }
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function showRefHintListener(e) {
    // If the target isn't in a link (or is a link),
    // just ignore it.
    let link = e.target.closest("a");
    if(!link) return;

    // If the target is in a ref-hint panel
    // (aka a link in the already-open one),
    // also just ignore it.
    if(link.closest(".ref-hint")) return;

    // Otherwise, show the panel for the link.
    showRefHint(link);
}

function hideAllHintsListener(e) {
    // If the click is inside a ref-hint panel, ignore it.
    if(e.target.closest(".ref-hint")) return;
    // Otherwise, close all the current panels.
    hideAllRefHints();
}

document.addEventListener("DOMContentLoaded", () => {
    document.body.addEventListener("mousedown", showRefHintListener);
    document.body.addEventListener("focus", showRefHintListener);

    document.body.addEventListener("click", hideAllHintsListener);
});

window.addEventListener("resize", () => {
    // Hide any open ref hint.
    hideAllRefHints();
});
}
</script>
<script>/* Boilerplate: script-var-click-highlighting */
"use strict";
{
/*
Color-choosing design:

* Colors are ordered by goodness.
* On clicking a var, give it the earliest color
    with the lowest usage in the algorithm.
* On re-clicking, re-use the var's most recent color
    if that's not currently being used elsewhere.
*/

const COLOR_COUNT = 7;

document.addEventListener("click", e=>{
    if(e.target.nodeName == "VAR") {
        highlightSameAlgoVars(e.target);
    }
});

function highlightSameAlgoVars(v) {
    // Find the algorithm container.
    let algoContainer = findAlgoContainer(v);

    // Not highlighting document-global vars,
    // too likely to be unrelated.
    if(algoContainer == null) return;

    const varName = nameFromVar(v);
    if(!v.hasAttribute("data-var-color")) {
        const newColor = chooseHighlightColor(algoContainer, v);
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.setAttribute("data-var-color", newColor);
                el.setAttribute("data-var-last-color", newColor);
            }
        }
    } else {
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.removeAttribute("data-var-color");
            }
        }
    }
}
function findAlgoContainer(el) {
    while(el != document.body) {
        if(el.hasAttribute("data-algorithm")) return el;
        el = el.parentNode;
    }
    return null;
}
function nameFromVar(el) {
    return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
}
function colorCountsFromContainer(container) {
    const namesFromColor = Array.from({length:COLOR_COUNT}, x=>new Set());
    for(let v of container.querySelectorAll("var[data-var-color]")) {
        let color = +v.getAttribute("data-var-color");
        namesFromColor[color].add(nameFromVar(v));
    }

    return namesFromColor.map(x=>x.size);
}
function leastUsedColor(colors) {
    // Find the earliest color with the lowest count.
    let minCount = Infinity;
    let minColor = null;
    for(var i = 0; i < colors.length; i++) {
        if(colors[i] < minCount) {
            minColor = i;
            minCount = colors[i];
        }
    }
    return minColor;
}
function chooseHighlightColor(container, v) {
    const colorCounts = colorCountsFromContainer(container);
    if(v.hasAttribute("data-var-last-color")) {
        let color = +v.getAttribute("data-var-last-color");
        if(colorCounts[color] == 0) return color;
    }
    return leastUsedColor(colorCounts);
}
}
</script>